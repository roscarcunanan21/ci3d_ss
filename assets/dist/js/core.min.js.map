{"version":3,"sources":["core.js"],"names":["Array","prototype","filter","fun","TypeError","t","Object","this","len","thisp","arguments","i","call","val","res","push","undefined","indexOf","length","find","n","QueryString","query_string","window","pair","substring","vars","arr","animations_completed","ini_flexslider","$","scroll_to","toggleClass","first","animate","scrollTop","el","offset","top","isValidEmailAddress","emailAddress","RegExp","removeClass","menu_toggle","closest","slideshow","pauseOnAction","on","addClass","initiate_fancybox","afterLoad","preventDefault","e","padding","margin","flexslider","animation","slideshowSpeed","pauseOnHover","css","fancybox","closeBtn","event","type","width","target","height","scrollPos","scrolling","beforeShow","overflow-y","afterClose","helpers","overlay","locked","tpl","init_scrollers","attr","outerHeight","document","pos","to_url","response","url","each","data","post","removeAttr","fadeOut","fadeIn","form_submitted","test"],"mappings":"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","file":"core.min.js","sourcesContent":["/**\n* Add ECMA262-5 Array methods if not supported natively\n*/\n//extend for Array filter\nif (!Array.prototype.filter){\n  Array.prototype.filter = function(fun /*, thisp */) {\n    \"use strict\"; \n    if (this == null)\n      throw new TypeError(); \n      \n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun != \"function\")\n      throw new TypeError();\n \n    var res = [];\n    var thisp = arguments[1];\n    for (var i = 0; i < len; i++){\n      if (i in t){\n        var val = t[i]; // in case fun mutates this\n        if (fun.call(thisp, val, i, t))\n          res.push(val);\n      }\n    }\n    return res;\n  };\n}\n// extend for Array indexOf\nif (!('indexOf' in Array.prototype)) {\n    Array.prototype.indexOf= function(find, i /*opt*/) {\n        if (i===undefined) i= 0;\n        if (i<0) i+= this.length;\n        if (i<0) i= 0;\n        for (var n= this.length; i<n; i++)\n            if (i in this && this[i]===find)\n                return i;\n        return -1;\n    };\n}\n\nvar QueryString = function () {\n  // This function is anonymous, is executed immediately and \n  // the return value is assigned to QueryString!\n  var query_string = {};\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i=0;i<vars.length;i++) {\n    var pair = vars[i].split(\"=\");\n    \t// If first entry with this name\n    if (typeof query_string[pair[0]] === \"undefined\") {\n      query_string[pair[0]] = pair[1];\n    \t// If second entry with this name\n    } else if (typeof query_string[pair[0]] === \"string\") {\n      var arr = [ query_string[pair[0]], pair[1] ];\n      query_string[pair[0]] = arr;\n    \t// If third or later entry with this name\n    } else {\n      query_string[pair[0]].push(pair[1]);\n    }\n  } \n    return query_string;\n} ();\n\n\nvar animations_completed = false;\n\n\n$(document).ready(function() {\n\n\tvar ini_menu_toggle = menu_toggle();\n\tvar ini_flexslider = initiate_flexslider();\n\tvar ini_fancybox = initiate_fancybox();\n\tvar ini_scrollers = init_scrollers();\n\n\tif($('*[data-url]').length) {\n\t\t$.each($('*[data-url]'), function(){\n\t\t\tvar el \t= $(this);\n\t\t\tto_url \t= el.data('url');\n\t\t\turl \t= el.attr('href');\n\t\t\t$.post('ajax/code', {'data' : to_url}, function(response) {\n\t\t\t\tif(response) {\n\t\t\t\t\t//chekck to see if we have a payload\n\t\t \t\t\tif(url.indexOf('?') > 0) {\n\t\t \t\t\t\turl \t= url + '&pg='+response;\n\t\t \t\t\t} else {\n\t\t \t\t\t\turl \t= url + '?pg='+response;\n\t\t \t\t\t}\n\t\t\t\t\tel.attr('href', url).removeAttr('data-url');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t$('select').on('change', function() { $(this).addClass('selection-made'); });\n\n\tif ($('.form-thankyou').length)\n\t{\n\t\tvar pos = $('.form-thankyou').offset().top - $('header').outerHeight() - 150;\n\n\t\t$('html, body').animate({'scrollTop': pos}, 600, 'swing', function() {\n\t\t\t$('.form-thankyou').fadeOut(500, function() {\n\t\t\t\t$('.form-thankyou').fadeIn(500);\n\t\t\t});\n\t    });\n\t}\n\n\tif ($('.form-validation-errors').length)\n\t{\n\t\tvar pos = $('.form-validation-errors').offset().top - $('header').outerHeight() - 150;\n\n\t\t$('html, body').animate({'scrollTop': pos}, 600, 'swing', function() {\n\t\t\t$('.form-validation-errors').fadeOut(500, function() {\n\t\t\t\t$('.form-validation-errors').fadeIn(500);\n\t\t\t});\n\t    });\n\t}\n\n\t$('.js-fancybox').on('dragstart contextmenu', 'img', function(event) { event.preventDefault(); });\n\n\t$('.fancybox-inner').on('dragstart contextmenu', '.fancybox-image', function(event) { event.preventDefault(); });\n\n\tif ($('.js-next-section').length) {\n\t\t$('.js-next-section').on('click tap touch', function (e) {\n\t\t\te.preventDefault();\n\t\t\tscroll_to($(this).attr('href').substring(1));\n\t\t});\n\t}\n\n\tform_submitted = false \n\n\t$('form').on('submit', function(e) {\n\t\tif (form_submitted)\n\t\t{\n\t\t\te.preventDefault();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tform_submitted = true;\n\t\t}\n\t});\n    \n}); /* END DOCUMENT READY */\n\nfunction scroll_to(el) {\n\tif ($('#' + el).length) {\n\t\t$('html, body').animate({\n\t\t\tscrollTop: $('#' + el).offset().top - 50\n\t\t}, 600);\n\t}\n}\n\nfunction isValidEmailAddress(emailAddress) \n{\n\tvar pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n\treturn pattern.test(emailAddress);\n}\n\nfunction menu_toggle()\n{\n\tvar first = true;\n\tif ($('.menu-toggle').length)\n\t{\n\t\t$('.menu-toggle').on('click tap touch', function() {\n\t\t\t\n\t\t\t$('body').toggleClass('menu-open');\n\t\t\tif (first)\n\t\t\t{\n\t\t\t\tfirst = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('body').toggleClass('menu-close');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tif ($('.menu-close').length)\n\t{\n\t\t$('.menu-close').on('click tap touch', function() {\t\t\n\t\t\t$('body').removeClass('menu-open');\n\t\t\t$('body').addClass('menu-close');\n\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tif ($('.has-submenu').length)\n\t{\n\t\t$('.has-submenu .arrow').on('click tap touch', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$(this).closest('.has-submenu').toggleClass('open');\n\t\t});\n\t}\n}\n\nfunction initiate_flexslider() {\n\tif ($(\".flexslider\").length) {\n\n\t\t$('.hero-gallery .flexslider').flexslider({\n\t\t\tanimation: \"fade\",\n\t\t\tslideshowSpeed: 7000,\n\t\t\tslideshow: true,\n\t\t\tpauseOnHover: true,\n\t\t\tpauseOnAction: true,\n\t\t});\n\n\t\t$('.article__image .flexslider').flexslider({\n\t\t\tanimation: \"fade\",\n\t\t\tslideshowSpeed: 7000,\n\t\t\tslideshow: true,\n\t\t\tpauseOnHover: true,\n\t\t\tpauseOnAction: true,\n\t\t});\n\n\t}\n}\n\nfunction initiate_fancybox() {\n\tif ($(\".js-fancybox\").length) {\n\t\t$(\".js-fancybox\").fancybox({\n\t\t\tpadding: 0,\n\t\t\tafterLoad: function() { $('.fancybox-inner').on('dragstart contextmenu', '.fancybox-image', function(event) { event.preventDefault(); }); },\n\t\t});\n\t}\n\n\tif ($(\".js-fancybox-iframe\").length) {\n\t\t$(\".js-fancybox-iframe\").fancybox({\n\t\t\tpadding: 0,\n\t\t\tmargin: 0,\n\t\t\ttype: 'iframe',\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\tscrolling: 'no',\n\t\t\t// iframe: {\n\t\t\t// \tscrolling : 'no',\n\t\t\t// \tpreload   : true\n\t\t\t// },\n\t\t\tbeforeShow: function(){\n\t\t        $(\"body\").css({'overflow-y':'hidden'});\n\t\t    },\n\t\t    afterClose: function(){\n\t\t        $(\"body\").css({'overflow-y':'auto'});\n\t\t    },\n\t\t\thelpers : {\n\t\t        overlay : {\n\t\t            locked: false\n\t\t        }\n\t\t    },\n\t\t    tpl: {\n\t\t    \tcloseBtn : '<a title=\"Close\" class=\"custom-fancybox-close\" href=\"javascript:;\"><img src=\"/assets/images/icon-close.png\" alt=\"close\" /></a>',\n\t\t    }\n\t\t});\n\t}\n}\n\nfunction init_scrollers() \n{\n\tif($('.js-scroll').length)\t\n\t{\n\t\t$('.js-scroll').on('click tap touch', function(e){\n\t\t\te.preventDefault();\n\t\t\tvar target = $($(this).attr('href'));\n\t\t\tvar scrollPos = target.offset().top - $('header').outerHeight();\n\n\t\t\t$('html, body').animate({\n\t\t\tscrollTop: scrollPos\n\t\t\t}, ((scrollPos / 10000) * 800) + 1000 );\n\n\t\t});\n\t}\n}\n\n\n"]}