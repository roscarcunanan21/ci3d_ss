function _typeof(i){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}(i=>{"function"==typeof define&&define.amd?define(["jquery","videojs","imagesloaded","jquery-ui"],i):i(jQuery,videojs)})(function(x,j){x.BigVideo=function(i){var n,e,d,o={useFlashForFirefox:!0,forceAutoplay:!1,controls:!1,doLoop:!1,container:x("body"),shrinkable:!1},t={},r="#big-video-vid",s=x('<div id="big-video-wrap"></div>'),a=(x(""),16/9),c=0,l=.8,g=!1,v=!1,p=!1,h=!1,u=!1,f=[],b=x.extend({},o,i);function y(){var i=b.container.outerWidth()<x(window).width()?b.container.outerWidth():x(window).width(),o=b.container.outerHeight()<x(window).height()?b.container.outerHeight():x(window).height(),e=i/o;b.container.is(x("body"))&&x("html,body").css("height",x(window).height()>x("body").css("height","auto").height()?"100%":"auto"),e<a?"video"==d?(n.width(o*a).height(o),b.shrinkable?x(r).css("top",-(i/a-o)/2).css("left",0).css("height",i/a):x(r).css("top",0).css("left",-(o*a-i)/2).css("height",o),x(r+"_html5_api").css("width",o*a).css("height",o),x(r+"_flash_api").css("width",o*a).css("height",o)):x("#big-video-image").css({width:"auto",height:o,top:0,left:-(o*a-i)/2}):"video"==d?(n.width(i).height(i/a),x(r).css("top",-(i/a-o)/2).css("left",0).css("height",i/a),x(r+"_html5_api").css("width",x(r+"_html5_api").parent().width()+"px").css("height","auto"),x(r+"_flash_api").css("width",i).css("height",i/a)):x("#big-video-image").css({width:i,height:"auto",top:-(i/a-o)/2,left:0})}function m(i){i=i||"toggle";"pause"==(i="toggle"==i?p?"pause":"play":i)?(n.pause(),x("#big-video-control-play").css("background-position","-16px"),p=!1):"play"==i?(n.play(),x("#big-video-control-play").css("background-position","0"),p=!0):"skip"==i&&_()}function w(){n.play(),b.container.off("click",w)}function _(){++e===f.length&&(e=0),k(f[e])}function k(i){x(r).css("display","block"),d="video",n.src(i),p=!0,doLoop=u?(x("#big-video-control-container").css("display","none"),n.ready(function(){n.volume(0)}),!0):(x("#big-video-control-container").css("display","block"),n.ready(function(){n.volume(l)}),!1),x("#big-video-image").css("display","none"),x(r).css("display","block")}return t.init=function(){var i,o;g||(b.container.prepend(s),i=b.forceAutoplay?"autoplay":"",(n=x('<video id="'+r.substr(1)+'" class="video-js vjs-default-skin" height="1" width="1" preload="auto" data-setup="{}" '+i+" webkit-playsinline></video>")).css("position","absolute"),s.append(n),i=["html5","flash"],o=-1!=navigator.userAgent.toLowerCase().indexOf("firefox"),b.useFlashForFirefox&&o&&(i=["flash","html5"]),n=j(r.substr(1),{controls:!1,autoplay:!0,preload:"auto",techOrder:i}),b.controls&&(b.container.append('<div id="big-video-control-container"><div id="big-video-control"><a href="#" id="big-video-control-play"></a><div id="big-video-control-middle"><div id="big-video-control-bar"><div id="big-video-control-bound-left"></div><div id="big-video-control-progress"></div><div id="big-video-control-track"></div><div id="big-video-control-bound-right"></div></div></div>\t<div id="big-video-control-timer"></div></div></div>'),x("#big-video-control-container").css("display","none"),x("#big-video-control-timer").css("display","none"),x("#big-video-control-track").slider({animate:!0,step:.01,slide:function(i,o){v=!0,x("#big-video-control-progress").css("width",o.value-.16+"%"),n.currentTime(o.value/100*n.duration())},stop:function(i,o){v=!1,n.currentTime(o.value/100*n.duration())}}),x("#big-video-control-bar").click(function(i){n.currentTime(i.offsetX/x(this).width()*n.duration())}),x("#big-video-control-play").click(function(i){i.preventDefault(),m("toggle")}),n.on("timeupdate",function(){var i,o,e;!v&&n.currentTime()/n.duration()&&(o=n.currentTime(),i=Math.floor(o/60),(o=Math.floor(o)-60*i)<10&&(o="0"+o),e=n.currentTime()/n.duration()*100,x("#big-video-control-track").slider("value",e),x("#big-video-control-progress").css("width",e-.16+"%"),x("#big-video-control-timer").text(i+":"+o+"/"+c))})),y(),p=!(g=!0),b.forceAutoplay&&x("body").on("click",w),x("#big-video-vid_flash_api").attr("scale","noborder").attr("width","100%").attr("height","100%"),x(window).on("resize.bigvideo",function(){y()}),n.on("loadedmetadata",function(i){a=document.getElementById("big-video-vid_flash_api")?document.getElementById("big-video-vid_flash_api").vjs_getProperty("videoWidth")/document.getElementById("big-video-vid_flash_api").vjs_getProperty("videoHeight"):x("#big-video-vid_html5_api").prop("videoWidth")/x("#big-video-vid_html5_api").prop("videoHeight"),y();var o=Math.round(n.duration()),e=Math.floor(o/60),o=o-60*e;c=e+":"+(o=o<10?"0"+o:o)}),n.on("ended",function(){b.doLoop&&(n.currentTime(0),n.play()),h&&_()}))},t.show=function(i,o){if(((u=!0===(o=void 0===o?{}:o).ambient)||o.doLoop)&&(b.doLoop=!0),"string"==typeof i){var e=0<i.lastIndexOf("?")?i.substring(i.lastIndexOf(".")+1,i.lastIndexOf("?")):i.substring(i.lastIndexOf(".")+1);"jpg"==e||"gif"==e||"png"==e?(t=i,x("#big-video-image").remove(),n.pause(),x(r).css("display","none"),x("#big-video-control-container").css("display","none"),d="image",t=x('<img id="big-video-image" src='+t+" />"),s.append(t),x("#big-video-image").imagesLoaded(function(){a=x("#big-video-image").width()/x("#big-video-image").height(),y()})):"mp4"!=e&&"ogg"!=e&&"ogv"!=e&&"webm"!=e||(k(i),o.onplayVideon&&o.onShown(),h=!1)}else if(x.isArray(i))k(i);else{if("object"!==_typeof(i)||!i.src||!i.type)throw"BigVideo.show received invalid input for parameter source";k([i])}var t},t.showPlaylist=function(i,o){if(!x.isArray(i))throw"BigVideo.showPlaylist parameter files accepts only arrays";((u=!0===(o=void 0===o?{}:o).ambient)||o.doLoop)&&(b.doLoop=!0),f=i,e=0,this.show(f[e]),o.onShown&&o.onShown(),h=!0},t.getPlayer=function(){return n},t.remove=t.dispose=function(){g=!1,s.remove(),x(window).off("resize.bigvideo"),n&&(n.off("loadedmetadata"),n.off("ended"),n.dispose())},t.triggerPlayer=function(i){m(i)},t}});
//# sourceMappingURL=bigvideo.min.js.map
