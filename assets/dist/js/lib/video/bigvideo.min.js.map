{"version":3,"sources":["lib/video/bigvideo.js"],"names":["factory","define","amd","jQuery","videojs","$","BigVideo","options","player","currMediaIndex","currMediaType","defaults","useFlashForFirefox","forceAutoplay","controls","shrinkable","doLoop","container","video","vidEl","vidDur","wrap","defaultVolume","mediaAspect","isInitialized","isPlaying","isSeeking","isQueued","isAmbient","settings","playlist","updateSize","is","containerW","containerAspect","outerWidth","window","width","containerH","outerHeight","height","css","top","left","initPlayControl","animate","step","slide","parent","currentTime","stop","ui","playControl","a","action","pause","source","append","nextMedia","play","off","setUpAutoPlay","length","playVideo","videoTechOrder","autoplay","ready","volume","init","isFirefox","prepend","autoPlayString","substr","navigator","userAgent","toLowerCase","indexOf","preload","techOrder","seconds","slider","e","value","duration","click","offsetX","this","preventDefault","minutes","progress","Math","floor","currTime","text","showPoster","onplayVideon","attr","_typeof","on","data","document","getElementById","vjs_getProperty","prop","dur","round","durMinutes","showPlaylist","files","durSeconds","show","undefined","ambient","triggerPlayer","ext","lastIndexOf","substring","remove","bgImage","imagesLoaded","onShown","isArray","src","type","getPlayer","dispose"],"mappings":"kPAMAA,IAKuB,YAAlB,OAAOC,QAAyBA,OAAOC,IAD3CD,OAAA,CAIE,SAHF,UAKE,eACA,aAEDD,CAAM,EAEPA,EAAAG,OAAAC,OAAA,CACA,GAEC,SAASC,EAAGD,GAAbC,EAAEC,SAGA,SAAAC,GADD,IAaCC,EAaAC,EACAC,EAxBAC,EAAA,CADAC,mBAGc,CAAA,EAAdC,cAGUR,CAAAA,EAFVS,SAGAC,CAAAA,EAFAC,OAGA,CAAA,EAFAC,UAIGX,EAAAA,MAAa,EAHhBS,WAIM,CAAA,CAHP,EAMCG,EAAU,GAFVC,EAIAC,iBAHAC,EAIAC,EAAAA,iCAAmB,EAFnBC,GAGAC,EAAAA,EAAAA,EACS,GAAG,GAHZJ,EAIAK,EAHAH,EAIW,GAHXE,EAIY,CAAA,EAHZE,EAIQ,CAAA,EAHRD,EAIAhB,CAAAA,EAHAkB,EAIAjB,CAAAA,EAHAkB,EAKGC,CAAAA,EAJHC,EAMQC,GAKRF,EAAIA,EAASZ,OAAAA,GAAUe,EAAWzB,CAAI,EALvC,SAOCwB,IANA,IAQAE,EAAIC,EAAkBX,UAAWY,WAAE,EAAA9B,EAAA+B,MAAA,EAAAC,MAAA,EAAAR,EAAAZ,UAAAkB,WAAA,EAAA9B,EAAA+B,MAAA,EAAAC,MAAA,EAPlCC,EAQAT,EAAAZ,UAAAsB,YAAA,EAAAlC,EAAA+B,MAAA,EAAAI,OAAA,EAAAX,EAAAZ,UAAAsB,YAAA,EAAAlC,EAAA+B,MAAA,EAAAI,OAAA,EAPAN,EAQIxB,EAAiB4B,EANlBT,EAUGA,UAASd,GAAAA,EAAAA,MAAY,CAAA,GAT3BV,EAAE,WAUEc,EAAKsB,IACLA,SAAUpC,EAAE+B,MACR,EAAAI,OAASF,EAAAA,EAAAA,MAAU,EAACf,IAAAA,SAAYU,MAAAA,EAAAA,OAAa,EACjDQ,OAAI,MAASH,EAVdJ,EAgBFX,EAIQ,SAlBLb,GACHF,EACE6B,MAoBFC,EAAAf,CAAA,EAnBEiB,OAoBAF,CAAA,EAnBGT,EAqBId,WAMXV,EAACc,CAAM,EACNsB,IAAA,MAAA,EAAAR,EAAAV,EAAAe,GAAA,CAAA,EACAG,IAAI/B,OAAAA,CAAAA,EApBA+B,IAqBHjC,SACE6B,EAAMJ,CACCA,EA/BR5B,EAAEc,CAqBDqB,EApBCC,IAqBDC,MAAK,CAAA,EApBJD,IAqBDE,OAAK,EAAEL,EAAUf,EAAYU,GAACA,CAAU,EApBvCQ,IAqBA,SAAAH,CAAA,EAdHjC,EAAEc,EA0BAA,YAAM,EAzBNsB,IA4BD,QAAMH,EAACf,CACF,EA5BJkB,IA8BF,SAAMH,CAAA,EA7BNjC,EAAEc,EA8BF,YAAA,EA7BEsB,IA8BD,QAACH,EAAkBf,CACd,EA9BJkB,IAAI,SA+BGR,CAAU,GA5BnB5B,EAAE,kBA+BK,EA9BLoC,IA+BA,CA9BAJ,MA+BH,OACDG,OAAAF,EACDI,IAAA,EAEAC,KAAA,EAASC,EAAAA,EAAkBX,GAAA,CAC1B,CAAA,EAkBA,SAAAvB,GA7CEF,EA+CD6B,MAACJ,CAAA,EA7CEO,OAAOP,EAAWV,CAAW,EAC/BlB,EA8CFc,CAAA,EACCsB,IAAC,MAAA,EAAAR,EAAAV,EAAkCe,GAAC,CAAA,EA7CjCG,IA8CHI,OAAS,CAAA,EA7CNJ,IA8CHK,SAAUb,EAAAV,CAAA,EA7CTlB,EAAEc,EA8CE,YAAL4B,EA7CGN,IA8CFf,QAASrB,EAAAc,EAAO,YAAA,EAAA6B,OAAA,EAAAX,MAAA,EAAA,IAAA,EA7CdI,IA8CD,SAAC,MAAA,EA7CFpC,EAAEc,EA8CFX,YAAOyC,EA7CLR,IA8CF,QAAAR,CAAA,EA7CEQ,IA8CHS,SAAKjB,EAAWkB,CAAI,GA3CnB9C,EAAE,kBA8CH,EACAoC,IAAC,CACDJ,MAACJ,EA7CEO,OA8CIS,OACPP,IAAC,EAAAT,EAAAV,EAAAe,GAAA,EACDK,KAAC,CA7CC,CAAC,CAGL,CA4DA,SAqDCS,EAAAC,GACCC,EAACD,GAAA,SAEF,UAtDwBC,EAAV,UAAVA,EAA6B7B,EAAY,QAAU,OAsDvD6B,IApDC9C,EAqDDA,MAAO+C,EApDNlD,EAqDDA,yBAAuB,EAAAoC,IAAO,sBAAA,OAAA,EApD7BhB,EAqDC,CAAA,GAEF,QAAA6B,GApDC9C,EAqDDE,KAAAA,EApDCL,EAqDD,yBAAgB,EAAAoC,IAAA,sBAAiCe,GAAAA,EApDhD/B,EAqDIgC,CAAAA,GAEH,QAAAH,GArDDI,EAsDAnC,CApDF,CAEA,SAuDAjB,IAtDCE,EAuDImD,KAACnC,EAtDLK,EAuDCZ,UAAA2C,IAAA,QAAAC,CAAA,CAtDF,CAEA,SAuDErD,IAtDDC,EAAAA,IAwDmBqB,EAACgC,SAAArD,EAAA,GAtDpBsD,EAwDKC,EAAAA,EAAyB,CAvD/B,CAEA,SAwDED,EAAaP,GArDdnD,EAAEc,CAwDD,EAAAsB,IAAA,UAAA,OAAA,EAvDD/B,EAwDUN,QAvDVI,EAwDEM,IAAAA,CAAS,EAvDXW,EAwDEwC,CAAAA,EAlDDjD,OALGY,GACHvB,EAAE,8BAwDS2D,EAAAA,IAAAA,UAAAA,MAAAA,EAvDXxD,EAwDE0D,MAAA,WAvDD1D,EAAO2D,OAAO,CAAC,CAChB,CAAC,EAyDGtC,CAAAA,IAtDJxB,EAAE,8BAwDF,EAAAoC,IAAA,UAAA,OAAA,EAvDAjC,EAwDAuB,MAAAA,WAvDCvB,EAwDDgB,OAAAA,CAAoB,CAvDpB,CAAC,EA0DGK,CAAAA,GAvDLxB,EAAE,kBAyDD,EAAAoC,IAAA,UAAA,MAAA,EAxDDpC,EAAEc,CA0DC,EAAAsB,IAAA,UAAA,OAAA,CAzDJ,CAuLA,OAjKAnC,EAAS8D,KA+DC,WA9DT,IAQKJ,EAkERK,EA1EQ7C,IAEJK,EA+DCZ,UAAYqD,QAAEjD,CAAA,EA9DXkD,EA+DS1C,EAAAhB,cAAA,WAAA,IA9DbL,EA+DCH,EAAA,cAAAc,EAAAqD,OAAA,CAAA,EAAA,2FAAAD,EAAA,8BAAA,GACC9B,IAAA,WAAA,UAAA,EA9DFpB,EA+DDoC,OAAAjD,CAAA,EA7DKwD,EAAiB,CAAC,QAAQ,SAkElCK,EAAA,CAAA,GADAI,UAAAC,UAAAC,YAAA,EACAC,QAAA,SAAA,EACA/C,EAAAjB,oBAAAyD,IACAL,EAAA,CAAA,QAAA,UAEAxD,EAAAJ,EAAAe,EAAAqD,OAAA,CAAA,EAAA,CACA1D,SAAA,CAAA,EACAmD,SAAA,CAAA,EACAY,QAAA,OACAC,UAAAd,CACE1D,CAAAA,EAGCuB,EAAID,WAxMJC,EA+CCJ,UAAYgC,OAhBPsB,maAgBY,EA5ClB1E,EAAE,8BAgD0B,EAAEoC,IAAI,UAAA,MAAA,EA/ClCpC,EAAE,0BAgDe,EAAAoC,IAAA,UAAA,MAAA,EA7CjBpC,EAAE,0BAgDF,EAAA2E,OAAA,CACDnC,QAAA,CAAA,EAEAC,KAAA,IAhDEC,MAiDDvC,SAAayE,EAAA9B,GAhDXzB,EAiDOT,CAAAA,EACVZ,EAAA,6BAAA,EAAAoC,IAAA,QAAAU,EAAA+B,MAAA,IAAA,GAAA,EAEA1E,EAAAyC,YAAqBE,EAAA+B,MAAA,IAAA1E,EAAA2E,SAAA,CAAA,CAjDnB,EACAjC,KAkDD,SAAIzC,EAAAA,GAjDFiB,EAkDQI,CAAAA,EACXtB,EAAAyC,YAAAE,EAAA+B,MAAA,IAAA1E,EAAA2E,SAAA,CAAA,CAEA,CAlDC,CAAC,EACD9E,EAAE,wBAoDoB,EAAC+E,MAAO,SAACH,GAnD9BzE,EAoDDE,YAAgBuE,EAAAI,QAAOhF,EAAAiF,IAAA,EAAAjD,MAAA,EAAA7B,EAAA2E,SAAA,CAAA,CAnDvB,CAAC,EACD9E,EAAE,yBAoDc,EAAA+E,MAAA,SAAAH,GAnDfA,EAoDDM,eAAe,EAnDdnC,EAoDE,QAAA,CAnDH,CAAC,EACD5C,EAoDEA,GAAAA,aAAgB,WAnDjB,IAsDAgF,EACCT,EAlDIU,EA+CL,CAAC/D,GAAClB,EAAAyC,YAAA,EAAAzC,EAAA2E,SAAA,IACFnE,EAASR,EAAIyC,YAAA,EACbuC,EAAME,KAAAC,MAAAC,EAAA,EAAA,GACLb,EAACW,KAAAC,MAAAC,CAAA,EAAgCnD,GAAI+C,GAC/BtB,KAAMa,EAAA,IAAUA,GAnDlBU,EAoDGtB,EAAO7C,YAAc,EAAAd,EAAA2E,SAAA,EAAA,IAnD5B9E,EAAE,0BAoDD,EAAA2E,OAAA,QAAAS,CAAA,EAnDDpF,EAAE,6BAoDW,EAAAoC,IAAA,QAAAgD,EAAA,IAAA,GAAA,EAnDbpF,EAoDF,0BAAA,EAAAwF,KAAAL,EAAA,IAAAT,EAAA,IAAA3D,CAAA,EAlDA,CAAC,GAsGAW,EAgEO,EA9DPN,EAgECqE,EAjEDtE,EAgEW,CAAA,GA7DPK,EAgEHkC,eA/DA1D,EAAE,MAgEF,EAAIE,GAAAA,QAAQwF,CAAcxF,EA7D3BF,EAgED,0BAAqBmD,EA/DlBwC,KAgEF,QAAA,UAAA,EA/DEA,KAgEFjC,QAAUP,MAAO,EAClBwC,KAAC,SAAUC,MAAOzC,EA7DjBnD,EAAE+B,MAgEF2B,EAAAA,GAAS,kBAAU,WA/DlBhC,EAgEK,CA/DN,CAAC,EAEDvB,EAgED0F,GAAA,iBAAA,SAAAC,GAGD5E,EAFC6E,SAAAC,eAAA,yBAAA,EAEDD,SAAAC,eAAA,yBAAA,EAAAC,gBAAA,YAAA,EAAAF,SAAAC,eAAA,yBAAA,EAAAC,gBAAA,aAAA,EAGFjG,EAAA,0BAAA,EAAAkG,KAAA,YAAA,EAAAlG,EAAA,0BAAA,EAAAkG,KAAA,aAAA,EAEAxE,EAAA,EACA,IAAAyE,EAAAd,KAAAe,MAAAjG,EAAA2E,SAAA,CAAA,EACAuB,EAAAhB,KAAAC,MAAAa,EAAA,EAAA,EACElG,EAASqG,EAAyBC,GAAVF,EA9DrBtF,EAgEKsF,EAAA,KADaG,EAApBA,EAAeD,GAAQ,IAAAC,EAChBA,EA/DN,CAAC,EAEDrG,EAiEDoB,GAAAA,QAAYrB,WACZsB,EAAID,SAEJE,EAAAA,YAAgB,CAAA,EAChBrB,EAAAA,KAAAA,GAEAkB,GACAA,EAAQ,CAhEP,CAAC,EAEH,EAaArB,EAoECwG,KAAA,SAAAtD,EAAAjD,GA/DA,KAHAqB,EAAgC,CAAA,KAmEhCrB,EAAAwG,KAAAA,IAAAxG,EAAA,GAnEYA,GAAQyG,UAqErBzG,EAAAS,UAAAa,EAAAb,OAAA,CAAA,GAEsB,UAAtBV,OAAS2G,EAAgB,CAEzB,IAACC,EAAA,EAAA1D,EAAA2D,YAAA,GAAA,EAAA3D,EAAA4D,UAAA5D,EAAA2D,YAAA,GAAA,EAAA,EAAA3D,EAAA2D,YAAA,GAAA,CAAA,EAAA3D,EAAA4D,UAAA5D,EAAA2D,YAAA,GAAA,EAAA,CAAA,EAEM7G,OAAP4G,GAAe,OAAAA,GAAA,OAAAA,GAxHA1D,EA0HfA,EArLCnD,EAAE,kBA6DC,EAAAgH,OAAA,EA1DH7G,EAAO+C,MA8DJ,EA7DHlD,EAAEc,CAAK,EA8DJI,IAAAA,UAAc6E,MAAAA,EA7DjB/F,EAAE,8BA8DO,EAAAoC,IAAA,UAAA,MAAA,EA3DT/B,EA8DE,QA7DE4G,EA8DFvF,EAAAA,iCAAYyB,EAAA,KAAA,EA7DdnC,EAAKoC,OA8DC+C,CAAMd,EA5DZrF,EAAE,kBA8DIwG,EAAUU,aAASb,WA7DxBnF,EA8DKsF,EAAAA,kBAAiBA,EAAAA,MAAW,EAAIA,EAAAA,kBAAU,EAAArE,OAAA,EA7D/CT,EA8DCX,CA7DF,CAAC,GAuKF,OAAA8F,GAAA,OAAAA,GAAA,OAAAA,GAAA,QAAAA,IArEGnD,EAAUP,CAAM,EACZjD,EAAQwF,cAAcxF,EAAQiH,QAAQ,EAC1C7F,EAAW,CAAA,EAEb,MAAO,GAAItB,EAAEoH,QAAQjE,CAAM,EAE1BO,EAAUP,CAAM,MACV,CAAA,GAAuB,WAAnByC,QAAOzC,CAAM,GAAkBA,CAAAA,EAAOkE,KAAOlE,CAAAA,EAAOmE,KAM9D,KAAM,4DAHN5D,EAAU,CAACP,EAAO,CAInB,CAjID,IA6DeA,CAqEf,EAUAlD,EAASqG,aAAe,SAAUC,EAAOrG,GACxC,GAAI,CAACF,EAAEoH,QAAQb,CAAK,EACnB,KAAM,8DAIPhF,EAAgC,CAAA,KADLrB,EAAXwG,KAAAA,IAAZxG,EAAiC,GACzBA,GAAQyG,UACHzG,EAAQS,UAAQa,EAASb,OAAS,CAAA,GAEnDc,EAAW8E,EACXnG,EAAiB,EACjB6E,KAAKwB,KAAKhF,EAASrB,EAAe,EAC9BF,EAAQiH,SAASjH,EAAQiH,QAAQ,EACrC7F,EAAW,CAAA,CACZ,EAGArB,EAASsH,UAAY,WACpB,OAAOpH,CACR,EAGAF,EAAS+G,OAAS/G,EAASuH,QAAU,WACpCrG,EAAgB,CAAA,EAEhBH,EAAKgG,OAAO,EACZhH,EAAE+B,MAAM,EAAEwB,IAAI,iBAAiB,EAE5BpD,IACFA,EAAOoD,IAAI,gBAAgB,EAC3BpD,EAAOoD,IAAI,OAAO,EAClBpD,EAAOqH,QAAQ,EAEjB,EAIAvH,EAAS2G,cAAgB,SAAS3D,GACjCF,EAAYE,CAAM,CACnB,EAEOhD,CAER,CACD,CAAC","file":"bigvideo.min.js","sourcesContent":["/*\n\tBigVideo - The jQuery Plugin for Big Background Video (and Images)\n\tby John Polacek (@johnpolacek)\n\n\tDual licensed under MIT and GPL.\n\n\tDependencies: jQuery, jQuery UI (Slider), Video.js, ImagesLoaded\n*/\n\n(function (factory) {\n\t'use strict';\n\tif (typeof define === 'function' && define.amd) {\n\t\t// Register as an anonymous AMD module:\n\t\tdefine([\n\t\t\t'jquery',\n\t\t\t'videojs',\n\t\t\t'imagesloaded',\n\t\t\t'jquery-ui'\n\t\t], factory);\n\t} else {\n\t\tfactory(jQuery, videojs);\n\t}\n})(function($, videojs) {\n\n\t$.BigVideo = function(options) {\n\n\t\tvar defaults = {\n\t\t\t// If you want to use a single mp4 source, set as true\n\t\t\tuseFlashForFirefox:true,\n\t\t\t// If you are doing a playlist, the video won't play the first time\n\t\t\t// on a touchscreen unless the play event is attached to a user click\n\t\t\tforceAutoplay:false,\n\t\t\tcontrols:false,\n\t\t\tdoLoop:false,\n\t\t\tcontainer:$('body'),\n\t\t\tshrinkable:false\n\t\t};\n\n\t\tvar BigVideo = {},\n\t\t\tplayer,\n\t\t\tvidEl = '#big-video-vid',\n\t\t\twrap = $('<div id=\"big-video-wrap\"></div>'),\n\t\t\tvideo = $(''),\n\t\t\tmediaAspect = 16/9,\n\t\t\tvidDur = 0,\n\t\t\tdefaultVolume = 0.8,\n\t\t\tisInitialized = false,\n\t\t\tisSeeking = false,\n\t\t\tisPlaying = false,\n\t\t\tisQueued = false,\n\t\t\tisAmbient = false,\n\t\t\tplaylist = [],\n\t\t\tcurrMediaIndex,\n\t\t\tcurrMediaType;\n\n\t\tvar settings = $.extend({}, defaults, options);\n\n\t\tfunction updateSize() {\n\t\t\tvar containerW = settings.container.outerWidth() < $(window).width() ? settings.container.outerWidth() : $(window).width(),\n\t\t\t\tcontainerH = settings.container.outerHeight() < $(window).height() ? settings.container.outerHeight() : $(window).height(),\n\t\t\t\tcontainerAspect = containerW/containerH;\n\n\t\t\tif (settings.container.is($('body'))) {\n\t\t\t\t$('html,body').css('height',$(window).height() > $('body').css('height','auto').height() ? '100%' : 'auto');\n\t\t\t}\n\n\t\t\tif (containerAspect < mediaAspect) {\n\t\t\t\t// taller\n\t\t\t\tif (currMediaType == 'video') {\n\t\t\t\t\tplayer\n\t\t\t\t\t\t.width(containerH*mediaAspect)\n\t\t\t\t\t\t.height(containerH);\n\t\t\t\t\tif (!settings.shrinkable) {\n\t\t\t\t\t\t$(vidEl)\n\t\t\t\t\t\t\t.css('top',0)\n\t\t\t\t\t\t\t.css('left',-(containerH*mediaAspect-containerW)/2)\n\t\t\t\t\t\t\t.css('height',containerH);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(vidEl)\n\t\t\t\t\t\t\t.css('top',-(containerW/mediaAspect-containerH)/2)\n\t\t\t\t\t\t\t.css('left',0)\n\t\t\t\t\t\t\t.css('height',containerW/mediaAspect);\n\t\t\t\t\t}\n\t\t\t\t\t$(vidEl+'_html5_api')\n\t\t\t\t\t\t.css('width',containerH*mediaAspect)\n\t\t\t\t\t\t.css('height',containerH);\n\t\t\t\t\t$(vidEl+'_flash_api')\n\t\t\t\t\t\t.css('width',containerH*mediaAspect)\n\t\t\t\t\t\t.css('height',containerH);\n\t\t\t\t} else {\n\t\t\t\t\t// is image\n\t\t\t\t\t$('#big-video-image')\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\theight: containerH,\n\t\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\t\tleft:-(containerH*mediaAspect-containerW)/2\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// wider\n\t\t\t\tif (currMediaType == 'video') {\n\t\t\t\t\tplayer\n\t\t\t\t\t\t.width(containerW)\n\t\t\t\t\t\t.height(containerW/mediaAspect);\n\t\t\t\t\t$(vidEl)\n\t\t\t\t\t\t.css('top',-(containerW/mediaAspect-containerH)/2)\n\t\t\t\t\t\t.css('left',0)\n\t\t\t\t\t\t.css('height',containerW/mediaAspect);\n\t\t\t\t\t$(vidEl+'_html5_api')\n\t\t\t\t\t\t.css('width',$(vidEl+'_html5_api').parent().width()+\"px\")\n\t\t\t\t\t\t.css('height','auto');\n\t\t\t\t\t$(vidEl+'_flash_api')\n\t\t\t\t\t\t.css('width',containerW)\n\t\t\t\t\t\t.css('height',containerW/mediaAspect);\n\t\t\t\t} else {\n\t\t\t\t\t// is image\n\t\t\t\t\t$('#big-video-image')\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\twidth: containerW,\n\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\ttop:-(containerW/mediaAspect-containerH)/2,\n\t\t\t\t\t\t\tleft:0\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction initPlayControl() {\n\t\t\t// create video controls\n\t\t\tvar markup = ''+\n\t\t\t\t'<div id=\"big-video-control-container\">'+\n\t\t\t\t\t'<div id=\"big-video-control\">'+\n\t\t\t\t\t\t'<a href=\"#\" id=\"big-video-control-play\"></a>'+\n\t\t\t\t\t\t'<div id=\"big-video-control-middle\">'+\n\t\t\t\t\t\t\t'<div id=\"big-video-control-bar\">'+\n\t\t\t\t\t\t\t\t'<div id=\"big-video-control-bound-left\"></div>'+\n\t\t\t\t\t\t\t\t'<div id=\"big-video-control-progress\"></div>'+\n\t\t\t\t\t\t\t\t'<div id=\"big-video-control-track\"></div>'+\n\t\t\t\t\t\t\t\t'<div id=\"big-video-control-bound-right\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t'\t<div id=\"big-video-control-timer\"></div>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t'</div>';\n\t\t\tsettings.container.append(markup);\n\n\t\t\t// hide until playVideo\n\t\t\t$('#big-video-control-container').css('display','none');\n\t\t\t$('#big-video-control-timer').css('display','none');\n\n\t\t\t// add events\n\t\t\t$('#big-video-control-track').slider({\n\t\t\t\tanimate: true,\n\t\t\t\tstep: 0.01,\n\t\t\t\tslide: function(e,ui) {\n\t\t\t\t\tisSeeking = true;\n\t\t\t\t\t$('#big-video-control-progress').css('width',(ui.value-0.16)+'%');\n\t\t\t\t\tplayer.currentTime((ui.value/100)*player.duration());\n\t\t\t\t},\n\t\t\t\tstop:function(e,ui) {\n\t\t\t\t\tisSeeking = false;\n\t\t\t\t\tplayer.currentTime((ui.value/100)*player.duration());\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#big-video-control-bar').click(function(e) {\n\t\t\t\tplayer.currentTime((e.offsetX/$(this).width())*player.duration());\n\t\t\t});\n\t\t\t$('#big-video-control-play').click(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tplayControl('toggle');\n\t\t\t});\n\t\t\tplayer.on('timeupdate', function() {\n\t\t\t\tif (!isSeeking && (player.currentTime()/player.duration())) {\n\t\t\t\t\tvar currTime = player.currentTime();\n\t\t\t\t\tvar minutes = Math.floor(currTime/60);\n\t\t\t\t\tvar seconds = Math.floor(currTime) - (60*minutes);\n\t\t\t\t\tif (seconds < 10) seconds='0'+seconds;\n\t\t\t\t\tvar progress = player.currentTime()/player.duration()*100;\n\t\t\t\t\t$('#big-video-control-track').slider('value',progress);\n\t\t\t\t\t$('#big-video-control-progress').css('width',(progress-0.16)+'%');\n\t\t\t\t\t$('#big-video-control-timer').text(minutes+':'+seconds+'/'+vidDur);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction playControl(a) {\n\t\t\tvar action = a || 'toggle';\n\t\t\tif (action == 'toggle') action = isPlaying ? 'pause' : 'play';\n\t\t\tif (action == 'pause') {\n\t\t\t\tplayer.pause();\n\t\t\t\t$('#big-video-control-play').css('background-position','-16px');\n\t\t\t\tisPlaying = false;\n\n\t\t\t} else if (action == 'play') {\n\t\t\t\tplayer.play();\n\t\t\t\t$('#big-video-control-play').css('background-position','0');\n\t\t\t\tisPlaying = true;\n\t\t\t} else if (action == 'skip') {\n\t\t\t\tnextMedia();\n\t\t\t}\n\t\t}\n\n\t\tfunction setUpAutoPlay() {\n\t\t\tplayer.play();\n\t\t\tsettings.container.off('click',setUpAutoPlay);\n\t\t}\n\n\t\tfunction nextMedia() {\n\t\t\tcurrMediaIndex++;\n\t\t\tif (currMediaIndex === playlist.length) currMediaIndex=0;\n\t\t\tplayVideo(playlist[currMediaIndex]);\n\t\t}\n\n\t\tfunction playVideo(source) {\n\n\t\t\t// clear image\n\t\t\t$(vidEl).css('display','block');\n\t\t\tcurrMediaType = 'video';\n\t\t\tplayer.src(source);\n\t\t\tisPlaying = true;\n\t\t\tif (isAmbient) {\n\t\t\t\t$('#big-video-control-container').css('display','none');\n\t\t\t\tplayer.ready(function(){\n\t\t\t\t\tplayer.volume(0);\n\t\t\t\t});\n\t\t\t\tdoLoop = true;\n\t\t\t} else {\n\t\t\t\t$('#big-video-control-container').css('display','block');\n\t\t\t\tplayer.ready(function(){\n\t\t\t\t\tplayer.volume(defaultVolume);\n\t\t\t\t});\n\t\t\t\tdoLoop = false;\n\t\t\t}\n\t\t\t$('#big-video-image').css('display','none');\n\t\t\t$(vidEl).css('display','block');\n\t\t}\n\n\t\tfunction showPoster(source) {\n\t\t\t// remove old image\n\t\t\t$('#big-video-image').remove();\n\n\t\t\t// hide video\n\t\t\tplayer.pause();\n\t\t\t$(vidEl).css('display','none');\n\t\t\t$('#big-video-control-container').css('display','none');\n\n\t\t\t// show image\n\t\t\tcurrMediaType = 'image';\n\t\t\tvar bgImage = $('<img id=\"big-video-image\" src='+source+' />');\n\t\t\twrap.append(bgImage);\n\n\t\t\t$('#big-video-image').imagesLoaded(function() {\n\t\t\t\tmediaAspect = $('#big-video-image').width() / $('#big-video-image').height();\n\t\t\t\tupdateSize();\n\t\t\t});\n\t\t}\n\n\t\tBigVideo.init = function() {\n\t\t\tif (!isInitialized) {\n\t\t\t\t// create player\n\t\t\t\tsettings.container.prepend(wrap);\n\t\t\t\tvar autoPlayString = settings.forceAutoplay ? 'autoplay' : '';\n\t\t\t\tplayer = $('<video id=\"'+vidEl.substr(1)+'\" class=\"video-js vjs-default-skin\" height=\"1\" width=\"1\" preload=\"auto\" data-setup=\"{}\" '+autoPlayString+' webkit-playsinline></video>');\n\t\t\t\tplayer.css('position','absolute');\n\t\t\t\twrap.append(player);\n\n\t\t\t\tvar videoTechOrder = ['html5','flash'];\n\t\t\t\t// If only using mp4s and on firefox, use flash fallback\n\t\t\t\tvar ua = navigator.userAgent.toLowerCase();\n\t\t\t\tvar isFirefox = ua.indexOf('firefox') != -1;\n\t\t\t\tif (settings.useFlashForFirefox && (isFirefox)) {\n\t\t\t\t\tvideoTechOrder = ['flash', 'html5'];\n\t\t\t\t}\n\t\t\t\tplayer = videojs(vidEl.substr(1), {\n\t\t\t\t\tcontrols:false,\n\t\t\t\t\tautoplay:true,\n\t\t\t\t\tpreload:'auto',\n\t\t\t\t\ttechOrder:videoTechOrder\n\t\t\t\t});\n\n\t\t\t\t// add controls\n\t\t\t\tif (settings.controls) initPlayControl();\n\n\t\t\t\t// set initial state\n\t\t\t\tupdateSize();\n\t\t\t\tisInitialized = true;\n\t\t\t\tisPlaying = false;\n\n\t\t\t\tif (settings.forceAutoplay) {\n\t\t\t\t\t$('body').on('click', setUpAutoPlay);\n\t\t\t\t}\n\n\t\t\t\t$('#big-video-vid_flash_api')\n\t\t\t\t\t.attr('scale','noborder')\n\t\t\t\t\t.attr('width','100%')\n\t\t\t\t\t.attr('height','100%');\n\n\t\t\t\t// set events\n\t\t\t\t$(window).on('resize.bigvideo', function() {\n\t\t\t\t\tupdateSize();\n\t\t\t\t});\n\n\t\t\t\tplayer.on('loadedmetadata', function(data) {\n\t\t\t\t\tif (document.getElementById('big-video-vid_flash_api')) {\n\t\t\t\t\t\t// use flash callback to get mediaAspect ratio\n\t\t\t\t\t\tmediaAspect = document.getElementById('big-video-vid_flash_api').vjs_getProperty('videoWidth')/document.getElementById('big-video-vid_flash_api').vjs_getProperty('videoHeight');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// use html5 player to get mediaAspect\n\t\t\t\t\t\tmediaAspect = $('#big-video-vid_html5_api').prop('videoWidth')/$('#big-video-vid_html5_api').prop('videoHeight');\n\t\t\t\t\t}\n\t\t\t\t\tupdateSize();\n\t\t\t\t\tvar dur = Math.round(player.duration());\n\t\t\t\t\tvar durMinutes = Math.floor(dur/60);\n\t\t\t\t\tvar durSeconds = dur - durMinutes*60;\n\t\t\t\t\tif (durSeconds < 10) durSeconds='0'+durSeconds;\n\t\t\t\t\tvidDur = durMinutes+':'+durSeconds;\n\t\t\t\t});\n\n\t\t\t\tplayer.on('ended', function() {\n\t\t\t\t\tif (settings.doLoop) {\n\t\t\t\t\t\tplayer.currentTime(0);\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}\n\t\t\t\t\tif (isQueued) {\n\t\t\t\t\t\tnextMedia();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Show video or image file\n\t\t *\n\t\t * @param source: The file to show, can be:\n\t\t *\t\t- an array with objects for video files types\n\t\t *\t\t- a string to a single video file\n\t\t *\t\t- a string to a image file\n\t\t * @param options: An object with those possible attributes:\n\t\t *\t\t- boolean \"ambient\" to set video to loop\n\t\t *\t\t- function onShown\n\t\t */\n\t\tBigVideo.show = function(source,options) {\n\t\t\tif (options === undefined) options = {};\n\t\t\tisAmbient = options.ambient === true;\n\t\t\tif (isAmbient || options.doLoop) settings.doLoop = true;\n\n\t\t\tif (typeof(source) === 'string') {\n\t\t\t\t// if input was a string, try show that image or video\n\t\t\t\tvar ext = ( source.lastIndexOf('?') > 0 ) ? source.substring(source.lastIndexOf('.')+1, source.lastIndexOf('?')) : source.substring( source.lastIndexOf('.')+1);\n\t\t\t\tif (ext == 'jpg' || ext == 'gif' || ext == 'png') {\n\t\t\t\t\tshowPoster(source);\n\t\t\t\t} else if (ext == 'mp4' || ext == 'ogg' || ext == 'ogv'|| ext == 'webm') {\n\t\t\t\t\tplayVideo(source);\n\t\t\t\t\tif (options.onplayVideon) options.onShown();\n\t\t\t\t\tisQueued = false;\n\t\t\t\t}\n\t\t\t} else if ($.isArray(source)) {\n\t\t\t\t// if the input was an array, pass it to videojs\n\t\t\t\tplayVideo(source);\n\t\t\t} else if (typeof(source) === \"object\" && source.src && source.type) {\n\t\t\t\t// if the input was an object with valid attributes, wrap it in an\n\t\t\t\t// array and pass it to videojs\n\t\t\t\tplayVideo([source]);\n\t\t\t} else {\n\t\t\t\t// fail without valid input\n\t\t\t\tthrow(\"BigVideo.show received invalid input for parameter source\");\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Show a playlist of video files\n\t\t *\n\t\t * @param files: array of elements to pass to BigVideo.show in sequence\n\t\t * @param options: An object with those possible attributes:\n\t\t *\t\t- boolean \"ambient\" to set video to loop\n\t\t *\t\t- function onShown\n\t\t */\n\t\tBigVideo.showPlaylist = function (files, options) {\n\t\t\tif (!$.isArray(files)) {\n\t\t\t\tthrow(\"BigVideo.showPlaylist parameter files accepts only arrays\");\n\t\t\t}\n\n\t\t\tif (options === undefined) options = {};\n\t\t\tisAmbient = options.ambient === true;\n\t\t\tif (isAmbient || options.doLoop) settings.doLoop = true;\n\n\t\t\tplaylist = files;\n\t\t\tcurrMediaIndex = 0;\n\t\t\tthis.show(playlist[currMediaIndex]);\n\t\t\tif (options.onShown) options.onShown();\n\t\t\tisQueued = true;\n\t\t};\n\n\t\t// Expose Video.js player\n\t\tBigVideo.getPlayer = function() {\n\t\t\treturn player;\n\t\t};\n\n\t\t// Remove/dispose the player\n\t\tBigVideo.remove = BigVideo.dispose = function() {\n\t\t\tisInitialized = false;\n\n\t\t\twrap.remove();\n\t\t\t$(window).off('resize.bigvideo');\n\n\t\t\tif(player) {\n\t\t\t\tplayer.off('loadedmetadata');\n\t\t\t\tplayer.off('ended');\n\t\t\t\tplayer.dispose();\n\t\t\t}\n\t\t};\n\n\t\t// Expose BigVideoJS player actions play, pause, skip (if a playlist is available)\n\t\t// Example: BigVideo.triggerPlayer('skip')\n\t\tBigVideo.triggerPlayer = function(action){\n\t\t\tplayControl(action);\n\t\t};\n\n\t\treturn BigVideo;\n\t\t\n\t};\n});"]}