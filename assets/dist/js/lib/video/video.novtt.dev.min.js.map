{"version":3,"sources":["lib/video/video.novtt.dev.js"],"names":["document","createElement","vjs","id","options","ready","tag","indexOf","slice","players","el","nodeName","Player","TypeError","videojs","window","_handleMultipleEvents","fn","elem","type","callback","arr","forEach","CDN_VERSION","ACCESS_PROTOCOL","location","protocol","techOrder","html5","flash","width","height","defaultVolume","playbackRates","inactivityTimeout","children","mediaLoader","posterImage","loadingSpinner","textTrackDisplay","bigPlayButton","controlBar","errorDisplay","textTrackSettings","language","getElementsByTagName","getAttribute","navigator","languages","userLanguage","notSupportedMessage","code","undefined","util","mergeOptions","data","define","exports","_typeof","module","CoreObject","props","extend","subObj","name","init","this","prototype","apply","arguments","constructor","create","hasOwnProperty","inst","obj","on","getData","isArray","guid","disabled","handlers","push","dispatcher","isImmediatePropagationStopped","event","fixEvent","addEventListener","attachEvent","n","handlersCopy","m","call","length","hasData","off","removeType","t","cleanUpEvents","splice","isEmpty","removeEventListener","removeData","returnTrue","returnFalse","key","isPropagationStopped","preventDefault","doc","body","old","relatedTarget","fromElement","target","isDefaultPrevented","stopPropagation","returnValue","stopImmediatePropagation","cancelBubble","pageX","button","clientX","documentElement","scrollLeft","clientLeft","pageY","clientY","trigger","scrollTop","clientTop","parent","parentNode","ownerDocument","elemData","defaultPrevented","targetData","bubbles","one","func","hasOwnProp","console","argsArray","Array","args","noop","_logType","warn","error","history","toUpperCase","log","unshift","join","createEl","tagName","properties","capitalize","string","each","propName","val","setAttribute","charAt","Object","F","obj2","context","obj1","val1","val2","deepMerge","copy","isPlain","merge","toString","isNaN","num","ret","bind","uid","cache","expando","Date","getTime","e","removeAttribute","prop","hasClass","element","classToCheck","classNames","className","split","addClass","classToAdd","track","classToRemove","appendChild","i","USER_AGENT","TEST_VID","match","kind","srclang","IS_ANDROID","ANDROID_VERSION","major","parseFloat","IS_IPHONE","test","IS_IPAD","IS_IPOD","IS_IOS","IS_OLD_ANDROID","IOS_VERSION","IS_IE8","TOUCH_ENABLED","minor","IS_FIREFOX","knownBooleans","attrs","attrName","attrVal","DocumentTouch","BACKGROUND_SIZE_SUPPORTED","style","setElementAttributes","attributes","attrValue","getElementAttributes","getComputedDimension","strValue","value","strCssRule","defaultView","getComputedStyle","getPropertyValue","substr","insertFirst","child","guide","Math","seconds","firstChild","h","browser","s","getElementById","formatTime","floor","gm","gh","Infinity","blockTextSelection","focus","onselectstart","unblockTextSelection","trim","end","str","Error","round","dec","pow","createTimeRange","start","localStorage","setLocalStorage","url","innerHTML","getAbsoluteURL","a","div","parseUrl","details","replace","href","addToBody","host","removeChild","findPosition","box","left","top","getBoundingClientRect","docEl","pageXOffset","pageYOffset","array","thisArg","xhr","Function","request","urlInfo","winLoc","fileUrl","len","crossOrigin","ActiveXObject","abortTimeout","successHandler","errorHandler","timeout","uri","clearTimeout","onerror","response","responseText","onprogress","err","readyState","XHR","XMLHttpRequest","f","g","XDomainRequest","send","timedout","status","setTimeout","abort","withCredentials","responseType","ontimeout","open","method","EventEmitter","allowedEvents_","ael","player","player_","dispatchEvent","Component","children_","dispose","childIndex_","options_","id_","name_","childNameIndex_","reportTouchActivity","enableTouchActivity","el_","contentEl","localize","lang","contentEl_","getChildById","component","addChild","componentName","childFound","componentClass","handleAdd","getChild","parentOptions","compEl","initChildren","opts","first","thisComponent","removeOnDispose","buildCSSClass","second","third","cleanRemover","isReady_","newFunc","readyQueue_","isReadyOnInitFinish_","triggerReady","readyQueue","j","removeClass","show","lockShowing","unlockShowing","disable","hide","skipListeners","parseInt","pxIndex","dimension","dimensions","widthOrHeight","touchTimeThreshold","touchStart","couldBeTap","noTap","onResize","emitTapEvents","xdiff","ydiff","report","touches","firstTouch","touchHolding","clearInterval","reportUserActivity","sqrt","disposeFn","timeoutId","intervalId","touchEnd","Button","controlText_","setInterval","interval","Slider","onBlur","onMouseUp","onClick","onFocus","onMouseMove","update","role","aria-live","tabIndex","barProgress","progress","handle","buttonText","handleWidth","offsetWidth","boxAdjustedPercent","handlePercent","onKeyPress","adjustedProgress","which","boxY","boxW","handleH","bar","onMouseDown","boxX","changedTouches","playerEvent","handleW","aria-valuenow","aria-valuemin","aria-valuemax","stepBack","SliderHandle","getPercent","boxWidth","Menu","calculateDistance","boxH","MenuItem","selected","min","MenuButton","menu","defaultValue","items","addItem","contentElType","blur","buttonPressed_","append","unpressButton","message","defaultMessages","createMenu","MediaError","errorTypes","apiMap","title","tabindex","createItems","browserApi","pressButton","languages_","poster_","controls_","1","2","3","4","5","errNum","cx","specApi","fullscreenAPI","getTagSettings","dataSetup","attr","tagAttributes","language_","cache_","insertBefore","controls","isAudio","onLoadStart","onEnded","onDurationChange","techName","techReady","currentType_","languageCode","tech","paused","hasStarted_","hasStarted","sources","tracks","tagOptions","onLoadedMetaData","parse","onLoadedData","childName","childNodes","onLoadedAllData","toLowerCase","onPlay","initNetworkState_","networkState","onPause","onWaitEnd","onSeeking","onSeeked","onFirstPlay","onProgress","onFullscreenChange","loadTech","source","unloadTech","Html5","disposeMediaElement","currentTime","techOptions","parentEl","src","duration","arg","techCall","onWaiting","bufferedPercent","play","pause","techGet","buffered","onVolumeChange","bufferedDuration","onError","getCache","percentAsDecimal","vol","isFullscreen","remainingTime","enterFullWindow","fsApi","exitFullscreen","isFullWindow","overflow","volume","muted","supportsFullScreen","isFullscreen_","sourceList_","isFS","requestFullscreen","sourceTech","selectSource","fullscreenElement","callee","requestFullScreen","preload","exitFullWindow","cancelFullScreen","fullWindowOnEscKey","keyCode","docOrigOverflow","isSupported","b","bool","usingNativeControls_","load","currentSrc","currentType","userActive_","userActivity_","autoplay","loop","mouseInProgress","poster","onActivity","userActive","usingNativeControls","error_","ended","seeking","seekable","addTextTrack","label","removeRemoteTextTrack","ControlBar","listenForUserActivity","lastMoveX","lastMoveY","screenX","screenY","LiveDisplay","rate","scrubbing","DurationDisplay","isAudio_","updateContent","RemainingTimeDisplay","remoteTextTracks","addRemoteTextTrack","loadEvent","playToggle","ProgressControl","currentTimeDisplay","remainingTimeDisplay","liveDisplay","progressControl","volumeControl","muteToggle","playbackRateMenuButton","subtitlesButton","chaptersButton","SeekBar","videoWasPlaying","PlayToggle","CurrentTimeDisplay","LoadProgressBar","bufferedEnd","percent","percentify","time","PlayProgressBar","TimeDivider","SeekHandle","VolumeControl","FullscreenToggle","VolumeBar","updateARIAAttributes","seekBar","VolumeLevel","loadProgressBar","playProgressBar","seekHandle","VolumeHandle","handleName","aria-label","MuteToggle","newTime","level","stepForward","VolumeMenuButton","part","updateVisibility","updateLabel","PlaybackRateMenuButton","currentRate","playbackRate","rates","playbackRateSupported","volumeBar","volumeLevel","volumeHandle","barName","PosterImage","setSrc","backgroundImage","BigPlayButton","volumeUpdate","vc","manualProgressOn","manualTimeUpdatesOn","labelEl_","PlaybackRateMenuItem","newRate","MediaTechController","trackProgress","manualProgress","stopTrackingProgress","bufferedPercent_","progressInterval","fallbackImg_","stopTrackingCurrentTime","currentTimeInterval","manualTimeUpdatesOff","LoadingSpinner","textTrackListChanges","ErrorDisplay","createTrackHelper","self","textTracks","initControlsListeners","emulateTextTracks","initTextTrackListeners","selectSourceHandler","activateControls","addControlsListeners","canHandleSource","removeControlsListeners","srcObj","userWasActive","sh","nativeSourceHandler","sourceHandler_","handleSource","onTap","manualProgressOff","useNativeControls","manualTimeUpdates","trackCurrentTime","newEl","clone","trackEl","setCurrentTime","overwriteAttrs","updateDisplay","settingsAttrs","querySelectorAll","kinds","textTracksChanges","script","eventHandler","evt","mode","setControls","controlsOn","textTracks_","TextTrackList","remoteTextTracks_","addTrack_","removeTrack_","setPoster","video","HAVE_METADATA","withSourceHandlers","Tech","registerSourceHandler","handler","index","sourceHandlers","elementSrc","returnOriginalIfBlobURI_","canPlaySource","disposeSourceHandler","currentSource_","setPlaybackRate","media","nodes","nodesLength","node","setSource","hasChildNodes","removeNodes","hideCaptions","retVal","origSetSource","source_","origDisposeSourceHandler","canPlayType","class","ext","canControlPlaybackRate","subtitles","supportsNativeTextTracks","supportsTextTracks","setupTriggers","Events","controlsOff","cleanUp","mpegurlRE","mp4RE","setMuted","offsetHeight","unpatchCanPlayType","enterFullScreen","webkitEnterFullScreen","exitFullScreen","webkitExitFullScreen","elementURI","originalURI","objId","flashVars","playerOptions","params","setPreload","setAutoplay","setLoop","defaultMuted","vjs_src","lastSeekTarget_","vjs_setProperty","tt","vjs_getProperty","Flash","api","createGetter","canControlVolume","version","embed","swf","placeHolder","replaceChild","newObj","getEmbedCode","paramsString","attrsString","r","patchCanPlayType","connection","stream","parts","connEnd","streamingFormats","readyFunction","rtmpSourceHandler","eventProxyFunction","errorEventProxyFunction","isStreamingType","wmode","bgcolor","srcParts","vjs_play","vjs_pause","TextTrackKind","TextTrack","TextTrackMode","cues","TextTrackCueList","defineProperty","set","readWrite","readOnly","attrUpper","newMode","loaded_","cue","changed","activeCues_","formats","activeCues","video/flv","video/x-flv","video/mp4","video/m4v","currSwf","parseCues","srcContent","swfID","eventName","parser","searchElement","msg","fromIndex","GetVariable","k","O","enabledPlugin","plugins","description","par","display","list","tracks_","flashVarsString","movie","flashvars","allowScriptAccess","allowNetworking","get","rtmp/mp4","rtmp/flv","streamFromParts","streamToParts","streamBegin","result","rtrack","lastIndexOf","substring","srcType","RTMP_RE","isStreamingSrc","oldLength","defineProp","TextTrackDisplay","hidden","showing","captions","descriptions","chapters","loadTrack","monospace","timeupdateHandler","monospaceSerif","proportionalSansSerif","smallcaps","clearDisplay","cues_","updateForTrack","cueDiv","overrides","fontSize","windowColor","tryUpdateStyle","edgeStyle","fontFamily","active","changeHandler","ct","OffTextTrackMenuItem","l","setCues_","cuechange","addCue","removeCue","removed","responseBody","updateHandler","TextTrackButton","abs","max","CaptionsButton","threshold","SubtitlesButton","change","ChaptersButton","removetrack","TextTrackMenuItem","chaptersTrack","getTrackById","length_","startTime","ChaptersTrackMenuItem","TextTrackSettings","saveSettings","querySelector","getCueById","constructColor","color","opacity","values","rule","selectedOption","textOpacity","windowOpacity","textEdge","getSelectedOptionValue","fgColor","bgOpacity","toggleDisplay","fontPercent","setSelectedOption","restoreSettings","darkGray","fontMap","sansSerif","serif","monospaceSansSerif","proportionalSerif","option","getValues","displayState","backgroundColor","JSON","backgroundOpacity","holder","textShadow","bottom","text","lastIndex","fontVariant","audios","mediaEls","vids","mediaEl","onchange","Event","windowLoaded","autoSetupTimeout","default","CaptionSettingsMenuItem","kind_","mi","selectedOptions","selectedIndex","bgColor","setValues","toFixed","getItem","removeItem","setItem","stringify","ttDisplay","reviver","walk","v","String","charCodeAt","eval","","SyntaxError","autoSetup","wait","plugin"],"mappings":"iPAEAA,SAAAC,cAAA,OAAA,EAIAD,SAASC,cAAc,OAAO,EAF9BD,SAAAC,cAAA,OAAA,EAkBA,IAAAC,KAAA,SAAAC,EAAAC,EAAAC,GACA,IAAAC,EAOE,GAAkB,UAAd,OAAOH,EAAiB,CAQ1B,GARwB,IAAtBA,EAAAI,QAAS,GAAK,IAEhBJ,EAAAA,EAAAK,MAAA,CAAA,GAMIN,KAAIO,QAAQN,GAWd,OATAC,GACAF,KAAIE,IAAAA,KAAS,WAAAD,EAAA,wDAAA,EAITE,GACFH,KAAGO,QAAQN,GAAIE,MAAMA,CAACA,EAGjBH,KAAIO,QAAQN,GAKrBG,EAAAJ,KAAAQ,GAAAP,CAAA,CAGF,MAEAG,EAAAH,EAGA,GAA6BG,GAAAA,EAAAK,SAM7B,OAAOL,EAAY,QAAK,IAAIJ,KAAGU,OAAON,EAAIF,EAASC,CAAEA,EALnD,MAAM,IAAIQ,UAAU,oDAAoD,CAM5E,EAGIC,QAAUC,OAAgB,QAAIb,KAgmBlC,SA0BIc,sBAAAC,EAAAC,EAAAC,EAAAC,GAzBFlB,KA0BEmB,IAAAC,QAAAH,EAAA,SAAAA,GACAF,EAAAC,EAAAC,EAAAC,CAAA,CAzBF,CAAC,CACH,CAjmBAlB,KAAGqB,YAAY,OACfrB,KAAGsB,gBAAoB,UAAYxB,SAASyB,SAASC,SAAW,WAAa,UAM7ExB,KAAI,QAAU,UASdA,KAAGE,QAAQ,CAETuB,UAAa,CAAC,QAAO,SAGrBC,MAAS,GACTC,MAAS,GAITC,MAAQ,IACRC,OAAA,IACuBC,cAAA,EAGvBC,cAAiB,GAKjBC,kBAAqB,IAGrBC,SACE,CACAC,YAAe,GACfC,YAAA,GACAC,eAAkB,GAClBC,iBAAmB,GACnBC,cAAgB,GAChBC,WAAc,GACdC,aAAA,GACDC,kBAAA,EAED,EAGAC,SAAW5C,SAAI6C,qBAAA,MAAA,EAAA,GAAAC,aAAA,MAAA,GAAAC,UAAAC,WAAAD,UAAAC,UAAA,IAAAD,UAAAE,cAAAF,UAAAH,UAAA,KAIhBI,UAAA,GAGDE,oBAAA,gDACA,EAIA,sBAAAhD,KAAAqB,cACAT,QAAAV,QAAA,MAAA,IAAAF,KAAAsB,gBAAA,kBAAAtB,KAAAqB,YAAA,iBASArB,KAIIA,YAAY,SAAAiD,EAAaA,GAM7B,OALEC,KAAAA,IAAAlD,KAAAE,QAAA,UAAA+C,GACAjD,KAAAE,QAAmB,UAAA+C,GAAYjD,KAAAmD,KAAAC,aAAApD,KAAAE,QAAA,UAAA+C,GAAAI,CAAA,EAF7BrD,KAAIE,QAAmB,UAAE+C,GAAQI,EAMrCrD,KAAAE,QAAA,SACA,EAMAF,KAAAO,QAAA,GAKsB,YAAlB,OAAO+C,QAAyBA,OAAY,IAGhDA,OAAA,UAAA,GAAA,WAAA,OAAA1C,OAAA,CAAA,EAGA,YAAA,aAAA,OAAA2C,QAAA,YAAAC,QAAAD,OAAA,IAAA,YAAA,aAAA,OAAAE,OAAA,YAAAD,QAAAC,MAAA,KACAA,OAAA,QAAA7C,SAqDAZ,KAAA0D,WAAA1D,KAAA,WAAA,aAgBAA,KAGE2D,WAAaC,OAAM,SAAAD,GACnB,IAAAE,EAgCEC,EA1BFC,GAJAJ,EAAAA,GAAA,IAIA,MAAAK,KAAAC,UAAA,MAAA,aAuBA,IAGEH,OAnBFD,EAAS,WAITE,EAAAG,MAAAF,KAAAG,SAAA,CACAN,GAGOI,UAAUG,KAAAA,IAAAA,OAAcP,KAAMI,SAAA,GAGrBjE,YAAc6D,GAAvBD,OAAS5D,KAAI0D,WAAWE,OAK/BC,EAAKQ,OAAQrE,KAAI2D,WAAOU,OAGtBV,EACFA,EAAAW,eAAAR,CAAA,IAEAD,EAAOA,UAAMC,GAAAH,EAAAG,IAIf,OAAAD,CACA,EAMA7D,KAIE0D,WAAAW,OAAA,WAFA,IAAIE,EAAOvE,KAAIwE,IAAIH,OAAOL,KAAKC,SAAS,EAU1C,OAHCD,KAAAE,MAAAK,EAAAJ,SAAA,EAGDI,CACA,EAcAvE,KAKEyE,GAAIpB,SAAWqB,EAAAA,EAAY3D,GAJ3B,GAAIf,KAAIwE,IAAIG,QAAQ1D,CAAI,EAMxB,OAAAH,sBAAAd,KAAAyE,GAAAzD,EAAAC,EAAAF,CAAA,EAKA,IAAIsC,EAAIuB,KAAM7D,QAAOC,CAAGhB,EAKtBqD,EAAKwB,WAAWxB,EAAKyB,SAAA,IAInBzB,EAAIA,SAAKwB,KAAUxB,EAAAyB,SAAA7D,GAAA,IAGnBF,EAAI+D,OAAAA,EAAQF,KAAQE,KAAAA,IAAQ,IAVhCzB,EAAKyB,SAaC7D,GAAA8D,KAAAhE,CAAA,EAXDsC,EAcC2B,aAbJ3B,EAAKwB,SAcWI,CAAAA,EAZhB5B,EAAK2B,WAcQ,SAAAE,GAZX,GAcI7B,CAAAA,EAAAwB,SAdJ,CACAK,EAcElF,KAAAmF,SAAAD,CAAA,EAEH,IAAAJ,EAAAzB,EAAAyB,SAAAI,EAAAjE,MAGCoC,GAAIyB,EAIJ9D,IAFAA,IAAKoE,EAAgBN,EAAOzB,MAAK2B,CAAAA,EAE5BK,EAAAA,EAAYC,EAAIC,EAAcP,OAAAA,EAAWM,GAChDJ,CAAAA,EAAAD,8BAAA,EADgDO,CAAA,GAXxCD,EAAaC,GAAGC,KAAKzE,EAAMkE,CAAK,CAClC,CAkBV,GAGA,GAAA7B,EAAAyB,SAAA7D,GAAAyE,SACO1E,EAAGoE,iBACRpE,EAAAoE,iBAAAnE,EAAAoC,EAAA2B,WAAA,CAAA,CAAA,EACSW,EAAQ3E,aAEbqC,EAAIgC,YAAOX,KAAYzD,EAACoC,EAAA2B,UAAA,EAb9B,EASAhF,KAeKqD,IAAKyB,SAAU9D,EAAMC,EAAAF,GAExB,GAACf,KAAA2F,QAAA3E,CAAA,EAAD,CAEA,IAAAqC,EAAArD,KAAA0E,QAAA1D,CAAA,EAZA,GAeEqC,EAAAyB,SAfF,CAkBA,GAAIA,KAAAA,IAAQH,QAAQG,CAAAA,EAflB,OAAOhE,sBAAsBd,KAAI4F,IAAK5E,EAAMC,EAAMF,CAAE,EAoBtD,IAAA8E,EAAA,SAAAC,GACAzC,EAAOyB,SAAEgB,GAAA,GACPD,KAAAA,cAAgB7E,EAAA8E,CAAA,CAflB,EAmBA,GAAA7E,EAAA,CAXA,IAgBI6D,EAAAzB,EAAAyB,SAAA7D,GAIJjB,GAAI+F,EAGN,GAAAhF,EAAA,CAMAf,GAAI+F,EAAAA,KACF,IAAI1C,IAAOrD,EAAG,EAAC0E,EAAAA,EAAagB,OAAAJ,CAAA,GAhBpBR,EAASQ,GAAGV,OAAS7D,EAAG6D,MAkBhCE,EAAAkB,OAAAV,CAAA,GAAA,CAAA,EAZAtF,KAAI+F,cAAc/E,EAAMC,CAAI,CAM9B,MAFA4E,EAAA5E,CAAA,CA1BE,MAcA,IAAO2D,IAAIkB,KAAEzC,EAAAyB,SAAAe,EAAAC,CAAA,CAfX,CALD,CA6BH,EAQA9F,KAiBE+F,cAAA,SAAA/E,EAAAC,GACA,IAAIjB,EAAIiG,KAAAA,QAAanB,CAAAA,EAGC,IAApBzB,EAAOA,SAAKwB,GAAQa,SAhBpB,OAAOrC,EAAKyB,SAAS7D,GAKjBD,EAAKkF,oBAkBXlF,EAAAkF,oBAAAjF,EAAAoC,EAAA2B,WAAA,CAAA,CAAA,EACQiB,EAAQ5C,aACdrD,EAAImG,YAAWnF,KAAKC,EAAAoC,EAAA2B,UAAA,GAKxBhF,KAAAiG,QAAA5C,EAAAyB,QAAA,IACA,OAAAzB,EAAAyB,SACA,OAAAzB,EAAA2B,WACA,OAAA3B,EAAAwB,UAKyC7E,KAAAiG,QAAA5C,CAAA,GAbrCrD,KAAImG,WAAWnF,CAAI,CAEvB,EAQAhB,KAeImF,SAAA,SAAAD,GAbF,SAeEkB,IAAA,MAAA,CAAA,CAAA,CAdF,SAeEC,IAAA,MAAA,CAAA,CAAA,CARF,GAAI,CAACnB,GAeOoB,CAAGpB,EAAIqB,qBAAqBC,CAdtC,IAuBAF,EAsEJG,EAAAC,EA7FQC,EAeEzB,GAAayB,OAAOzB,MAQ1B,IAAAoB,KArBApB,EAeE,GAMFyB,EAGMC,WAAAA,GAAsBC,WAAN3B,GAA4B4B,gBAAN5B,GAKtCsB,eAAAA,GAAiBG,EAAYH,iBAC7BG,EAAIH,GAAAA,EAAAA,IAMTtB,EAAA4B,SAED5B,EAAM6B,OAAAA,EAAAA,YAAqBV,UAI3BnB,EAAM8B,cAAe9B,EAAG2B,cAAY3B,EAAA4B,OAClC5B,EAAIyB,UAjBJzB,EAkBM8B,YAfR9B,EAkBEA,eAAMqB,WACPI,EAAAH,gBAEDtB,EAAMqB,eAAAA,EAENrB,EAAA+B,YAAA,CAAA,EACA/B,EAAMgC,mBAAAA,EACJhC,EAAIyB,iBAAIO,CAAAA,CAlBV,EAEAhC,EAmBEA,mBAAMD,EAlBRC,EAmBEA,iBAAuB,CAAA,EAhBzBA,EAAM8B,gBAAkB,WAqBxBL,EAAAK,iBACI9B,EAAAA,gBAAiB,EAlBnBA,EAmBwCiC,aAAYT,CAAAA,EAEpDxB,EAAMkC,qBAAqBhB,CAnB7B,EAEAlB,EAAMqB,qBAAuBF,EAG7BnB,EAAMgC,yBAA2B,WAyBjCP,EAAAO,0BACAP,EAAAO,yBAAA,EAEEhC,EAAMmC,8BACHnC,EAELA,EAAA8B,gBAAA,CACF,EAEA9B,EAAAD,8BAAAoB,EAvBuB,MAAjBnB,EAAMoC,UA2Bdb,EAAA3G,SAAAyH,gBAAAb,EAAA5G,SAAA4G,KAEAxB,EAAAkC,MAAAlC,EAAAoC,SACAb,GAAAA,EAAAe,YAAAd,GAAAA,EAAAc,YAAA,IACAf,GAAAA,EAAAgB,YAAAf,GAAAA,EAAAe,YAAA,GACAvC,EAAAwC,MAAAxC,EAAAyC,SACIC,GAAUnB,EAAAoB,WAAe3C,GAAOwB,EAAAmB,WAAA,IAClCpB,GAAAA,EAAAqB,WAAApB,GAAAA,EAAAoB,WAAA,IAIA5C,EAAI6C,MAAS/G,EAAKgH,UAAchH,EAAKiH,QAIrC,MAAA/C,EAAAmC,SACInC,EAAAmC,OAA2B,EAAfnC,EAAKmC,OAAU,EACrB,EAAHnC,EAAGmC,OAAA,EAAY,EAANnC,EAAMmC,OAAA,EAAA,EAvBtB,CA0BAnC,OAAKA,CAtBP,EAQAlF,KAuBI4H,QAAU,SAAWrB,EAAAA,GAIvB,IAAC2B,EAAWH,KAAMpC,QAAU3E,CAACmH,EAAAA,KAAAA,QAAkBnH,CAAA,EAAA,GAC7C+G,EAAIK,EAAUJ,YAAe9C,EAAK+C,cAuCtC,OArDE/C,EAuBIlF,KAAAmF,SA1BFD,EAsBaL,UAAXuD,OAAAA,EACA,CAAAnH,KAAAiE,EAAA4B,OAAA9F,CAAA,EAGAkE,CAAA,EAGFgD,EAAAlD,YACFkD,EAAAlD,WAAAS,KAAAzE,EAAAkE,CAAA,EAKF6C,GAAA,CAAA7C,EAAAqB,qBAAA,GAAA,CAAA,IAAArB,EAAAmD,QACArI,KAAA4H,QAAAG,EAAA7C,CAAA,EAGE6C,GAAA7C,EAAAiD,mBACAC,EAAApI,KAAA0E,QAAAQ,EAAA4B,MAAA,EAGA5B,EAAA4B,OAAA5B,EAAAjE,QAEAmH,EAAAvD,SAAA,CAAA,EAEA,YAAA,OAAAK,EAAA4B,OAAA5B,EAAAjE,OACAiE,EAAA4B,OAAA5B,EAAAjE,MAAA,EAGAmH,EAAAvD,SAAA,CAAA,IAKF,CAAAK,EAAAiD,gBAoBA,EAdAnI,KAuBIe,IAAGC,SAAYE,EAAAA,EAAWH,GAC5B,GAAEf,KAAAwE,IAAAG,QAAA1D,CAAA,EACJ,OAAAH,sBAAAd,KAAAsI,IAAAtH,EAAAC,EAAAF,CAAA,EArBa,SAAPwH,IAwBNvI,KAAA4F,IAAA5E,EAAAC,EAAAsH,CAAA,EACAxH,EAAAmD,MAAAF,KAAAG,SAAA,CACA,CAEAoE,EAAA3D,KAAA7D,EAAA6D,KAAA7D,EAAA6D,MAAA5E,KAAA4E,IAAA,GACA5E,KAAAyE,GAAAzD,EAAAC,EAAAsH,CAAA,CACA,EARA,IA0BIC,WAAanI,OAAO4D,UAASK,eAysBjC,SAgCImE,SAAcvE,EAAMuE,GACtB,IAGAC,EAAAC,MAAA1E,UAAA3D,MAAAmF,KAAAmD,CAAA,EAKFC,EAAA,aACA7I,EAAUa,OAAU,SAAA,CAClBiI,IAASD,EACVE,KAAAF,EA/BGG,MAASH,CAiCb,EAEA5H,EAEGyH,EAAKO,QAAYhI,EAAAiI,YAAA,EAAA,GAAA,EAGpBjI,EAAA,MAICjB,KAAAmJ,IAAAF,QAAAlE,KAAA2D,CAAA,EAGDA,EAAAU,QAAA,UAAA,EAGEN,EAAS7H,GAAQkD,MAClBsE,EAAAxH,GAAAiD,MAAAuE,EAAAC,CAAA,EAGDD,EAAAxH,GAAAyH,EAAAW,KAAA,GAAA,CAAA,CA9BA,CApuBArJ,KAAAsJ,SAAA,SAAAC,EAAAC,GACA,IAAAhJ,EAuBA,OArBA+I,EAAAA,GAAA,MACAC,EAAAA,GAAA,GAEAxJ,EAAIyJ,SAAU1J,cAAY2J,CAAO,EAEhC1J,KAAAwE,IAAAmF,KAAAH,EAAA,SAAAI,EAAAC,GASD,CAAA,IAAAD,EAAAvJ,QAAA,OAAA,GAAA,QAAAuJ,EACApJ,EAAAsJ,aAAAF,EAAAC,CAAA,EAEArJ,EAAAoJ,GAAAC,CAEA,CAAA,EAEArJ,CACA,EAnBAR,KAAIyJ,WAAa,SAASC,GA4BxB,OAAAA,EAAAK,OAAA,CAAA,EAAAb,YAAA,EAAAQ,EAAApJ,MAAA,CAAA,CA1BF,EAkCAN,KAAAwE,IAAA,GAhBAxE,KAAIwE,IAAIH,OAAS2F,OAAO3F,QAAU,SAASG,GA6B3C,SAAAyF,KAOE,OAHFA,EAAAhG,UAAAO,EAGO0F,IAAMD,CA1Bb,EAmCAjK,KAAAwE,IAAAmF,KAAA,SAAAnF,EAAAzD,EAAAoJ,GACA,IAAA,IAAA7D,KAAA9B,EACAgE,WAAA/C,KAAAjB,EAAA8B,CAAA,GACAvF,EAAA0E,KAAA0E,GAAAnG,KAAAsC,EAAA9B,EAAA8B,EAAA,CAGA,EAhBAtG,KA0BEwE,IAAK8B,MAAO4D,SAAKE,EAAAF,GAzBjB,GA0BEA,EAzBF,IA0BIG,IAAI/D,KAAQA,EACZgE,WAAYhE,KAAI4D,EAAA5D,CAAA,IAzBhB8D,EAAK9D,GAAO4D,EAAK5D,IAGrB,OA0BM8D,CAzBR,EAqCApK,KAAAwE,IAAA+F,UAAA,SAAAH,EAAAF,GACA,IAAA5D,EAAA+D,EAAAC,EAMA,IAAAhE,KAFC8D,EAAApK,KAAAwE,IAAAgG,KAAAJ,CAAA,EAEDF,EACA1B,WAAA/C,KAAAyE,EAAA5D,CAAA,IACA+D,EAAAD,EAAA9D,GACAgE,EAAAJ,EAAA5D,GAGQmE,KAAAA,IAAOA,QAAGJ,CAAS7F,GAAIxE,KAAAwE,IAAAiG,QAAAH,CAAA,EAC7BF,EAAS5F,GACJhB,KAAAA,IAAOgB,UAAQ6F,EAAQC,CACvB9F,EA1BC4F,EAAK9D,GAAO4D,EAAK5D,IAiCzB,OAAA8D,CACA,EAQApK,KAAAwE,IAAAgG,KAAA,SAAAhG,GACA,OAAAxE,KAAAwE,IAAAkG,MAAA,GAAAlG,CAAA,CACA,EAQAxE,KAAAwE,IAAAiG,QAAA,SAAAjG,GACA,MAAA,CAAA,CAAAA,GACA,WAAAhB,QAAAgB,CAAA,GACA,oBAAAA,EAAAmG,SAAA,GACAnG,EAAAJ,cAAA4F,MACA,EApBAhK,KAAIwE,IAAIG,QAAUgE,MAAMhE,SAAW,SAASxD,GA4B1C,MAAA,mBAAA6I,OAAA/F,UAAA0G,SAAAlF,KAAAtE,CAAA,CA1BF,EASAnB,KA2BE4K,MAAA,SAAAC,GACAC,OAAIlG,GAAWiG,CA1BjB,EAWA7K,KAAI+K,KAAO,SAASZ,EAASpJ,EAAIiK,GA8BjCjK,EAAA6D,OAAA7D,EAAA6D,KAAA5E,KAAA4E,IAAA,IAGA,SAAAkG,IACG,OAAK/J,EAAImD,MAAAiG,EAAAhG,SAAA,CA3BV,CAsCF,OA9BE2G,EAAIlG,KAAQoG,EAAOA,EAAM,IAAMjK,EAAG6D,KAAO7D,EAAG6D,KA8B9CkG,CACA,EAnBA9K,KA4BEiL,MAASA,GAOXjL,KAAA4E,KAAA,EAQA5E,KAACkL,QAAA,SAAA,IAAAC,MAAAC,QAAA,EApBDpL,KA4BE0E,QAAY1E,SAAIkL,GAChB,IAAWjL,GAAAA,EAAFO,EAAAR,KAAAkL,YAAU1K,EAAAR,KAAAkL,SAAAlL,KAAA4E,IAAA,IAKnB,OAHA5E,KAAAiL,MAAAhL,KACAD,KAAAiL,MAAAhL,GAAA,IAEOD,KAAGiL,MAAMhL,EAzBlB,EAQAD,KAAI2F,QA0BE,SAAAnF,GACAA,EAAGR,EAAIkL,KAAAA,SAzBX,MA0BE,EAAA,CAAAjL,GAAAD,KAAAiG,QAAAjG,KAAAiL,MAAAhL,EAAA,EAzBJ,EAiCAD,KAAAmG,WAAA,SAAA3F,GACA,IAAAP,EAAAO,EAAAR,KAAAkL,SACAlL,GAAIiG,EAAJjG,CArBE,OA0BEA,KAAAiL,MAAAhL,GAGH,IAzBG,OAAOO,EAAGR,KAAIkL,QAkChB,CAPF,MAAAG,GACA7K,EAAA8K,gBACA9K,EAAA8K,gBAAAtL,KAAAkL,OAAA,EAGA1K,EAAAR,KAAAkL,SAAA,IAEE,CAjBY,CAkBd,EASAlL,KAAGiG,QAAS,SAAGzB,GACb,IAAKxE,IAAGuL,KAACC,EAET,GAAA,OAAAhH,EAAA+G,GACD,MAAA,CAAA,EAGD,MAAA,CAAA,CACA,EAnBAvL,KA0BqDwL,SAAA,SAAAC,EAAAC,GAEnDC,MAAyC,CAAA,KAAzCA,IAAaF,EAAQG,UAAUC,KAASxL,QAAC,IAAAqL,EAAA,GAAA,CA1B3C,EASA1L,KAAI8L,SAAW,SAASL,EAASM,GA6BjC/L,KAAAwL,SAAAC,EAAAM,CAAA,IACAN,EAAAG,UAAA,KAAAH,EAAAG,UAAAG,EAAAN,EAAAG,UAAA,IAAAG,EAEA,EApBA/L,KA4BEgM,YAAc,SAASP,EAAAQ,GACvBjM,IAAG2L,EAAUO,EA1Bb,GAAKlM,KAAIwL,SAASC,EAASQ,CAAa,EAAxC,CAiCF,IAAAE,GAHAR,EAAAF,EAAAG,UAAAC,MAAA,GAAA,GAGAnG,OAAA,EAAA,GAAAyG,EAAAA,CAAA,GACAR,EAAAQ,KAAAF,GACIG,EAAUpG,OAAGnD,EAAAA,CAAS,EAI1B4I,EAAAG,UAAAD,EAAAtC,KAAA,GAAA,CAvCqD,CAwCrD,EApBArJ,KA6BEqM,SAAYrM,KAAIoM,SAAAA,OAAgB,GA5BlC,KACE,IA4ByBJ,EAAOM,SAAQvM,cAAA,OAAA,EAAEiM,EAAAO,KAAA,WACzCP,EAACQ,QAAA,KAEJxM,EAAIyM,MAAU,UACdzM,KAAI0M,SAAAA,YAAmBV,CAAA,CA3BtB,GA4BC,EApBFhM,KA8BE2M,WAAe9J,UAAK+J,UAtBtB5M,KA+BE6M,UAAA,UAAAC,KAAA9M,KAAAoM,UAAA,EACFpM,KAAI+M,QAAA,QAAAD,KAAA9M,KAAAoM,UAAA,EACJpM,KAAAgN,QAAA,QAAAF,KAAA9M,KAAAoM,UAAA,EACApM,KAAGiN,OAACC,KAAAA,WAAqBT,KAAAA,SAAezM,KAAAgN,QAGxChN,KAAGmN,aAAc,KACjBnN,IAAIoN,EAAUpN,KAAAoM,WAAcU,MAAK9M,YAAc,EAE/CA,GAAIqN,GAAAA,EAAgB,GAAI,OAAAf,EAAc,EACtCtM,GAAAA,EAEAA,KAAAyM,WAAA,WAAAK,KAAA9M,KAAAoM,UAAA,EACApM,KAAA0M,iBAAA,KAGA,IACAC,EACGW,EAFHhB,EAAAtM,KAAAoM,WAAAE,MAAA,wCAAA,EA7BE,OAiCEA,GA7BFK,EAiCEL,EAAA,IAAAM,WAAAN,EAAA,EAAA,EACFgB,EAAEhB,EAAA,IAAAM,WAAAN,EAAA,EAAA,EA/BEK,GAASW,EAkCfV,WAAAN,EAAA,GAAA,IAAAA,EAAA,EAAA,EACAK,GAGA,MAXSrB,IAaT,GAAA,EAEAtL,KAAAkN,eAAAlN,KAAAyM,YAAA,UAAAK,KAAA9M,KAAAoM,UAAA,GAAApM,KAAA0M,gBAAA,IA/BA1M,KAiCEuN,WAASC,WAAeC,KAAOC,KAAAA,UAAUC,EAhC3C3N,KAkCEwE,UAAQ,UAAAsI,KAAA9M,KAAAoM,UAAA,EAjCVpM,KAAIoN,OAAU,aAAcN,KAAK9M,KAAIoM,UAAU,EAE/CpM,KAkCEqN,cAAA,CAAA,EAAA,iBAAAxM,QAAAA,OAAA+M,eAAA9N,oBAAAe,OAAA+M,eAjCF5N,KAkCE6N,0BAAA,mBAAA7N,KAAAqM,SAAAyB,MA1BF9N,KAAI+N,qBAoCE,SAAAvN,EAAAwN,GAnCJhO,KAoCIwE,IAAAmF,KAAAqE,EAAA,SAAAN,EAAAO,GACAA,MAAAA,GAAoEP,CAAAA,IAAZrN,EAnCxDG,EAoCE8K,gBAAAoC,CAAA,EAlCFlN,EAoCEsJ,aAAA4D,EAAA,CAAA,IAAAO,EAAA,GAAAA,CAAA,CAlCN,CAAC,CACH,EAiDAjO,KAAAkO,qBAAA,SAAA9N,GACA,IAAAsN,EAAAC,EAEA3N,EAAImO,GAQF,GAAA/N,GAAAA,EAAA4N,YAAA,EAAA5N,EAAA4N,WAAAtI,OApCE,IAAK,IAqCP+H,EArCWtB,GAAIsB,EAqCRW,EAAAA,YArCc1I,OAAS,EAAQ,GAALyG,EAAQA,CAAC,GAwC5CuB,EAAAD,EAAAtB,GAAArI,KACA6J,EAAAF,EAAAtB,GAAAkC,MAIA,WAAA,OAAAjO,EAAAsN,IAAA,CAAA,IAXI,yCAWJrN,QAAA,IAAAqN,EAAA,GAAA,IAIGC,EAAM,OAAAA,GAGRnJ,EAAAkJ,GAAAC,EAID,OAAAnJ,CACA,EAUAxE,KAAAmO,qBAAA,SAAA3N,EAAA8N,GACAtO,IAAIQ,EAAK,GAST,OAREV,SAAOO,aAAoBP,SAAAyO,YAAAC,iBACzBvO,EAAQK,SAAQiO,YAAAC,iBAAAhO,EAAA,EAAA,EAAAiO,iBAAAH,CAAA,EAGXxO,EAAAA,eAtCLsO,EAAW5N,EAAG,SAAS8N,EAAWI,OAAO,EAAE,CAAC,EAAExF,YAAY,EAAIoF,EAAWI,OAAO,CAAC,GAAK,MA0C1FN,CACA,EAhCApO,KAwCE2O,YAAA,SAAAC,EAAA7G,GACA8G,EAAQA,WACR9G,EAAQ+G,aAAWC,EAAUhH,EAAGiH,UAAA,EAE5BC,EAAIH,YAAWC,CAAO,CAtC5B,EAOA/O,KAwCEkP,QAAA,GA/BFlP,KAwCEQ,GAAA,SAAAP,GAMF,OAL4B,IAArBkP,EAAC9O,QAAS,GAAG,IAElBJ,EAAOgP,EAAC3O,MAAQ,CAAA,GAGlBR,SAAAsP,eAAAnP,CAAA,CACAD,EAK8FA,KAACqP,WAAA,SAAAN,EAAAF,GAE/FA,EAAAA,GAAAE,EACA,IAAAI,EAAAL,KAAAQ,MAAAP,EAAA,EAAA,EACAvJ,EAAAsJ,KAAAQ,MAAAP,EAAA,GAAA,EAAA,EACAE,EAAAH,KAAAQ,MAAAP,EAAA,IAAA,EACAQ,EAAAT,KAAAQ,MAAAT,EAAA,GAAA,EAAA,EACAW,EAAAV,KAAAQ,MAAAT,EAAA,IAAA,EAiBA,OAPAI,EAAA,GAJAA,EAHCrE,CAAAA,MAAAmE,CAAA,GAAAA,IAAAU,EAAAA,EAODR,EAJAzJ,EAAA2J,EAAA,MAIA,EAAAK,EAAAP,EAAA,IAAA,KA/BEzJ,IAkCeyJ,GAAI,IAAAM,IAAA/J,EAAA,GAAA,IAAAA,EAAAA,GAAA,MAEpB2J,EAAAA,EAAA,GAAA,IAAAA,EAAAA,EAGD,EAGAnP,KAAA0P,mBAAA,WACA5P,SAAA4G,KAAAiJ,MAAA,EACA7P,SAAA8P,cAAA,WAAA,MAAA,CAAA,CAAA,CACA,EAEA5P,KAAA6P,qBAAA,WAAA/P,SAAA8P,cAAA,WAAA,MAAA,CAAA,CAAA,CAAA,EAzBA5P,KAAI8P,KAiCO,SAALC,GAhCJ,OAiCMC,EAAM,IAAIC,QAAM,aAAA,EAAA,CAhCxB,EASAjQ,KAAIkQ,MA+BkB,SAAUrF,EAAAsF,GAC9B,OADgCA,EAAAA,GAAA,EAC/BrB,KAAAoB,MAAArF,EAAAiE,KAAAsB,IAAA,GAAAD,CAAA,CAAA,EAAArB,KAAAsB,IAAA,GAAAD,CAAA,CACH,EAlBAnQ,KA4BiCqQ,gBAAA,SAAAC,EAAAP,GA3B/B,OA4Bc7M,KAAAA,IAAZqN,GAAyBrN,KAAAA,IAAA6M,EACnB1E,CACN3F,OAAU,EAA4B4K,MAAA,WACpCtQ,MAAO,IAACiQ,MAAA,iCAAiC,CAC1C,EACCF,IAAK,WACH/P,MAAImJ,IAAI8G,MAAA,iCAAwC,CAClD,CA1BF,EA8BF,CACDvK,OAAA,EA1BG4K,MAAO,WAAa,OAAOA,CAAO,EA4BtCP,IAAA,WAAA,OAAAA,CAAA,CACA,CACA,EArBA/P,KA4BEwQ,gBAAA,SAAAlK,EAAA+H,GACA,IAEEoC,IAAGF,EAAe1P,OAAM0P,cAAE,CAAA,EACxBG,IACFH,EAAajK,GAAK+H,EAapB,CAZA,MAAAhD,GAEU,IAAVA,EAAOoF,MAAG,MAAApF,EAAApI,KACXjD,KAAAmJ,IAAA,8BAAAkC,CAAA,EAGD,IAAAA,EAAApI,KACAjD,KAAAmJ,IAAA,qCAAAkC,CAAA,EAEArL,KAAAmJ,IAAA,+BAAAkC,CAAA,CAGE,CA7BF,EASArL,KA6BE2Q,eAAA,SAAAF,GAnBA,OAwBEG,EAFGH,EAAGzQ,MAAIsJ,cAAe,EAtBpBmH,EAwBDI,KAAI7B,SAAU,MAAA,CAClB0B,UAAA,YAAAD,EAAA,SACAI,CAAAA,EAAG7B,WAAClF,IAzBR,EAQA9J,KA6BE8Q,SAAA,SAAAL,GACA,IAAAI,EA3BAlN,EA6BEoN,CAAO,WAAQA,WAAaC,OAAQ,WAAW,SAAA,OAAA,QA1BjDJ,EA6BEG,KAAAA,SAAeA,IAAAA,CAAOE,KAAMD,CAAAA,CAAAA,EAO9BE,EAAc,KAAPH,EAAOI,MAAA,UAAAP,EAAApP,SACf0P,KA9BGL,EAAM7Q,KAAIsJ,SAAS,KAAK,GAgC5BoH,UAAA,YAAAD,EAAA,SACAG,EAAAC,EAAA7B,WAEA6B,EAAA/G,aAAA,QAAA,kCAAA,EACAhK,SAAA4G,KAAAwF,YAAA2E,CAAA,GAOEnI,IAAAA,IADAqI,EAAA,GACS5E,EAAGxD,EAAAA,EAAM1E,EAAAA,OAAgBwB,CAAAA,GAClCsL,EAAApN,EAAAwI,IAAAyE,EAAAjN,EAAAwI,IAiBA,MAZiB,UAAjB1D,EAAU5H,WACRkQ,EAAOlI,KAAIkI,EAAAI,KAAAH,QAAA,OAAA,EAAA,GAEFnI,WAATkI,EAASlI,WACVkI,EAAAI,KAAAJ,EAAAI,KAAAH,QAAA,QAAA,EAAA,GAICtI,GACD5I,SAAM4G,KAAA0K,YAAAP,CAAA,EAGPE,CA/BF,EAmDA/Q,KAkCImJ,IAAA,WAjCFL,SAkCQ,KAAG3E,SAAA,CAjCb,EAMAnE,KAoCEwH,IAAAA,QAAa3G,GA/Bfb,KAAImJ,IAAIH,MAAQ,WAsCdF,SAAA,QAAA3E,SAAA,CApCF,EAKAnE,KAAImJ,IAAIJ,KAAO,WAsCfD,SAAA,OAAA3E,SAAA,CACA,EAIAnE,KAAGqR,aAAS,SAAA7Q,GApCV,IAAI8Q,EAA0CC,EAAMzJ,EAAsB0J,EA2C5E,OAHAF,EADA9Q,EAAAiR,uBAAAjR,EAAAwH,WACAxH,EAAAiR,sBAAA,EAGAH,IA9BEI,EAqCE5R,SAAAyH,gBACFb,EAAA5G,SAAA4G,KAGDe,EAAAiK,EAAAjK,YAAAf,EAAAe,YAAA,EACDD,EAAA3G,OAAA8Q,aAAAjL,EAAAc,WACA+J,EAAAD,EAAAC,KAAA/J,EAAAC,EAEAK,EAAA4J,EAAA5J,WAAApB,EAAAoB,WAAA,EACAD,EAAAhH,OAAA+Q,aAAAlL,EAAAmB,UACA2J,EAAAF,EAAAE,IAAA3J,EAAAC,EAGA,CACAyJ,KAAAvR,KAAAkQ,MAAAqB,CAAA,EACAC,IAAAxR,KAAAkQ,MAAAsB,CAAA,CACA,GAtBA,CACAD,KAAA,EACIpQ,IAAIC,CACN,CAoBF,EAOApB,KAAAmB,IAAA,GAUAnB,KAAAmB,IAAAC,QAAA,SAAAyQ,EAAA3Q,EAAA4Q,GACA9R,GAAI+R,KAAGvN,IAAGG,QAASzE,CAAAA,GAASgB,aAAS8Q,SACnC,IAAO,IAAEC,EAAAA,EAASC,EAAAA,EAASC,OAAQC,EAAOC,EAAEC,EAAAA,EArCxCpR,EAASuE,KAAKqM,GAAW9R,KAAK6R,EAAM1F,GAAIA,EAAG0F,CAAK,EAIpD,OAsCOA,CArCT,EA+BA7R,KAAI+R,IAwCQ,SAAWlR,EAAO0R,GAvC5B,IAuC+DN,EAAWC,EAAAC,EAAAC,EAAAI,EAAAC,EAAAC,EAY1E9R,QAAAuC,KAAAC,aAAA,CACAkP,OAAAA,MAxCEK,QAAS,IA0CX,EAVAV,EAFA,UAAA,OAAA/R,EAEU,CACV0S,IAAA1S,CACA+R,EAQA/R,CAAA,EAEAgB,EAAAA,GAAA,aAvCAuR,EAyCgB5R,WACdoR,OAAOY,aAAUJ,CAAc,EAC/BR,EAAQa,KAAOb,EAAGS,EAAYK,UAAAd,EAAAe,YAAA,CAxChC,EAEAN,EAyCUO,SAAaC,GACrBjB,OAAOY,aAAaL,CAAU,EAEhCU,GAAA,UAAA,OAAAA,IACCA,EAAM,IAAAjD,MAAAiD,CAAA,GAtCLhS,EA0CM+Q,EAAQkB,CAAAA,CAzChB,EAEAC,EA0CMvS,OAAAwS,gBA9BNpB,EA4CQA,IApDNmB,EAyCMX,KAAAA,IAAAA,EAEAC,WA1CJ,IA2CE,OAAA,IAAA7R,OAAA0R,cAAA,oBAAA,CAAA,CAAA,MAAAlH,IACF,IAAA,OAAA,IAAAxK,OAAA0R,cAAA,oBAAA,CAAA,CAAA,MAAAe,IACD,IAAA,OAAA,IAAAzS,OAAA0R,cAAA,gBAAA,CAAA,CAAA,MAAAgB,IAED,MAAIrT,IAAQyS,MAAAA,+CAAS,CA3CrB,EA+CMV,IAED/R,IAAOA,EAAQ0S,IAEtBV,EAAAlS,KAAA8Q,SAAA5Q,EAAA0S,GAAA,EA3CAT,EAAStR,OAAOU,SAQZ+Q,EAuCFJ,EAAA1Q,SAAA0Q,EAAAf,OAAAgB,EAAA3Q,SAAA2Q,EAAAhB,OAvCiBtQ,CAAAA,OAAO2S,gBAAoB,oBAAqBvB,GAwDjEA,EAAc,SAANwB,EAAMjS,UAAA,SAAA2Q,EAAA3Q,SAEdyQ,EAAOS,mBAAiB,WAC1B,GAAA,IAAAT,EAAAkB,WAAA,CAEA,GAAOlB,EAAOyB,SACf,OAAAhB,EAAA,SAAA,GAGD,MAAAT,EAAA0B,QAAAvB,GAAA,IAAAH,EAAA0B,OACAlB,EAEQC,GAFR,CAIA,CACA,EAEAxS,EAAAyS,UACAH,EAAA3R,OAAA+S,WAAA,WACA,IAAA3B,EAAAkB,aACAlB,EAAAyB,SAAA,CAAA,EACAzB,EAAA4B,MAAA,EAEMvN,EAAGpG,EAAQoK,OAAI,MAlCnB2H,EAAA,IAAApR,OAAA2S,gBACGtT,OAAQ4T,EACT7B,EAAQ6B,QAAAA,EAIR7B,EAAQ8B,WAAY,aACtB9B,EAAA+B,UAAA,cAiCA,IA7CE/B,EA+CMgC,KAAO/T,EAAKgU,QAAA,MAAAhU,EAAA0S,IAAA,CAAA,CAAA,CA5CpB,CAFE,MA+CMM,GA9CN,OAAOR,EAAaQ,CAAG,CACzB,CAGGhT,EA+CQ4T,kBA9CT7B,EA+CQ6B,gBAAiB,CAAA,GAG3B5T,EAAA6T,eACA9B,EAAO7H,aAAIlK,EAAA6T,cAOb/T,IACEiS,EAAAwB,KAAA,CAGA,CAFA,MAAAP,GACA,OAAOR,EAAQtN,CAAAA,CACf,CAEA,OAAKA,CACP,EAQApF,KAAGmD,KAACgR,GA1CJnU,KAsDEkF,KAAK9B,aAAgB8B,SAAMkF,EAAAF,GAE3B,IAAI5D,EAAK8N,EAAAA,EAOXpU,IAAImU,KAFH/J,EAAApK,KAAAwE,IAAAgG,KAAAJ,CAAA,EAEG+J,EACJjK,EAAA5F,eAAAgC,CAAA,IACA+D,EAAAD,EAAA9D,GACAgE,EAAAJ,EAAA5D,GAGAtG,KAAAwE,IAAAiG,QAAAJ,CAAA,GAAArK,KAAAwE,IAAAiG,QAAAH,CAAA,EACAF,EAAA9D,GAAAtG,KAAAmD,KAAAC,aAAAiH,EAAAC,CAAA,EAEAF,EAAA9D,GAAA4D,EAAA5D,IAIA,OAAA8D,CACA,EAAApK,KAAAmU,aAAA,aAGAnU,KAAAmU,aAAAlQ,UAAAmQ,eAAA,GAGApU,KAAAmU,aAAAlQ,UAAAQ,GAAA,SAAAxD,EAAAF,GAGA,IAAAsT,EAAArQ,KAAAoB,iBACApB,KAAAoB,iBAAA4M,SAAA/N,UACAjE,KAAAyE,GAAAT,KAAA/C,EAAAF,CAAA,EACAiD,KAAAoB,iBAAAiP,CACA,EACArU,KAAAmU,aAAAlQ,UAAAmB,iBAAApF,KAAAmU,aAAAlQ,UAAAQ,GAEAzE,KAAAmU,aAAAlQ,UAAA2B,IAAA,SAAA3E,EAAAF,GACAf,KAAA4F,IAAA5B,KAAA/C,EAAAF,CAAA,CACA,EACAf,KAAAmU,aAAAlQ,UAAAiC,oBAAAlG,KAAAmU,aAAAlQ,UAAA2B,IAEA5F,KAAGmU,aAAanU,UAAI0D,IAAWE,SAAO3C,EAAAF,GACpCf,KAAAsI,IAAAtE,KAAA/C,EAAAF,CAAA,CACF,EAEAf,KAAAmU,aAAAlQ,UAAA2D,QAAA,SAAA1C,GACA,IAAAjE,EAAAiE,EAAAjE,MAAAiE,EAjDEA,EAwDElF,KAAAmF,SA5DAD,EAuDeoP,UAAf,OAAKC,EAvDG,CAyDRtT,KAAAA,CACA,EAEAiE,CAAA,EAtDElB,KAAKoQ,eAAenT,IAAS+C,KAAK,KAAO/C,IAyD3C+C,KAAA,KAAA/C,GAAAiE,CAAA,EArDFlF,KAwDE4H,QAAA5D,KAAAkB,CAAA,CAvDJ,EAEAlF,KAAImU,aAwDalQ,UAAWuQ,cAAexU,KAAKmU,aAAWlQ,UAAI2D,QArB/D5H,KAAIyU,UAwDSC,KAAAA,WAAaC,OAAS,CAMjC5Q,KAAK2Q,SAASJ,EAAOpU,EAAAC,GACrB6D,KAAK4Q,QAAWN,EAGhBtQ,KAAA6Q,SAAA7U,KAAAwE,IAAAgG,KAAAxG,KAAA6Q,QAAA,EAGA3U,EAAA8D,KAAA9D,QAAAA,CAAA,EAGA8D,KAAA8Q,IAAA5U,EAAA,IAAAA,EAAA,IAAAA,EAAA,GAAA,GAID8D,KAAA8Q,MAED9Q,KAAA8Q,KAAAR,EAAArU,IAAAqU,EAAArU,GAAA,GAAA,aAAA,cAAAD,KAAA4E,IAAA,IAGAZ,KAAA+Q,MAAA7U,EAAA,MAAA,KAGG8D,KAACyQ,IAAUxQ,EAAUsQ,IAAOvQ,KAAGsF,SAAI,EAEtCtF,KAAA0Q,UAAA,GACA1Q,KAAA4Q,YAAA,GACA5Q,KAAAgR,gBAAA,GAGGhR,KAACyQ,aAAUxQ,EAEbD,KAAA7D,MAAAA,CAAA,EAID,CAAA,IAAAD,EAAA+U,qBACAjR,KAAAkR,oBAAA,CAEA,CACAlV,CAAAA,EAKAA,KAAAyU,UAAAxQ,UAAA0Q,QAAA,WAIA,GAHA3Q,KAAA4D,QAAA,CAAA3G,KAAA,UAAAoH,QAAA,CAAA,CAAA,CAAA,EAGArE,KAAA0Q,UACA,IAAA,IAAAvI,EAAAnI,KAAA0Q,UAAAhP,OAAA,EAAA,GAAAyG,EAAAA,CAAA,GACAnI,KAAA0Q,UAAAvI,GAAAwI,SACA3Q,KAAA0Q,UAAAvI,GAAAwI,QAAA,EAMA3Q,KAAA0Q,UAAA,KACA1Q,KAAA4Q,YAAA,KACA5Q,KAAAgR,gBAAA,KAGAhR,KAAA4B,IAAA,EAGA5B,KAAAmR,IAAAnN,YACAhE,KAAAmR,IAAAnN,WAAAoJ,YAAApN,KAAAmR,GAAA,EAGAnV,KAAAmG,WAAAnC,KAAAmR,GAAA,EACAnR,KAAAmR,IAAA,IACA,EAQAnV,KAAAyU,UAAAxQ,UAAAsQ,QAAA,CAAA,EAlDAvU,KAAIyU,UAAUxQ,UAAUqQ,OAAS,WA2DjC,OAAAtQ,KAAAuQ,OACA,EAQAvU,KAAAyU,UAAAxQ,UAAA4Q,SA4CA7U,KAAAyU,UAAAxQ,UAAA/D,QAAA,SAAAsE,GACAxE,OAAakD,KAAAA,IAATuR,EAAoBW,KAAYP,SAEnC7Q,KAAA6Q,SAAA7U,KAAAmD,KAAAC,aAAAY,KAAA6Q,SAAArQ,CAAA,CA1DD,EAQAxE,KAAIyU,UAAUxQ,UAAUkR,IASxBnV,KA2DEyU,UAAYK,UAAGxL,SAAA,SAAAC,EAAAyE,GAChB,OAAAhO,KAAAsJ,SAAAC,EAAAyE,CAAA,CA1DD,EA6DAhO,KAAAyU,UAAAxQ,UAAAoR,SAAA,SAAA3L,GACA,IAAA4L,EAAAtR,KAAAuQ,QAAA7R,SAAA,EACAI,EAAAkB,KAAAuQ,QAAAzR,UAAA,EACA,OAAAA,GAAAA,EAAAwS,IAAAxS,EAAAwS,GAAA5L,GACA5G,EAAAwS,GAAA5L,GAzDSA,CA4DT,EASA1J,KAACyU,UAAAxQ,UAAAzD,GAAA,WA1DC,OAAOwD,KAAKmR,GA4Dd,EASAnV,KAAAyU,UAAAxQ,UAAAsR,WAQAvV,KAACyU,UAAAxQ,UAAAmR,UAAA,WA1DC,OAAOpR,KAAKuR,YAAcvR,KAAKmR,GA4DjC,EAQAnV,KAAAyU,UAAAxQ,UAAA6Q,IASA9U,KAAAyU,UAAAxQ,UAAAhE,GAAA,WACA,OAAA+D,KAAA8Q,GACA,EAQA9U,KAAAyU,UAAAxQ,UAAA8Q,MASA/U,KAAAyU,UAAAxQ,UAAAH,KAAA,WACA,OAAAE,KAAA+Q,KACA,EAQA/U,KAAAyU,UAAAxQ,UAAAyQ,UASA1U,KAAAyU,UAAAxQ,UAAAhC,SAAA,WACA,OAAA+B,KAAA0Q,SACA,EAnDA1U,KA2DEyU,UAAAxQ,UAAA2Q,YApDF5U,KA2DIyU,UAAAxQ,UAAAuR,aAAA,SAAAvV,GA1DF,OA2DE+D,KAAA4Q,YAAA3U,EA1DJ,EAQAD,KA2DIyU,UAAAxQ,UAAA+Q,gBApDJhV,KA4DEyU,UAAKC,UAAee,SAAU,SAAA3R,GAE9B,OAAIE,KAAOyR,gBAAiB3R,EA5D9B,EA8BA9D,KA+DEyU,UAAKgB,UAAcC,SAAc,SAAE9G,EAAA1O,GAEnC,IAAsByV,EAuBxBF,EApBuB,UAAjBG,OAAAA,GA/DFD,EAgEgB/G,EAUlBiH,GAPA3V,EAAAA,GAAA,IAO2B,gBAAAF,KAAAyJ,WAAAkM,CAAA,EAG3BzV,EAAA,KAAAyV,EAMF,IAAA9U,OAAA,QAAAgV,GAAA7R,KAAAuQ,SAAAvQ,KAAA9D,CAAA,GAIA0O,EAwBA,OArBA5K,KAAA0Q,UAAA3P,KAAA0Q,CAAA,EAEA,YAAA,OAAAA,EAAAxV,KACA+D,KAAA4Q,YAAAa,EAAAxV,GAAA,GAAAwV,IAKAE,EAAAA,GAAAF,EAAA3R,MAAA2R,EAAA3R,KAAA,KAGAE,KAAAgR,gBAAAW,GAAAF,GAKA,YAAA,OAAAA,EAAA,IAAAA,EAAA,GAAA,GACAzR,KAAAoR,UAAA,EAAAlJ,YAAAuJ,EAAA,GAAA,CAAA,EAIAA,CACA,EA3DAzV,KAqEI8V,UAAS7R,UAAGmN,YAAStN,SAAW2R,GAhElC,IAHEA,EAoEE,UAAA,OAAAA,EACAzR,KAAA+R,SAAAN,CAAA,EAlECA,IAqEQO,KAAAA,UArEb,CAGA,IADA,IAmFIC,EAnFAL,EAAa,CAAA,EAsEbzJ,EAAAnI,KAAA0Q,UAAAhP,OAAA,EAAA,GAAAyG,EAAAA,CAAA,GApEF,GAqEEnI,KAAA0Q,UAAAvI,KAAAsJ,EAAA,CACAG,EAAa,CAAA,EApEb5R,KAAK0Q,UAAU1O,OAAOmG,EAAE,CAAC,EAsEzB,KApEF,CAwEEpE,IAnEJ/D,KAAK4Q,YAAYa,EAAUxV,GAAG,GAAK,KACnC+D,KAqEEgR,gBAAAS,EAAA3R,KAAA,GAAA,KAEEmS,EAAS9J,EAAQ3L,GAAGyB,IACVA,EAAAA,aAAW+B,KAAAoR,UAAA,GApEvBpR,KAsEIoR,UAAWxG,EAAAA,YAAS6G,EAAUjV,GAAA,CAAA,CAnBJ,CAjDlC,EA2GAR,KAAAyU,UAAAxQ,UAAAiS,aAAA,WACA,IAAApS,EAAAqS,EAAAL,EAEA/N,EAAA/D,KACAgS,EAAAjO,EAAA7H,QAAA,EACA+B,EAAA+T,EAAA,SAEA,GAAA/T,EAsBIjC,GArBJ8V,EAAA,SAAAhS,EAAAqS,GAUA,CAAA,KALAA,EADAjT,KAAAA,IAAA8S,EAAAlS,GACAkS,EAAAlS,GAKAqS,KAMApO,EAAAjE,GAAAiE,EAAA2N,SAAA5R,EAAAqS,CAAA,EACG,EAIInW,KAAIwE,IAAIG,QAAMyR,CAAOpW,EAvEtB,IAAK,IAAImM,EAAI,EAAGA,EAAIlK,EAASyD,OAAQyG,CAAC,GA8ExCkK,EAHc,UAAR,OAFRzH,EAAA3M,EAAAkK,KAIOnM,EAAI+K,EACI,KAGbuL,EAAAA,EAAkBxS,KAChBuS,GAGFP,EAAAhS,EAAAqS,CAAA,OArEEnW,KAAIwE,IAAImF,KAAK1H,EAAU6T,CAAS,CAGtC,EAOA9V,KAwEIyU,UAAAxQ,UAAAsS,cAAA,WArEA,MAwEM9R,EAvEV,EAqCAzE,KA0EGyU,UAAMxQ,UAAAQ,GAAA,SAAA2R,EAAAI,EAAAC,GAzEP,IA0EE3P,EAASsP,EAAKrV,EAAAuV,EAAAD,EA7BhB,MA+BE,UAAA,OAAAD,GAAApW,KAAAwE,IAAAG,QAAAyR,CAAA,EACArV,KAAE0D,GAAGzE,KAAI+K,IAAKqL,EAAMK,KAAM1L,KAAA/G,KAAAwS,CAAA,CAAA,GAI1B1P,EAASsP,EAETnV,EAAImV,EA1EJrV,EA2EEf,KAAA+K,KAAA/G,KAAAyS,CAAA,EA1EFJ,EA2EUvP,MAGVwP,EAAO,WACLxP,EAAW7F,IAAMF,EAAGE,EAAAF,CAAA,CA1EtB,GA+ES6D,KAAA7D,EAAA6D,KACZZ,KAAAS,GAAA,UAAA6R,CAAA,GAKDI,EAAA,WACAL,EAAAzQ,IAAA,UAAA0Q,CAAA,CACA,GAEA1R,KAAA7D,EAAA6D,KAGAwR,EAAA3V,UAEAT,KAAAyE,GAAAqC,EAAA7F,EAAAF,CAAA,EACAf,KAAAyE,GAAAqC,EAAA,UAAA4P,CAAA,GAIwBL,YAAVpV,OAAQmV,EAAEC,KAGpBrW,EAAQyE,GAAAxD,EAAQF,CAAEqV,EACnBtP,EAAMrC,GAAA,UAAAiS,CAAA,IAILL,IA5EJ,EAsBArW,KAgFEyU,UAAWxQ,UAAA2B,IAAA,SAAAwQ,EAAAI,EAAAC,GACZ,IAAA3P,EAyBD,MAvBA,CAAAsP,GAAA,UAAA,OAAAA,GAAApW,KAAAwE,IAAAG,QAAAyR,CAAA,EACApW,KAAA4F,IAAA5B,KAAAmR,IAAAiB,EAAAI,CAAA,GAEA1P,EAAAsP,EACAnV,EAAAuV,EAEAzV,EAAAf,KAAA+K,KAAA/G,KAAAyS,CAAA,EA5EIzS,KAAK4B,IAAI,UAAW7E,CAAE,EAkF1BqV,EAAA3V,UAEAT,KAAA4F,IAAAkB,EAAA7F,EAAAF,CAAA,EAEAf,KAAA4F,IAAAkB,EAAA,UAAA/F,CAAA,IAEA+F,EAAAlB,IAAA3E,EAAAF,CAAA,EACA+F,EAAAlB,IAAA,UAAA7E,CAAA,IAIAiD,IACA,EA9DAhE,KAgFIyU,UAASkC,UAAUrO,IAAA,SAAA8N,EAAAI,EAAAC,GA/ErB,IAgFI1V,EAAQE,EAAKF,EAAAsV,EAAAO,EA5DjB,MA8DaC,UAAT,OAAIT,GAAqBlT,KAAAA,IAAWyB,QAAAyR,CAAA,EA/EtCpW,KAgFIsI,IAAItE,KAAC6S,IAAAA,EAAgB7W,KAAA+K,KAAA/G,KAAAwS,CAAA,CAAA,GA9EzB1P,EAgFO+P,EACP5V,EAAAuV,EACFzV,EAAAf,KAAA+K,KAAA/G,KAAAyS,CAAA,EACAJ,EAAWrS,MA9ET4S,EAAU,WAiFdP,EAAAzQ,IAAAkB,EAAA7F,EAAA2V,CAAA,EACA7V,EAAAmD,MAAAF,KAAAG,SAAA,CACA,GAEAS,KAAA7D,EAAA6D,KAEEZ,KAAK2S,GAAAA,EAAW1V,EAAI2V,CAAA,GAMb5S,IAlFT,EA8FAhE,KAAAyU,UAAAxQ,UAAA2D,QAAA,SAAA1C,GAjFE,OAkFFlF,KAAA4H,QAAA5D,KAAAmR,IAAAjQ,CAAA,EAlFSlB,IAoFT,EAWAhE,KAAAyU,UAAAxQ,UAAA0S,SAYA3W,KAAAyU,UAAAxQ,UAAA6S,qBAAA,CAAA,EA3EA9W,KAAIyU,UAAUxQ,UAAU4S,YA8FxB7W,KAAAyU,UAAAxQ,UAAA9D,MAAA,SAAAY,GAWA,OAVAA,IACAiD,KAAA2S,SACA5V,EAAA0E,KAAAzB,IAAA,GAE4Bd,KAAAA,IAAxBuR,KAAUxQ,cACP6H,KAAAA,YAAS,IAEf9H,KAAA6S,YAAA9R,KAAAhE,CAAA,IAGDiD,IACA,EA5EAhE,KAmFEyU,UAAWxQ,UAAA8S,aAAA,WACZ/S,KAAA2S,SAAA,CAAA,EAED,IAAAK,EAAAhT,KAAA6S,YAEA,GAAAG,GAAA,EAAAA,EAAAtR,OAAA,CAEA,IAAA,IAAAyG,EAAA,EAAA8K,EAAAD,EAAAtR,OAAAyG,EAAA8K,EAAA9K,CAAA,GACA6K,EAAA7K,GAAA1G,KAAAzB,IAAA,EAIEA,KAAO6S,YAAI,GAGb7S,KAAA4D,QAAA,OAAA,CACA,CACA,EAWA5H,KAAAyU,UAAAxQ,UAAAuH,SAAA,SAAAE,GACA,OAAA1L,KAAAwL,SAAAxH,KAAAmR,IAAAzJ,CAAA,CACA,EAQA1L,KAAAyU,UAAAxQ,UAAA6H,SAAA,SAAAC,GAEE,OADF/L,KAAIyU,SAAUxQ,KAAAA,IAAUrC,CAAQ,EACvBoC,IACT,EAQAhE,KAAAyU,UAAAxQ,UAAAiT,YAAA,SAAAjL,GAEA,OADAjM,KAAAkX,YAAAlT,KAAAmR,IAAAlJ,CAAA,EACAjI,IACA,EA5EAhE,KAAIyU,UAAUxQ,UAAUkT,KAAO,WAqF/B,OADAnT,KAAAkT,YAAA,YAAA,EACAlT,IACA,EA5EAhE,KAmFEyU,UAAY7S,UAAMA,KAAW,WAjF7B,OAkFDoC,KAAA8H,SAAA,YAAA,EAlFQ9H,IAoFT,EASAhE,KAAAyU,UAAAxQ,UAAAmT,YAAA,WAEA,OADApT,KAAA8H,SAAA,kBAAA,EACA9H,IACA,EA1EAhE,KAAIyU,UAmFSxQ,UAAAoT,cAAA,WAjFX,OADArT,KAmFEkT,YAAA,kBAAA,EAlFKlT,IACT,EAQAhE,KAAIyU,UAAUxQ,UAAUqT,QAAU,WAChCtT,KAmFEuT,KAAA,EAlFFvT,KAmFEmT,KAAKK,YAlFT,EAeAxX,KAiFIyU,UAAAxQ,UAAArC,MAAA,SAAAiJ,EAAA2M,GAhFF,OAiFExT,KAAOyT,UAAanX,QAAQoX,EAAAA,CAAa,CAhF7C,EAeA1X,KAkFIyU,UAAAxQ,UAAApC,OAAA,SAAAgJ,EAAA2M,GAjFF,OAkFExT,KAAA2T,UAAA,SAAA9M,EAAA2M,CAAA,CAjFJ,EA2FAxX,KAAGyU,UAAUxQ,UAAU2T,WAAS,SAAAhW,EAAAC,GAEhC,OAAAmC,KAAApC,MAAAA,EAAA,CAAA,CAAA,EAAAC,OAAAA,CAAA,CACA,EA9DA7B,KAmFEyU,UAAAxQ,UAAA0T,UAAA,SAAAE,EAAAhN,EAAA2M,GACAM,OAAAA,KAAAA,IAAAA,GAO4B1M,CAAAA,KAAxB2M,IAJFlN,EADM,OAAHpG,GAAiBzE,CAAAA,KAAA4K,MAAS1F,CAAAA,EAK3B6S,EAJF,IAIY1X,QAAO8K,GAAK,GAAW,CAAA,KAAA,GAAAN,GAAAxK,QAAA,IAAA,EACjC2D,KAAAmR,IAAArH,MAAA+J,GAAAhN,EAEF7G,KAAAmR,IAAArH,MAAA+J,GADmB,SAAjBG,EACF,GAGiCnN,EAAE,KAIlC2M,GAAoBxT,KAAE4D,QAAA,QAAA,EAGhB5D,MAKLA,KAAAmR,IAMH,CAAA,KADC6C,GADFC,EAAQjU,KAAAmR,IAAR8C,MAAkBJ,IACHxX,QAAK,IAAA,GAGZoX,SAAA5N,EAAcoO,MAAM,EAAAP,CAAA,EAAA,EAAA,EAO1BD,SAAAzT,KAAAmR,IAAA,SAAAnV,KAAAyJ,WAAAoO,CAAA,GAAA,EAAA,EAfE,CAxDN,EA4FA7X,KAAAyU,UAAAxQ,UAAAiU,SAYAlY,KAAAyU,UAAAxQ,UAAAkU,cAAA,WACA,IAAAH,EAAAC,EACAG,EAAAC,EAGAN,EAAA,EACA/X,EAAciE,KASZqU,KAAAA,GAAM,aAAY,SAAYpT,GAGpB,IAARoT,EAAQC,QAAA7S,SACR8S,EAAAxY,KAAAwE,IAAAgG,KAAAtF,EAAAqT,QAAA,EAAA,EAEAR,GAAA,IAAA5M,MAAAC,QAAA,EAEA4M,EAAA,CAAA,EAEF,CAAC,EArFDhU,KAwFEsU,GAAM,YAAE,SAAApT,IAEWuT,EAAfvT,EAACwT,QAAahT,QAGZ8S,IAGTJ,EAAAlT,EAAAqT,QAAA,GAAAnR,MAAAoR,EAAApR,MAxFKiR,EAAQnT,EAAMqT,QAAQ,GAAG7Q,MAAQ8Q,EAAW9Q,MA8D7BiR,GA4BrB7J,KAAA8J,KAAAR,EAAAA,EAAAC,EAAAA,CAAA,MAEAL,EAAA,CAAA,EAGA,CAAA,EAOEhU,KAAI6U,GAAAA,aALJ9X,EAAKf,WAxFHgY,EAAa,CAAA,CA0Ff,CAGIa,EAzFJ7U,KA0FES,GAAKoO,cAAaiG,CAAAA,EAOpB9U,KAAAS,GAAOqU,WAAS,SAAA5T,GAIlB,EAHCsT,EAAA,QAGDR,IAEA,IAAA7M,MAAAC,QAAA,EAAA2M,EAzIuB,MA4InBtD,EAASjO,eAAWqM,EACtBA,KAAAA,QAAaiG,KAAU,EAxFvB,CAAC,CAkGH,EAxEA9Y,KAuGE6Y,UAAUjU,UAAOsQ,oBAAiB6D,WAElC,IAAIT,EAAKG,EAAWI,EAItB7U,KAAAsQ,OAAA,EAAAqE,qBAKAL,EAAAtY,KAAA+K,KAAA/G,KAAAsQ,OAAA,EAAAtQ,KAAAsQ,OAAA,EAAAqE,kBAAA,EAEA3U,KAAAS,GAAA,aAAA,WACA6T,EAAA,EAIAtU,KAAA0U,cAAAD,CAAA,EAEE1U,EAAAA,KAAeuQ,YAAQpU,EAAQ,GAAA,CAxG/B,CAAC,EAED8Y,EA2GU,SAAO9T,GACfoT,EAAO,EAEPtU,KAAKS,cAAWgU,CAAY,CAC9B,EAGFzY,KAAIiZ,GAAAA,YAAiB3P,CAAAA,EACnBtF,KAAIxD,GAAE,WAAAwY,CAAA,EA3GNhV,KAAKS,GAAG,cAAeuU,CAAQ,EACjC,EAQAhZ,KA4GIyU,UAAOA,UAAUxQ,WAAUqF,SAAcvI,EAAI4R,GA3G/C5R,EAAKf,KAAI+K,KAAK/G,KAAMjD,CAAE,EAiHlB,SAAA8X,IAEF7U,KAAKkV,aAAYJ,CAAOxP,CA5G1B,CAJA,IA4GEwP,EAAKvD,WAAiBjM,EAAAA,CAAS,EAajC,OAnHAuP,EA6GIjU,KAAA,eAAAkU,EA3GJ9U,KA8GKkI,GAAAA,UAAY2M,CAAKtD,EAGf/U,CACT,EAvGAR,KAAIyU,UAAUxQ,UAAU4O,aAAe,SAASiG,GAiH9CjG,aAAAiG,CAAA,EAEe,SAAZD,KAKH,OAJDA,EAAAjU,KAAA,eAAAkU,EAEC9U,KAAA4B,IAAA,UAAAiT,CAAA,EAEAC,CA/GF,EAQA9Y,KAgHEA,UAAQF,UAAUqZ,YAAepO,SAAShK,EAAEqY,GAC7CrY,EAAAf,KAAA+K,KAAA/G,KAAAjD,CAAA,EAID,SAAA8X,IACA7U,KAAA0U,cAAAK,CAAA,CACA,CAJA,IAAAA,EAAAI,YAAApY,EAAAqY,CAAA,EAUErV,OAJF8U,EAAAjU,KAAA,gBAAAmU,EAEA/Y,KAAIqZ,GAAAA,UAAa5E,CAAU7Q,EAEnBmV,CA/GR,EAOA/Y,KAiHIyU,UAAQxQ,UAASyU,cAAa,SAAAK,GAhHhCL,cAiHUK,CAAaO,EAGP,SAAdT,KAMFlV,OAvHAkV,EAkHUvE,KAAM,gBAAkByE,EAElC/U,KAAA4B,IAAA,UAAAiT,CAAA,EAGKE,CAlHP,EA8HA/Y,KAACiZ,OAAAjZ,KAAAyU,UAAA7Q,OAAA,CAOCG,KAAKU,SAAG3E,EAAUI,GAClBF,KAAKyE,UAAWgB,KAAEzB,KAASsQ,EAAOiF,CAAAA,EAElCvV,KAAOmU,cAAW,EAGnBnU,KAAAS,GAAA,MAAAT,KAAAwV,OAAA,EAtHGxV,KAAKS,GAAG,QAAST,KAAKwV,OAAO,EAwHjCxV,KAAAS,GAAA,QAAAT,KAAAyV,OAAA,EACGzV,KAACqV,GAAOpV,OAAAA,KAAUyV,MAAAA,CAErB1Z,CAvHA,CAAC,EAEDA,KAyHEiZ,OAASnZ,UAAUwJ,SAAW,SAAOoQ,EAAAA,GAkCrC,OA7BA/V,EAAKgW,KAAOnV,IAACkG,MAAA,CACdkB,UAAA5H,KAAAuS,cAAA,EAEEqD,KAAQ3V,SACT4V,YAAA,SACAC,SAAA,CACA,EAAAnW,CAAK,EAELnD,EAAAR,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA/C,EAAA0C,CAAA,EAxHKA,EAAM+M,YA4HX1M,KAAI+V,WAAW/Z,KAAAsJ,SAAA,MAAA,CACX0Q,UAAW,qBACXC,CAAAA,EAzHFjW,KAAKkV,aAAelZ,KAAIsJ,SAAS,OAAQ,CA4H3CsC,UAAA,mBACI8E,UAAOsJ,KAAQ3E,SAAKrR,KAAQkW,UACpB,GAAKF,WAGXA,CAAAA,EAGND,KAAAA,WAAcC,YAAQhW,KAAAkV,YAAA,EA9HpB1Y,EAAG0L,YAAYlI,KAAKuR,UAAU,GAkI5B0E,CA9HN,EAEAja,KAAIiZ,OAiIIkB,UAAcF,cAAYG,WA/HhC,MAkIM,eAAApa,KAAAyU,UAAAxQ,UAAAsS,cAAA9Q,KAAAzB,IAAA,CAjIR,EAGAhE,KAAIiZ,OAmIIoB,UAAAA,QAAyBC,aAhIjCta,KAAIiZ,OAAOhV,UAAUwV,QAAU,WAC7BzZ,KAoIEyE,GAAA3E,SAAA,UAAAE,KAAA+K,KAAA/G,KAAAA,KAAAuW,UAAA,CAAA,CAnIJ,EAGAva,KAoIIia,OAAOzZ,UAAU+Z,WAAYrK,SAAMsK,GAlIlB,IAAftV,EAAMuV,OAA8B,IAAfvV,EAAMuV,QAqI/BvV,EAAAsB,eAAA,EACAxC,KAAOwV,QAAE,EAlIX,EAGAxZ,KAqIEiZ,OAAQ3H,UAAWoJ,OAAMC,WAEzBna,KAAEoF,IAAG9F,SAAQ,UAAAE,KAAA+K,KAAA/G,KAAAA,KAAAuW,UAAA,CAAA,CArIf,EAUAva,KAyIIqZ,OAAIY,KAAQxF,UAAA7Q,OAAA,CAvIdG,KAyII,SAAAuQ,EAAApU,GAxIFF,KAyIE0a,UAAWjV,KAAImV,KAAOtG,EAAKpU,CAAA,EAtI7B8D,KAAK6W,IAAM7W,KAAK+R,SAAS/R,KAAK6Q,SAAkB,OAAC,EA0IjD7Q,KAAAiW,OAAAjW,KAAA+R,SAAA/R,KAAA6Q,SAAA,UAAA,EAGD7Q,KAAMS,GAAA,YAAAT,KAAA8W,WAAA,EACLC,KAAItW,GAAG6M,aAAQtN,KAAA8W,WAAA,EAEf9W,KAAIkB,GAAAA,QAAM8V,KAAAA,OAAgB,EA1I1BhX,KA2IEoD,GAAK,OAAS4T,KAAAA,MAAAA,EAChBhX,KAACS,GAAM,QAAAT,KAAAwV,OAAA,EAEPxV,KAAAS,GAAA6P,EAAA,kBAAAtQ,KAAA2V,MAAA,EAEA3V,KAAIiW,GAAAA,EAAQjW,KAAAiX,YAAAjX,KAAA2V,MAAA,CA3Id,CACF,CAAC,EAED3Z,KAAIqZ,OA4IMpV,UAAWiX,SAAY,SAAAja,EAAA0C,GAc/B,OAzJAA,EA4IQA,GAAO,IA1ITiI,UAAYjI,EAAMiI,UAAY,cACpCjI,EA4IE3D,KAAAwE,IAAAkG,MAAA,CACAkP,KAAO9K,SACTqM,gBAAA,EACDC,gBAAA,EAEEC,gBAAiB,IAClBvB,SAAQha,CACT,EAAA6D,CAAA,EAGKuB,KAAMuV,UAAWxW,UAAUwW,SAAShV,KAAIzB,KAAA/C,EAAA0C,CAAA,CA7I9C,EAEA3D,KA6IIqZ,OAAKiC,UAAUR,YAAA,SAAA5V,GACjBA,EAACsB,eAAgBiU,EA5IjBza,KA4IqD0P,mBAAA,EA3IrD1L,KA4IEkB,SAAMsB,aAAgB,EAExBxC,KAAAS,GAAA3E,SAAA,YAAAkE,KAAA0V,WAAA,EACD1V,KAAAS,GAAA3E,SAAA,UAAAkE,KAAAuV,SAAA,EAEDvZ,KAAIqZ,GAAAA,SAAOpV,YAAmBD,KAAA0V,WAAU,EACtC1V,KAAK4B,GAAG9F,SAAS,WAAakE,KAAKuW,SAAAA,EA3InCvW,KAAK0V,YAAYxU,CAAK,CA8IxB,EAGAlF,KAAAqZ,OAAApV,UAAAyV,YAAA,aAEA1Z,KAAGqZ,OAAOpV,UAAUsV,UAAW,WAC7BrU,KAAAA,qBAAMgC,EACNhC,KAAKgS,YAAC1Q,aAAgB,EA3ItBxC,KAAK4B,IAAI9F,SAAU,YAAakE,KAAK0V,WAAW,EA8IlD1V,KAAA4B,IAAA9F,SAAA,UAAAkE,KAAAuV,SAAA,EACAvV,KAAA4B,IAAA9F,SAAA,YAAAkE,KAAA0V,WAAA,EACA1V,KAAA4B,IAAA9F,SAAA,WAAAkE,KAAAuV,SAAA,EAEAvV,KAAA2V,OAAA,CACA,EAEA3Z,KAAGqZ,OAACkC,UAAevb,OAAIyU,WAGvB,IAQI8G,EACF5X,EAwBF2W,EAOCE,EAGET,EA3CH/V,KAAAmR,MAOA6E,EAAAhW,KAAAwX,WAAA,EACID,EAAAA,KAAatX,OACfN,EAAQA,KAAKkX,IAWfd,EAHCC,EALuB,UAAtBrW,OAAQ3D,GACN0Q,GAAWsJ,GACVrW,EAAM,GAETqW,IAAWvF,EAAAA,EACZ,EAGDuF,EAIAC,IAGAwB,EADAzX,KAAAmR,IACAiF,YAgBGL,GAHFS,EAAAR,GAH2BjP,GAJ5BuP,GAJIoB,EAAWjH,EAAU7Q,GAAAA,EAAOwW,aAIhCD,EAAAsB,EAAA,KAU8BnB,EAAU,EAGpC1O,EAAAA,GAAS,EAAEkC,MAAAyD,KAAAvR,KAAAkQ,MAAA,IAAAsK,EAAA,CAAA,EAAA,KAIX5O,KACAiP,EAAAra,GAAA,EAAAsN,MAAAlM,MAAA5B,KAAAkQ,MAAA,IAAA6J,EAAA,CAAA,EAAA,IA5IJ,EAEA/Z,KA8IEqZ,OAAApV,UAAA0X,kBAAA,SAAAzW,GACAlF,IAqCDkb,EATGxK,EA5IEtJ,EA5BJ5G,EA8IE0E,KAAMgC,IACRoK,EAAEtR,KAAAqR,aAAA7Q,CAAA,EAEFma,EAAOna,EAAEA,EAAA4Z,YACVH,EAAAjW,KAAAiW,OAED,OAAAjW,KAAA9D,QAAA,EAAA,UACAwa,EAAApJ,EAAAE,IAGA9J,GADAxC,EAAA8V,eACA9V,EAAA8V,eAAA,GAEA9V,GAFAwC,MAKEuS,IAGES,IAFIE,EAAN7W,EAAeuQ,GAAQpU,EAAAA,cAEC,EACxB0b,GAAAhB,GAIEiB,KAAS5X,IAAAA,EAAS6K,KAACxF,IAAQ,GAAGoR,EAAAhT,EAAe/D,GAAMiY,CAAA,CAAA,IAGnDlL,EAAAA,EAAWa,KA5ITnK,GA8ILlC,EAAA8V,eA9Ia9V,EAAM8V,eAAe,GAiJnC9V,GAjJsCkC,MAoJ/B0U,IAIPf,IAHCG,EAAAjB,EAAAzZ,GAAA,EAAA4Z,aAGD,EACAO,GAAAO,GAISpP,KAAAA,IAAS,EAAAgD,KAAAiN,IAAc,GAAC3U,EAAA2T,GAAAJ,CAAA,CAAA,EA7IjC,EAEA3a,KA+IIqZ,OAAKlE,UAAIrL,QAAa,WACxB9F,KAAAS,GAAA3E,SAAA,UAAAkE,KAAAuW,UAAA,CACF,EAGAva,KAAAqZ,OAAApV,UAAAsW,WAAA,SAAArV,GACA,IAAAA,EAAAuV,OAAA,IAAAvV,EAAAuV,OACAvV,EAAAsB,eAAA,EACAxC,KAAAsX,SAAA,GACA,IAAApW,EAAAuV,OAAA,IAAAvV,EAAAuV,QACAvV,EAAAsB,eAAA,EACGxC,KAACgY,YAAahc,EA9IjB,EAEAA,KAiJIqZ,OAAKM,UAAQL,OAAA,WAhJftV,KAkJE4B,IAAO9F,SAAU,UAAOya,KAAAA,UAAW,CAjJvC,EAOAva,KAoJIqZ,OAAKjI,UAAYoI,QAAU,SAAAtU,GAC7BA,EAAAgC,yBAAA,EAEAhC,EAAK+W,eAAW,CApJlB,EA+JAjc,KAAAub,aAAAvb,KAAAyU,UAAA7Q,OAAA,EA9IA5D,KAuJEub,aAAAtX,UAAAiY,aAAA,EApJFlc,KAAIub,aAuJatX,UAAAqF,SAAgB,SAAArI,EAAA0C,GA/I/B,OAPAA,EAuJI+M,GAAW1Q,IAEV4L,UAAAjI,EAAAiI,UAAA,qBACLjI,EAAA3D,KAAAwE,IAAAkG,MAAA,CAEAgG,UAAa,kCAAqB1M,KAAAkY,aAAA,SAElC,EAAAvY,CAAQ,EAED3D,KAAImM,UAAQlI,UAAQkY,SAAY1W,KAAKzB,KAAE,MAAAL,CAAA,CAxJhD,EAsKA3D,KAAG0b,KAACM,KAAUvH,UAAU7Q,OAAC2S,EAMzBvW,KAAA0b,KAAAzX,UAAAmY,QAAA,SAAA3G,GACAzR,KAAA0R,SAAAD,CAAA,EACAzV,EAAIgc,GAAU,QAAC/X,KAAUwV,KAAOzV,KAAG,WACnCA,KAAAqT,cAAA,CACArX,CAAAA,CAAG,CAEHA,EAxJAA,KA2JE0b,KAAAzX,UAAAqF,SAAA,WACA,IAAI+S,EAAerY,KAAK9D,QAAM,EAAImc,eAAY,KAI1C7b,GA9JJwD,KA2JEuR,WAAU8B,KAAAA,SAAegF,EAAA,CACzBzQ,UAAS0Q,kBACX,CAAC,EACQC,KAAAA,UAActY,UAACqF,SAAA7D,KAAAzB,KAAA,MAAA,CACtBwY,OAAKC,KAAAA,WACN7Q,UAAM,UA1JP,CAAC,GAUD,OAkJApL,EAAA0L,YAAAlI,KAAAuR,UAAA,EAMAvV,KAAIkF,GAAAA,EAAMuV,QAAS,SAAMvV,GACvBA,EAAIsB,eAAK+V,EA5JTrX,EA6JMgC,yBAAgB,CA5JxB,CAAC,EA+JC1G,CA5JJ,EAUAR,KA8JE6b,SAAKU,KAAAA,OAAiB3Y,OAAI,CAE1BG,KAAKoR,SAAIrL,EAAa5J,GACtBF,KAAIiZ,OAAKkD,KAASnY,KAAKmY,EAAMzW,CAAU,EACrC1B,KAAKmY,SAAS3b,EAAc,QAAA,CAC9B,CACF,CAAC,EA3JDR,KA+JE6b,SAAUxE,UAAAA,SAAe,SAAApW,EAAA0C,GACzB,OAAKwR,KAAIrL,OAAAA,UAAaR,SAAc7D,KAAEzB,KAAM,KAAAhE,KAAAwE,IAAAkG,MAAA,CAC7CkB,UAAA,gBACD8E,UAAA1M,KAAAqR,SAAArR,KAAA6Q,SAAA,KAAA,CACA,EAAAlR,CAAA,CAAA,CACA,EA1JA3D,KA+JG6b,SAAU5X,UAAOhB,QAAS,WA9J3Be,KA+JE8X,SAAA,CAAA,CAAA,CA9JJ,EAMA9b,KA+JI6b,SAAKa,UAAaZ,SAAW,SAACa,GAChCb,GACD9X,KAAA8H,SAAA,cAAA,EA9JG9H,KAAKmR,IAAIrL,aAAa,gBAAgB,CAAA,CAAI,IAiK9C9F,KAAAkT,YAAA,cAAA,EACAlT,KAAAmR,IAAArL,aAAA,gBAAA,CAAA,CAAA,EAEA,EASA9J,KAAGgc,WAAY/X,KAAAA,OAAUyY,OAAO,CAEhC3Y,KAAA,SAAAuQ,EAAApU,GACAF,KAAAiZ,OAAAxT,KAAAzB,KAAAsQ,EAAApU,CAAA,EAEA8D,KAAA2V,OAAA,EAEA3V,KAAAS,GAAA,UAAAT,KAAAuW,UAAA,EACAvW,KAAAmR,IAAArL,aAAA,gBAAA,CAAA,CAAA,EACA9F,KAAAmR,IAAArL,aAAA,OAAA,QAAA,CACA,CACA9J,CAAAA,EAGiCA,KAAAgc,WAAA/X,UAAA0V,OAAA,WAC/B,IAAAsC,EAAAjY,KAAA4Y,WAAmB,EACnB5Y,KAAAiY,MAA+BjY,KAAAoN,YAAApN,KAAAiY,IAAA,EAE/BjY,KAAAiY,KAAAA,EAA+BjY,KAAA0R,SAAAuG,CAAA,EAEhCjY,KAAAmY,OAAA,IAAAnY,KAAAmY,MAAAzW,OAEE1B,KAAC6Y,KAAAA,EACC7Y,KAAAmY,OAAgC,EAAhCnY,KAAAmY,MAAgCzW,QAClC1B,KAAEmT,KAAA,CA3JL,EAOAnX,KA6JEA,WAAI6c,UAAeA,eAAWC,CAAAA,EA3JhC9c,KA6JEA,WAAI6c,UAAW5Y,WAAc4Y,WAC/B,IAAAZ,EAAA,IAAAjc,KAAA0b,KAAA1X,KAAAuQ,OAAA,EAaEwI,GAvKI/Y,KAAK9D,QAAQ,EAAE8c,OA8JnBf,EAAA7G,UAAA,EAAAlJ,YAAAlM,KAAAsJ,SAAA,KAAA,CACFsC,UAAA,iBACA8E,UAAA1Q,KAAAyJ,WAAAzF,KAAA9D,QAAA,EAAA8c,KAAA,EACAC,SAAA,CAAA,CACA,CAAA,CAAA,EAGEjZ,KAAAmY,MAAAnY,KAAA,YAAA,EAEA+Y,KAASZ,MAGL,IAAA,IAAAhQ,EAAA,EAAAA,EACAnI,KAAAmY,MAAAzW,OACAyG,CAAA,GAKF8P,EAAAG,QAAApY,KAAAmY,MAAAhQ,EAAA,EAkBA,OAAA8P,CAjLJ,EAKAjc,KAkMEgc,WAAA/X,UAAAiZ,YAAA,aA/LFld,KAkMIgc,WAAW7P,UAASrM,cAAU,WAjMhC,OAkMIqd,KAAAA,UAAoBhR,oBAAEnM,KAAAiZ,OAAAhV,UAAAsS,cAAA9Q,KAAAzB,IAAA,CAjM5B,EAMAhE,KAkMEgc,WAAImB,UAAY1D,QAAA,aAhMlBzZ,KAmMIgc,WAAQ/X,UAAIkZ,OAAWzX,aAjM3B1F,KAmMIgc,WAAA/X,UAAAuV,QAAA,WAKJxV,KAAAsE,IAAA,WAAAtI,KAAA+K,KAAA/G,KAAA,WACAA,KAAAiY,KAAA5E,cAAA,EACArT,KAAAmR,IAAAmH,KAAA,CACA,CAAA,CAAA,EACAtY,KAAAuY,eACAvY,KAAAyY,cAAA,EAEAzY,KAAAoZ,YAAA,CAEA,EAEApd,KAAAgc,WAAA/X,UAAAsW,WAAA,SAAArV,GAGA,IAAAA,EAAAuV,OAAA,IAAAvV,EAAAuV,OACAzW,KAAAuY,eACAvY,KAAAyY,cAAA,EAEAzY,KAAAoZ,YAAA,EAGElY,EAAAsB,eAAA,GAEF,IAAAtB,EAAAuV,QACAzW,KAAAuY,gBACAvY,KAAAyY,cAAA,EAEAvX,EAAAsB,eAAA,EAEA,EAnMAxG,KAqMIgc,WAAW5b,UAAKgd,YAAA,WApMlBpZ,KAAKuY,eAAiB,CAAA,EACtBvY,KAqMEiY,KAAA7E,YAAA,EApMFpT,KAqMKmR,IAAGrL,aAAa,eAAe9J,CAAAA,CAAI4E,EApMpCZ,KAAKmY,OAA6B,EAApBnY,KAAKmY,MAAMzW,QAsM3B1B,KAAAmY,MAAA,GAAA3b,GAAA,EAAAmP,MAAA,CAnMJ,EAEA3P,KAqMIgc,WAAA/X,UAAAwY,cAAA,WApMFzY,KAqMEuY,eAAA,CAAA,EApMFvY,KAqMEiY,KAAA5E,cAAA,EApMFrT,KAqMEmR,IAAArL,aAAA,eAAA,CAAA,CAAA,CApMJ,EAKA9J,KAqMI6c,WAAA,SAAA5Z,GACkB/C,UAAlB,OAAKmd,EApMLrZ,KAAKf,KAAOA,EAsMZ,UAAA,OAAAA,EAnMAe,KAAK0Y,QAAUzZ,EAsMf,WAAAO,QAAAP,CAAA,GACAjD,KAAIwE,IAAC8Y,MAAOtZ,KAAG9D,CAAQ,EAGvB8D,KAAKuZ,UACLvZ,KAAA0Y,QAAA1c,KAAA6c,WAAAF,gBAAA3Y,KAAAf,OAAA,GAnMJ,EAOAjD,KAqMI6c,WAAA5Y,UAAAhB,KAAA,EA7LJjD,KAqMI6c,WAAA5Y,UAAAyY,QAAA,GA1LJ1c,KAsMI6c,WAAA5Y,UAAA0P,OAAA,KApMJ3T,KAsMI6c,WAAAC,WAAA,CArMF,mBACA,oBACA,oBACA,mBACA,8BACA,uBAGF9c,KAAI6c,WAuMUF,gBAAA,CAtMZa,EAuME,iCAtMFC,EAwME,8DACFC,EAAA,8HACAC,EAAA,qHAvMAC,EAAG,mEAyML,EAIA,IAAA,IAAAC,OAAA,EA61LMC,GA71LND,OAAA7d,KAAA6c,WAAAC,WAAApX,OAAAmY,MAAA,GACA7d,KAAA6c,WAAA7c,KAAA6c,WAAAC,WAAAe,SAAAA,OAtME7d,KAAI6c,WAAW5Y,UAAUjE,KAAI6c,WAAWC,WAAWe,SAAWA,QA0MhE,KACA,IAAAd,EAAAgB,EAAAZ,EAAAhR,EA4DAnM,IArDEA,KAAAkP,QAAA8O,cAiDAD,GArPAhB,EAAS,CA2MX,CACA,oBACA,iBACA,oBACA,oBACIrc,mBAEAA,mBAvMA,CA2MJ,0BACA,uBACA,0BACA,0BACA,yBACA,yBAGA,CACIA,0BAzME,yBA2MN,iCACA,yBACA,yBACA,yBAGA,CACA,uBACIA,sBACE,uBACJ,uBACI,sBAzMA,sBA6MJ,CAAsC,sBAA2B,mBAC7D,sBAAkC,sBAA2B,qBAE7D,uBAEJ,GAIEA,EAAAA,EAAOuD,EAAAA,EAASyB,OAACuY,CAAAA,GAEfC,GAAAA,EAAS/R,GAAA,KAAArM,SAAA,CACTI,EAAU6c,EAAA5Q,GACR,KArMJ,CA4MF,GAAAgR,EAGE,IAFFnd,KAAIke,QAASF,cAAU,GAErB7R,EAAA,EAAAA,EAAAgR,EAAAzX,OAAAyG,CAAA,GACAnM,KAAIwE,QAASwZ,cAAahe,EAAQmM,IAAMgR,EAAUhR,EAnMrD,GAwMC,EAnLFnM,KAAIU,OAASV,KAAIyU,UAAU7Q,OAAO,CAWhCG,KA6MMoa,SAAQ/d,EAAAF,EAASC,IA5MrB6D,KA6MK4H,IAAAA,GAGL3L,GAAAG,EAAAH,IAAA,aAAAD,KAAA4E,IAAA,GAGFZ,KAAAoa,cAAAhe,GAAAJ,KAAAkO,qBAAA9N,CAAA,EAOAA,EAAYJ,KAAIQ,IAAGkK,MAAA1G,KAAYia,eAAI7d,CAAA,EAAAF,CAAA,EA1MjC8D,KAAKqa,UAAYne,EAAkB,UAAKF,KAAIE,QAAkB,SAgNhE8D,KAAKpC,WAAWiT,EAAuB,WAAG7U,KAAAE,QAAA,UAG1C8D,KAAAsa,OAAA,GA1MEta,KAAKsZ,QAAUpd,EAAgB,QAAK,GAgNpCE,KAAI4H,UAAWuW,CAAAA,CAAAA,EAAqB,SAItCne,EAAAoe,SAAA,CAAA,EAIAte,EAAA+U,oBAAA,CAAA,EAGAjR,KAAOya,QAA+B,UAA9Bza,KAAW5D,IAAEK,SAAKie,YAAY,CAAA,EAKtC1e,KAAKyE,UAAUgB,KAAMzB,KAAC2a,KAAQze,EAAAC,CAAA,EAIzBsE,KAAG+Z,SAAY,EAChBxa,KAAI8H,SAAA,sBAAuB8S,EAG/B5a,KAAS8H,SAAA,uBAAA,EAGX9H,KAAAya,QAAA,GACAza,KAAA8H,SAAA,WAAA,EAWE9L,KAAI6e,QAAQ7a,KAAK8Q,KAAO9Q,KAElB9D,EAAW,SACjBF,KAAAwE,IAAAmF,KAAAzJ,EAAA,QAAA,SAAAoG,EAAAuD,GAEKgV,KAAAA,GAAWA,CAAAA,CA/MZ,EAAG7a,IAAI,EAoNXA,KAAI8a,sBAAAA,CAhNJ,CACF,CAAC,EAQD9e,KA+MIU,OAAKqe,UAAYV,UAvMrBre,KAgNEU,OAASuD,UAAOpD,SAAO,SAAWge,GAElC,OAAgBC,KAAAA,IAAZE,EACLhb,KAAAqa,WAKCra,KAAKib,UAAYD,EAEZC,KACP,EAQAjf,KAAAU,OAAAuD,UAAAoZ,WAEArd,KAAAU,OAAAuD,UAAAnB,UAAA,WACA,OAAAkB,KAAAqZ,UACA,EAWArd,KAAGU,OAAOuD,UAAU4Q,SAAC6J,KAAcxe,QA1MnCF,KAoNEU,OAAAuD,UAAA0Q,QAAA,WACA3Q,KAAK4D,QAAKsX,SAAU,EAEpBlb,KAAC4B,IAAM,SAAA,EAGP5F,KAAAO,QAAAyD,KAAA8Q,KAAA,KACD9Q,KAAA5D,KAAA4D,KAAA5D,IAAA,SAAA4D,KAAA5D,IAAA,OAAA,MAEGM,KAAMyU,KAAClR,KAAUkb,IAAW,SAAGnb,KAAKmR,IAAA,OAAA,MAGlCiK,KAAAA,MAAUpb,KAAKd,KAAAA,QAAW,EAnN9BlD,KAsNIyU,UAAK0K,UAAcC,QAAAA,KAAUpb,IAAA,CArNnC,EAEAhE,KAAIU,OAsNIuD,UAAAga,eAAA,SAAA7d,GArNN,IAEIF,EAsNOgX,CACPmI,QAAA,GACFC,OAAA,EACA,EAEFC,EAAYJ,KAAAA,qBAAW/e,CAAA,EACxB8d,EAAAqB,EAAA,cAYDvf,GATA,OAAAke,GAGGle,KAACU,IAAOuD,MAAAA,EAAUub,KAAAA,KAAgBC,MAAAvB,GAAA,IAAA,CAAA,EAGrCle,KAAAwE,IAAAkG,MAAAxK,EAAAqf,CAAA,EAGI7e,EAAAA,cAAiBgf,EAKrB,IA1NI,IAAc9Q,EAAO+Q,EAwNzB1d,EAAA7B,EAAAwf,WAEAzT,EAAA,EAAA8K,EAAAhV,EAAAyD,OAAAyG,EAAA8K,EAAA9K,CAAA,GAIA,YADAwT,GAFIjf,EAAOuD,EAAU4b,IAErBpf,SAAAqf,YAAA,GAEA5f,EAAA,QAAA6E,KAAA/E,KAAAkO,qBAAAU,CAAA,CAAA,EACA,UAAA+Q,GACIjf,EAAiBqf,OAAAA,KAAS/f,KAAAkO,qBAAUU,CAAA,CAAA,EAKtC,OAAA1O,CArNF,EAwNAF,KAACU,OAAAuD,UAAAqF,SAAA,WArNC,IAyNFmE,EAFAjN,EAAAwD,KAAAmR,IAAAnV,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,KAAA,EACA5D,EAAA4D,KAAA5D,IAmEAJ,OA/DEI,EAAIkL,gBAAU,OAAa,EAC5BlL,EAAAkL,gBAAA,QAAA,EAIDmC,EAAAzN,KAAAkO,qBAAA9N,CAAA,EACAJ,KAAAwE,IAAAmF,KAAA8D,EAAA,SAAA0Q,GAGOjH,SAAAA,EACN1W,EAAAoL,UAAA6B,EAAA0Q,GAED3d,EAAAsJ,aAAAqU,EAAA1Q,EAAA0Q,EAAA,CAEA,CAAA,EAjNE/d,EAAIH,IAAM,aAuNZG,EAAAwL,UAAA,YAGAxL,EAAA,OAAAI,EAAA,OAAAwD,MAEOkT,SAAAA,YAAY,EAInBlT,KAAApC,MAAAoC,KAAA6Q,SAAA,MAAA,CAAA,CAAA,EACA7Q,KAAAnC,OAAAmC,KAAA6Q,SAAA,OAAA,CAAA,CAAA,EAIAzU,EAAA4f,kBAAA5f,EAAA6f,aAGIvf,EAAAA,YACAN,EAAA4H,WAAAuW,aAAA/d,EAAAJ,CAAA,EAEAJ,KAAG2O,YAAKkG,EAASrU,CAAA,EASrBwD,KAAAmR,IAAA3U,EACAwD,KAAAS,GAAA,YAAAT,KAAA0a,WAAA,EACA1e,KAAIU,GAAAA,UAAgBsD,KAACkc,SAAU,EAC7Blc,KAAKkT,GAAAA,CAAAA,UAAY,iBAAc,UAAA,SAAAlT,KAAAmc,SAAA,EAC/Bnc,KAAK8H,GAAAA,UAAS9H,KAAAoc,SAAa,EAC5Bpc,KAAAS,GAAA,SAAAT,KAAAqc,QAAA,EAtNCrc,KAAKS,GAAG,QAAST,KAAK2a,OAAO,EAwN/B3a,KAAAS,GAAA,OAAAT,KAAA+b,MAAA,EACA/b,KAAAS,GAAA,YAAAT,KAAAsc,WAAA,EACAtc,KAAAS,GAAA,QAAAT,KAAAkc,OAAA,EACAlc,KAAAS,GAAA,WAAAT,KAAAuc,UAAA,EACAvc,KAAAS,GAAA,iBAAAT,KAAA4a,gBAAA,EACA5a,KAAAS,GAAA,mBAAAT,KAAAwc,kBAAA,EAEI9f,CAtNJ,EAMAV,KAuNEU,OAAAuD,UAAAwc,SAAA,SAAA5B,EAAA6B,GAGA1c,KAAAib,MACDjb,KAAA2c,WAAA,EAID,UAAA9B,GAAA7a,KAAA5D,MACAJ,KAAA4gB,MAAAC,oBAAA7c,KAAA5D,GAAA,EACG4D,KAACtD,IAAOuD,MApNTD,KAuNE6a,SAAKiC,EApNP9c,KAuNE2S,SAAY,CAAA,EAEf,IAKDoK,EAAA/gB,KAAAwE,IAAAkG,MAAA,CAAAgW,OAAAA,EAAAM,SAAAhd,KAAAmR,GAAA,EAAAnR,KAAA6Q,SAAAgK,EAAAiB,YAAA,EAAA,EAEEY,IACA1c,KAAA+a,aAAA2B,EAAAzf,KACAyf,EAAAO,KAAAjd,KAAAsa,OAAA2C,KAAA,EAAAjd,KAAAsa,OAAAwC,cACII,EAAuB,UAACld,KAAAsa,OAAWwC,aApNrC9c,KAuNEkd,OAAQD,IAAGxR,EAAQwR,KAnNvBjd,KAuNEib,KAAIiC,IAAQrgB,OAAe,QAAAge,GAAA7a,KAAA+c,CAAA,EArN7B/c,KAuNGib,KAAM9e,MAnBV,WAtNG6D,KAAKuQ,QAAQwC,aAAa,CAwN9B,CAiBW,CAtNX,EAEA/W,KAuNEU,OAAAuD,UAAA0c,WAAA,WACD3c,KAAA2S,SAAA,CAAA,EAED3S,KAAAib,KAAAtK,QAAA,EAEA3Q,KAAAib,KAAA,CAAA,CACA,EAhMAjf,KAAIU,OAAOuD,UAAUya,YAAc,WA0NnC1a,KAAAkT,YAAA,WAAA,EAIAlX,KAAIU,MAAOuD,IAAAA,EAKPvD,KAAOuD,OAAAA,EApNPD,KAwNEob,WAAa+B,CAAAA,CAAI,EAHrBnd,KAAA4D,QAAA,WAAA,CAnNF,EAEA5H,KAwNGU,OAAMuD,UAAAkb,YAAA,CAAA,EAtNTnf,KAAIU,OAwNOue,UAAK/K,WAAY,SAAAkL,GAvN1B,OAwNalc,KAAAA,IAATkc,GAEApb,KAAOmb,cAAAC,KACTpb,KAAAmb,YAAAC,IAEHpb,KAAA8H,SAAA,iBAAA,EAED9H,KAAA4D,QAAA,WAAA,GAEM5D,KAAKib,YAAaA,iBAAe,GAInCjb,MAEEA,KAAOmb,WAxNb,EAMAnf,KAAIU,OAyNIuD,UAAUub,iBAnNlBxf,KAAIU,OAyNEuD,UAAAyb,aAnNN1f,KAAIU,OAAOuD,UAAU4b,gBAgOrB7f,KAAAU,OAAAuD,UAAA8b,OAAA,WACA/b,KAAAkT,YAAA,WAAA,EACAlX,KAAIU,YAAOuD,YAAiB,EAC1BD,KAAKod,SAAS,aAAO,EAIvBpd,KAAAob,WAAA,CAAA,CAAA,CACA,EAMApf,KAAGU,OAAOuD,UAAUod,UAAS,WAC3Brd,KAAKod,SAAS,aAAQ,CAzNxB,EAiOAphB,KAAAU,OAAAuD,UAAAkc,UAAA,WACAnc,KAAAkT,YAAA,aAAA,CACA,EApNAlX,KAAIU,OAAOuD,UAAUmc,UAAY,WA2NjCpc,KAAA8H,SAAA,aAAA,CACA,EAMA9L,KAAAU,OAAAuD,UAAAoc,SAAA,WACArc,KAAAkT,YAAA,aAAA,CACA,EA/MAlX,KA4NEU,OAAAuD,UAAAqc,YAAA,WAGAtc,KAAA6Q,SAAA,WACA7Q,KAAA8c,YAAA9c,KAAA6Q,SAAA,SAAA,EAzNE7Q,KAAK8H,SAAS,iBAAiB,CA6NnC,EAMA9L,KAAAU,OAAAuD,UAAAic,QAAA,WACAlc,KAAAkT,YAAA,aAAA,EACAlT,KAAA8H,SAAA,YAAA,CACA,EAnNA9L,KA+NIU,OAAKke,UAAAA,aAOT5e,KAAAU,OAAAuD,UAAAsc,WAAA,WAEA,GAAAvc,KAAAsd,gBAAA,GACAtd,KAAA4D,QAAA,eAAA,CAEA,EAMA5H,KAAAU,OAAAuD,UAAA0a,QAAA,WACA3a,KAAA8H,SAAA,WAAA,EACA9H,KAAA6Q,SAAA,MA/NI7Q,KAAK8c,YAAY,CAAC,EAiOtB9c,KAAAud,KAAA,GACAvd,KAAAkb,OAAA,GACAlb,KAAAwd,MAAA,CAEA,EAMAxhB,KAAAU,OAAAuD,UAAA2a,iBAAA,WAIA,IAAAsC,EAAAld,KAAAyd,QAAA,UAAA,EACAP,IAIAld,KAAAkd,SAFAA,EADAA,EAAA,EACAzR,EAAAA,EAEAyR,CAAA,EAEMQ,IAAejS,EAAAA,EAEfzL,KAAC0d,SAAaA,UAAShc,EAE3B1B,KAAAkT,YAAA,UAAA,EA9NF,EAwOAlX,KAAAU,OAAAuD,UAAA0d,eA5NA3hB,KAkOEU,OAAIwgB,UAAeV,mBAAW,WAC1BkB,KAAAA,aAAgBA,EAChBE,KAAAA,SAAAA,gBAAoB,EACb7R,KAAGmH,YAAA,gBAAA,CA/NhB,EAMAlX,KAmOIU,OAAAuD,UAAA4d,QAWJ7hB,KAAAU,OAAAuD,UAAAqa,OAEAte,KAAAU,OAAAuD,UAAA6d,SAAA,WACA,OAAA9d,KAAAsa,MACA,EAlOAte,KAqOEU,OAAIghB,UAAeN,SAAW,SAAAlN,EAAAiN,GAnO9B,GAqOIpR,KAAM2R,MAAS3R,CAAAA,KAAI2R,KAAAA,SAEvB1d,KAAOib,KAAGiC,MAAQ,WAChBnR,KAAMmR,GAAQC,CAAA,CAChB,CAAA,OAKF,IACAnd,KAAAib,KAAA/K,GAAAiN,CAAA,CAIA,CAHA,MAAA9V,GAEA,MADArL,KAAAmJ,IAAAkC,CAAA,EACAA,CACA,CAEA,EAGArL,KAAAU,OAAAuD,UAAAwd,QAAA,SAAAvN,GACA,GAAAlQ,KAAAib,MAAAjb,KAAAib,KAAAtI,SAKE,IAEIoL,OAAAA,KAAAA,KAAgB7N,GAAKhR,CAgB3B,CAfI8e,MAAMlT,GAcV,MAZ+BkT,KAAAA,IAAtBZ,KAAAA,KAASlN,GACXlU,KAACwQ,IAAAA,aAAgB0D,EAAc,2BAAAlQ,KAAA6a,SAAA,wBAAAxT,CAAA,EArOhB,aAAVA,EAAEvH,MAyOZ9D,KAAAmJ,IAAA,aAAA+K,EAAA,mBAAAlQ,KAAA6a,SAAA,gCAAAxT,CAAA,EACMuB,KAAAA,KAAW+J,SAAY,CAAA,GAE9B3W,KAAAmJ,IAAAkC,CAAA,EAIDA,CACA,CAIA,EAhOArL,KAyOIU,OAAK0gB,UAASG,KAAU,WAE1B,OA1OAvd,KAyOEod,SAAW,MAAA,EACbpd,IAxOF,EAkPAhE,KAAAU,OAAAuD,UAAAud,MAAA,WAEA,OADAxd,KAAAod,SAAA,OAAA,EACApd,IACA,EAUAhE,KAAAU,OAAAuD,UAAAib,OAAA,WAEA,MAAA,CAAA,IAAAlb,KAAAyd,QAAA,QAAA,CACA,EA1NAzhB,KAAIU,OAAOuD,UAAU6c,YAAc,SAAS/R,GA0O5C,OAAA7L,KAAAA,IAAA6L,GAEA/K,KAAAod,SAAA,iBAAArS,CAAA,EAEU/K,MASVA,KAAAsa,OAAAwC,YAAA9c,KAAAyd,QAAA,aAAA,GAAA,CACA,EA5NAzhB,KA2OIU,OAAAuD,UAAAid,SAAA,SAAAnS,GA1OF,OA2OE7L,KAAAA,IAAA6L,GAGA/K,KAAAsa,OAAA4C,SAAAtU,WAAAmC,CAAA,EAEA/K,OAGoBlE,KAAAA,IAAlBkE,KAAKie,OAAAA,UA1OPje,KAAK4a,iBAAiB,EA8OlB5e,KAAI4F,OAAI9F,UAAgB,EA1OhC,EAUAE,KA8OIU,OAAAuD,UAAAie,cAAA,WA7OF,OA8OOC,KAAAA,SAAAA,EAAiBne,KAAA8c,YAAA,CA7O1B,EA0BA9gB,KAgPEU,OAASuD,UAAEyd,SAAA,WA/OX,IAgPE5hB,EAASsiB,KAAMC,QAAAA,UAAiB,EAMlC,OAHCX,EADAA,GAAcA,EAAAhc,OAIfgc,EAHO1hB,KAAAqQ,gBAAA,EAAA,CAAA,CA5OT,EA6PArQ,KAAAU,OAAAuD,UAAAqd,gBAAA,WACAthB,IAGEsQ,EAAAP,EAHErP,EAAOuD,KAAUke,SAAAA,EACfT,EAACY,KAAeZ,SAAI,EAhPpBE,EAAmB,EAGvB,GAAI,CAACV,EAkPL,OAAA,EAGA,IAAA,IAAA/U,EAAA,EAAAA,EAAAuV,EAAAhc,OAAAyG,CAAA,GACArM,EAASyH,EAAAA,MAAgBuG,CAAAA,EASvB8T,IAHH7R,EADamR,GArPVnR,EAAQ2R,EAAS3R,IAAI5D,CAAC,GAsPzB+U,EAGYe,GAAc3R,EA/OzB,OAkPIsR,EAAqBV,CAjP3B,EAQAlhB,KAmPEF,OAASyH,UAAAA,YAAsBgb,WAlP/B,IAAIb,EAAW1d,KAAK0d,SAAS,EAoP7BR,EAAAld,KAAAkd,SAAA,EACGnR,EAACmH,EAAYpX,IAAAA,EAAe4F,OAAA,CAAA,EAOjC1F,OAJE+P,EADAmR,EAAAnR,EACAmR,EAIExgB,CAnPJ,EAiBAV,KAAIU,OAoPIuD,UAAAue,OAAA,SAAAT,GAnPN,IAAIC,EAEJ,OAmP+B9e,KAAAA,IAnP3B6e,GACFC,EAAMlT,KAkPyBmQ,IAAMJ,EAAAA,KAAAA,IAAAA,EAAAA,WAAAA,CAAAA,CAAAA,CAAAA,EAjPrC7a,KAAKsa,OAiP0CkE,OAAAR,EAhP/Che,KAiPIod,SAAA,YAAAY,CAAA,EAhPJhiB,KAiPEwQ,gBAAA,SAAAwR,CAAA,EACFhe,OA7OFge,EAAMpV,WAAW5I,KAAKyd,QAAQ,QAAQ,CAAC,EAmPzC7W,MAAAoX,CAAA,EAAA,EAAAA,EACA,EAgBAhiB,KAAAU,OAAAuD,UAAAwe,MAAA,SAAAA,GACA,OAAAvf,KAAAA,IAAAuf,GACAze,KAAAod,SAAA,WAAAqB,CAAA,EACAze,MAEAA,KAAAyd,QAAA,OAAA,GAAA,CAAA,CACA,EAIAzhB,KAAAU,OAAAuD,UAAAye,mBAAA,WACA,OAAA1e,KAAAyd,QAAA,oBAAA,GAAA,CAAA,CACA,EA3OAzhB,KAAIU,OAAOuD,UAAU0e,cAAgB,CAAA,EAmBrC3iB,KAAIU,OAgPOkiB,UAAAA,aAAqB,SAAAC,GA/O9B,OAgPS3f,KAAAA,IAAN2f,GA/OD7e,KAgPE2e,cAAkBjC,CAAAA,CAAAA,EACb3B,MAEL/a,KAAA2e,aA/ON,EAMA3iB,KAAIU,OAiPMuD,UAAKmd,aAAoB,SAASyB,GA/O1C,OADA7iB,KAAImJ,IAiPGJ,KAAM,4FAAA,EAhPN/E,KAiPKie,aAAUY,CAAOnC,CAhP/B,EAoQA1gB,KAAAU,OAAAuD,UAAA6e,kBAAA,WACA,IAAAV,EAAApiB,KAAAkP,QAAA8O,cAmCA,OAjCEha,KAAI+e,aAAa,CAAA,CAAKC,EAGpBZ,GASApiB,KAAIyE,GAACmP,SAAYwO,EAAW,iBAAApiB,KAAA+K,KAAA/G,KAAA,SAAAqH,GAC1BrH,KAAKgF,aAAMlJ,SAAAsiB,EAAAa,kBAAA,EAA2E,CAAA,IAAAjf,KAAAie,aAAA,GACpFjiB,KAAC4F,IAAA9F,SAAAsiB,EAAA,iBAAAje,UAAA+e,MAAA,EAGLlf,KAAA4D,QAAA,kBAAA,CACA,CAAA,CAAA,EAEH5D,KAAAmR,IAAAiN,EAAAU,mBAAA,GAED9e,KAAAib,KAAAyD,mBAAA,EAGA1e,KAAAod,SAAA,iBAAA,GAICpd,KAAAme,gBAAA,EAjPGne,KAAK4D,QAAQ,kBAAkB,GAqPnC5D,IACA,EAMAhE,KAAAU,OAAAuD,UAAAkf,kBAAA,WAEA,OADAnjB,KAAAmJ,IAAAJ,KAAA,sGAAA,EACA/E,KAAA8e,kBAAA,CACA,EAUA9iB,KAAAU,OAAAuD,UAAAoe,eAAA,WACA,IAAAD,EAAApiB,KAAAkP,QAAA8O,cAaA,OAZAhe,KAAIU,aAAOuD,CAAAA,CAAUmf,EAGjBhB,EACAtiB,SAAOsiB,EAAIC,gBAAA,EACbre,KAAAib,KAAAyD,mBAAA,EACA1e,KAAAod,SAAYK,gBAAkB,GAhP7Bzd,KAAKqf,eAAe,EAmPvBrf,KAAA4D,QAAA,kBAAA,GAGA5D,IACA,EA5OAhE,KAkPEU,OAAAuD,UAAAqf,iBAAA,WAED,OADCtjB,KAAAmJ,IAAOJ,KAAK0Y,4EAA0B,EACvCzd,KAAAqe,eAAA,CAjPD,EAqPAriB,KAAAU,OAAAuD,UAAAke,gBAAA,WACAne,KAAAse,aAAA,CAAA,EAGEte,KAAIqK,gBAAmBvO,SAAEyH,gBAAAuG,MAAAyU,SA/OzBviB,KAkPEyE,GAAA3E,SAAW,UAAAE,KAAA+K,KAAA/G,KAAAA,KAAAuf,kBAAA,CAAA,EAGdzjB,SAAAyH,gBAAAuG,MAAAyU,SAAA,SAGDviB,KAAA8L,SAAAhM,SAAA4G,KAAA,iBAAA,EAEA1C,KAAA4D,QAAA,iBAAA,CACA,EACA5H,KAAGU,OAAOuD,UAAUsf,mBAAQ,SAAAre,GAjPJ,KAAlBA,EAAMse,UAmPZ,CAAA,IAAAxf,KAAAie,aAAA,EACAje,KAAAqe,eAAA,EAEAre,KAAAqf,eAAA,EAGA,EAEArjB,KAAAU,OAAAuD,UAAAof,eAAA,WACArf,KAAAse,aAAA,CAAA,EACAtiB,KAAA4F,IAAA9F,SAAA,UAAAkE,KAAAuf,kBAAA,EAGAzjB,SAAAyH,gBAAAuG,MAAAyU,SAAAve,KAAAyf,gBAGEzjB,KAAIihB,YAAQ/d,SAAWwD,KAAA,iBAAA,EAIvB1C,KAAA4D,QAAA,gBAAA,CAjPF,EAEA5H,KAkPIihB,OAAMhd,UAAE+e,aAAA,SAAA3D,GAhPV,IAAK,IAAIlT,EAAE,EAAE8K,EAAEjT,KAAK6Q,SAAoB,UAAE1I,EAAE8K,EAAEvR,OAAOyG,CAAC,GAAI,CAmP1D,IAAA0S,EAAA7e,KAAAyJ,WAAAwN,EAAA9K,EAAA,EACKmR,EAAOzc,OAAM,QAAAge,GAGlB,GAAKuC,GA5OH,GAAInC,EAAKyE,YAAY,EAqPzB,IAAA,IAAA9S,EAAA,EAAA+S,EAAAtE,EAAAzO,EAAA+S,EAAAje,OAAAkL,CAAA,GAAA,CACA,IAAA8P,EAAAiD,EAAA/S,GAGIlQ,GAAOuD,EAAmB,cAAAyc,CAAA,EAlPpB,MAAO,CAAEA,OAAQA,EAAQzB,KAAMJ,CAAS,CAqPlD,CACA,MAlQM7e,KAAImJ,IAAIH,MAAM,QAAU6V,EAAW,mEAAmE,CAmQ5G,CAEA7e,MAAIU,CAAAA,CAlPJ,EAkCAV,KAoPEU,OAAQuD,UAAKf,IAAW,SAAAwd,GAnPxB,OAoPexd,KAAAA,IAAb0gB,EACA5f,KAAAyd,QAAA,KAAA,GAhPEzhB,KAoPEwE,IAAKsH,QAAS4U,CAAA,EAnPlB1c,KAAK4e,YAAYlC,CAAM,EAuP3B,UAAA,OAAAA,EAEA1c,KAAAid,IAAA,CAAAA,IAAAP,CAAA,CAAA,EAGAA,aAAA1W,SAGQ0W,EAAKxJ,MAAAA,CAAWrW,OAAC,QAAAmD,KAAA6a,UAA4B,cAAA6B,CAAA,EAGrD1c,KAAA4e,YAAA,CAAAlC,EAAA,GAEA1c,KAAAsa,OAAA2C,IAAAP,EAAAO,IACAjd,KAAA+a,aAAA2B,EAAAzf,MAAA,GAGA+C,KAAA7D,MAAA,WAMSU,OAAKgjB,QAAAA,KAAoBhF,UAAA5a,UAAAK,eAAA,WAAA,EACjCN,KAAAod,SAAA,YAAAV,CAAA,EAED1c,KAAAod,SAAA,MAAAV,EAAAO,GAAA,EAGA,QAAAjd,KAAA6Q,SAAA,SACA7Q,KAAA8f,KAAA,EAGA9f,KAAA6Q,SAAA,UACA7Q,KAAAud,KAAA,CAEA,CAAA,IAISvd,KAnPT,EAOAhE,KAoPIU,OAAOuD,UAAI2e,YAAA,SAAAvD,GACb0D,EAAA/e,KAAAgf,aAAA3D,CAAA,EAEA0D,EACI7P,EAAG+L,OAAgBpC,KAAAA,SAEtB7Y,KAAMid,IAAA8B,EAAArC,MAAA,EAjPH1c,KAAKyc,SAASsC,EAAW9D,KAAM8D,EAAWrC,MAAM,GAwPpD1c,KAAA4P,WAAA,WACI5P,KAAC8H,MAAS,CAAA7I,KAAA,EAAYyZ,QAAA1Y,KAAAqR,SAAArR,KAAA9D,QAAA,EAAA,mBAAA,CAAA,CAAA,CAnPxB,EAAG,CAAC,EAyPN8D,KAAO+S,aAAI,EAnPb,EAMA/W,KAoPyCU,OAAOuD,UAAY6f,KAAC,WAlP3D,OAkPsE9f,KAAAod,SAAA,MAAA,EAlP/Dpd,IAoPT,EA5OAhE,KAAIU,OAAOuD,UAAU8f,WAAa,WAkPlC,OAAA/f,KAAAyd,QAAA,YAAA,GAAAzd,KAAAsa,OAAA2C,KAAA,EACA,EAMAjhB,KAAAU,OAAAuD,UAAA+f,YAAA,WACA,OAAAhgB,KAAA+a,cAAA,EACA/e,EAxOAA,KAgPI4jB,OAAO3f,UAAMmf,QAAA,SAAA/U,GA/Of,OAgPUnL,KAAAA,IAARmL,GA/OArK,KAgPEod,SAAK6C,aAAkB5V,CAAA,EA/OzBrK,KAgPE6Q,SAAU,QAAAxG,EACRrK,MAEAA,KAAKkgB,QAAAA,SAAgB,CA/O7B,EAOAlkB,KAAIU,OAAOuD,UAAUkgB,SAAW,SAAS9V,GACvC,OAgPMnL,KAAAA,IAhPFmL,GACFrK,KAgPIod,SAAA,cAAA/S,CAAA,EA/OJrK,KAgPI6Q,SAAA,SAAAxG,EACArK,MAEAA,KAAAyd,QAAA,WAAApT,CAAA,CA/OR,EAOArO,KAAIU,OAgPIuD,UAAAmgB,KAAA,SAAA/V,GA/ON,OAiPW6I,KAAAA,IAjPP7I,GACFrK,KAiPIod,SAAKtV,UAASuC,CAAA,EAhPlBrK,KAiPI6Q,SAAa,KAAAxG,EACfrK,MAEFA,KAAOyd,QAAI,MAAA,CAhPf,EAOAzhB,KAqPIU,OAAAuD,UAAAqZ,QApOJtd,KAsPIqkB,OAAAA,UAAeC,OAAQnL,SAAYoL,GACrC,OAACrhB,KAAAA,IAAA+d,EAEQjd,KAAGsZ,SA7OZtZ,KAAKsZ,QALA2D,EAAAA,GAwPL,GAOAjd,KAAKS,SAAG,YAAW8f,CAAW,EAG9BvgB,KAAA4D,QAAA,cAAA,EAEA5D,KAtPF,EAOAhE,KAAIU,OAAOuD,UAAUsZ,UAOrBvd,KAAIU,OAwPMiS,UAAW6L,SAAE,SAAAoF,GAvPrB,OAwPQ1gB,KAAAA,IAxPJ0gB,GAGE5f,KAwPMuZ,aA1PVqG,EAwPM,CAAA,CAAAA,MArPJ5f,KAwPQuZ,UAAAqG,IAtPN5f,KAwPMkT,YAAUgN,uBAAe,EAvP/BlgB,KAwPU8H,SAAK0Y,sBAAiB,EAvPhCxgB,KAwPM4D,QAAA,iBAAA,IAER5D,KAAAkT,YAAA,sBAAA,EACFlT,KAAA8H,SAAA,uBAAA,EACI9H,KAAC4D,QAAA,kBAAA,IAGT5D,MAEAA,KAAAuZ,SACA,EAEAvd,KAAAU,OAAAuD,UAAA4f,qBAgBA7jB,KAAAU,OAAAuD,UAAAwgB,oBAAA,SAAAb,GACA,OAAA1gB,KAAAA,IAAA0gB,GAGIljB,KAAOuD,wBAFX2f,EAAA,CAAA,CAAAA,MAvPM5f,KAAK6f,qBAAuBD,IA4PlC5f,KAAA8H,SAAA,2BAAA,EAUI9H,KAAO4D,QAAI,qBAAA,IAGb5D,KAAWkT,YAAS,2BAAA,EAUtBlT,KAAA4D,QAAA,qBAAA,IAGA5D,MAEAA,KAAA6f,oBACA,EAOA7jB,KAACU,OAAAuD,UAAAygB,OAAA,KAQD1kB,KAAAU,OAAAuD,UAAA+E,MAAA,SAAAkK,GACA,OAAAhQ,KAAAA,IAAAgQ,EACAlP,KAAA0gB,QAIA,OAAAxR,GACAlP,KAAA0gB,OAAAxR,EACAlP,KAAAkT,YAAA,WAAA,IAKAhE,aAAAlT,KAAA6c,WACA7Y,KAAA0gB,OAAAxR,EAEElP,KAAO0gB,OAAKjD,IAAQzhB,KAAA6c,WAAa3J,CAAA,EAInClP,KAAA4D,QAAA,OAAA,EAGA5D,KAAA8H,SAAA,WAAA,EAIA9L,KAAAmJ,IAAAH,MAAA,SAAAhF,KAAA0gB,OAAAzhB,KAAA,IAAAjD,KAAA6c,WAAAC,WAAA9Y,KAAA0gB,OAAAzhB,MAAA,IAAAe,KAAA0gB,OAAAhI,QAAA1Y,KAAA0gB,MAAA,GAEA1gB,KACA,EAMAhE,KAACU,OAAAuD,UAAA0gB,MAAA,WAAA,OAAA3gB,KAAAyd,QAAA,OAAA,CAAA,EAODzhB,KAAAU,OAAAuD,UAAA2gB,QAAA,WAAA,OAAA5gB,KAAAyd,QAAA,SAAA,CAAA,EAOAzhB,KAAGU,OAAOuD,UAAU4gB,SAACC,WAAe,OAAa9gB,KAAE+gB,QAAOriB,UAAU,CAAA,EAxPpE1C,KA6PEU,OAAOuD,UAASigB,cAAc,CAAA,EAChClkB,KAACU,OAAAuD,UAAA0U,mBAAA,SAAAzT,GAEDlF,KAAIU,cAAiBskB,CAAAA,CA7PrB,EAEAhlB,KAAIU,OAAOuD,UAAUggB,YAAc,CAAA,EA+PnCjkB,KAAAU,OAAAuD,UAAAugB,WAAA,SAAAZ,GACA,OAAA1gB,KAAAA,IAAA0gB,IACAA,EAAA,CAAA,CAAAA,KACA5f,KAAAigB,eACAjgB,KAAAigB,YAAAL,IAIA5f,KAAAkgB,cAAA,CAAA,EACAlgB,KAAAkT,YAAA,mBAAA,EACAlT,KAAA8H,SAAA,iBAAA,EACA9H,KAAA4D,QAAA,YAAA,IAIA5D,KAAAkgB,cAAA,CAAA,EAUIe,KAAUhG,MAEVgG,KAAUhG,KAAChb,IAAAA,YAAqB,SAAAoH,GACzBA,EAAErE,gBAAM,EACPqE,EAAA7E,eAAA,CACR,CAAA,EAGAxC,KAAAkT,YAAqB,iBAAA,EACrBlT,KAAA8H,SAAA,mBAA0B,EAC1B9H,KAAA4D,QAAiB,cAAA,IAGjB5D,MAEAA,KAAAigB,WA9PJ,EAEAjkB,KA+PIU,OAAAuD,UAAgBihB,sBAAI,WA9PtB,IA+PqBb,EACrBriB,EAAAmjB,EAAAC,EAGFplB,EAAcA,KAACiE,KAAAA,KAAUqF,KAAQqP,kBAAa,EA9P5Ce,EAgQa,SAAArO,GAGfA,EAAAga,SAAAF,GAAA9Z,EAAAia,SAAAF,IACAD,EAAA9Z,EAAAga,QACAD,EAAA/Z,EAAAia,QACAf,EAAA,EAEA,EAlPEhL,EAkQE,SAAarU,GACbqf,EAAA,EAIFvgB,KAAOxD,cAAE6jB,CAAA,CACV,EAGDrgB,KAAAS,GAAA,YAvBe,WACbV,EAAM,EAKLC,KAACuhB,cAAYthB,CAAqB,EAKnCogB,EAAkBrkB,KAAIsJ,YAAcib,EAAE,GAAA,CAjQtC,CA6QF,EACAvgB,KAAAS,GAAA,YAAAiV,CAAA,EACA1V,KAAAS,GAAA,UAAA8U,CAAA,EAIEvV,KAAAS,GAAA,UAAA8f,CAAA,EACAxgB,KAAIU,GAAE,QAANV,CAAqB,EAURE,KAAAA,YAAUsS,WAExB,IA7PS5D,EA6PT3O,KAAAkgB,gBAEDlgB,KAAAkgB,cAAA,CAAA,EAGIlgB,KAAKuQ,WAAa,CAAA,CAAC,EAGrBvQ,KAAA6O,aAAA7Q,CAAA,EAGA,GAxQQ2Q,EAAU3O,KAAK9D,QAAQ,EAAqB,sBA2Q/C4L,EAAuB9H,KAAA4P,WAAA,WAI5B5P,KAAAkgB,eACajgB,KAAAA,WAAiB,CAAA,CAAG,CAE5B6H,EAAAA,CAAS,EAGhB,EAAA,GAAA,CACA,EA/PA9L,KAuQIA,OAAIyU,UAAUhP,aAAiB,SAAS+f,GAtQ1C,OAwQUlR,KAAAA,IAARkR,GACFxhB,KAAAod,SAAA,kBAAAoE,CAAA,EACAxhB,MAIE4H,KAAAA,MAAW5H,KAAAib,KAAA,qBACXjb,KAAAyd,QAAA,cAAA,EAGA7V,CAvQJ,EAOA5L,KA2QEU,OAAQuD,UAASsQ,SAAQkR,CAAAA,EAU3BzlB,KAAGU,OAACglB,UAAejH,QAAOhK,SAAU7Q,GAClC,OAAAV,KAAAA,IAAA0gB,GACA7f,KAAM4hB,SAAN5hB,CAAIA,CAAWuQ,EACTG,MAGJzQ,KAAA2hB,QA1QJ,EAkSA3lB,KAAGU,OAACglB,UAAgBzhB,aAAU2hB,WAC5B,OAAI1E,KAAQO,QAAQlN,cAAQ2M,CA7Q9B,EAuBAlhB,KA+QI0Q,OAAAA,UAAWyC,WAAA,WACb,OAAEnP,KAAAyd,QAAA,YAAA,CACJ,EAiBAzhB,KAAGU,OAACmlB,UAAAA,WAAqB5hB,WAGvB,OAAED,KAAAib,MAAAjb,KAAAib,KAAA,WAAA,CAhRJ,EAEAjf,KAkRI0Q,OAAAA,UAAWoV,iBAAA,WAjRb,OAiRyG9hB,KAAAib,MAAAjb,KAAAib,KAAA,iBAAA,CAhR3G,EAUAjf,KAmREU,OAAAuD,UAAA6gB,aAAA,SAAAvY,EAAAwY,EAAAriB,GACA,OAAAsB,KAAAib,MAAAjb,KAAAib,KAAA,aAAA1S,EAAAwY,EAAAriB,CAAA,CAlRF,EAqRA1C,KAAAU,OAAAuD,UAAA8hB,mBAAA,SAAA7lB,GACA,OAAA8D,KAAAib,MAAAjb,KAAAib,KAAA,mBAAA/e,CAAA,CACA,EAEAF,KAAAU,OAAAuD,UAAA+gB,sBAAA,SAAAhZ,GACAhI,KAAAib,MAAAjb,KAAAib,KAAA,sBAAAjT,CAAA,CACA,EA8BAhM,KAAAilB,WAAAjlB,KAAAyU,UAAA7Q,OAAA,EAEA5D,KAAAilB,WAAAhhB,UAAA4Q,SAAA,CACAmR,UAAA,OACA/jB,SAAA,CACGgkB,WAACC,GACFC,mBAAA,GACApiB,YAAAA,GACE/D,gBAAkB,GACpBomB,qBAAA,GACAC,YAAA,GAECC,gBAAiBriB,GAClBhC,iBAAU,GACRskB,cAAY,GACdC,WAAA,GAGCC,uBAA0B,GAC3BC,gBAAoB,GAClB9a,eAAW,GACX+a,eAAA,EACH,CAvRD,EA0RA3mB,KAAAilB,WAAAhhB,UAAAqF,SAAA,WACA,OAAAtJ,KAAAsJ,SAAA,MAAA,CACAsC,UAAA,iBACA,CAAA,CACA,EAhRA5L,KAwREulB,YAAAvlB,KAAAyU,UAAA7Q,OAAA,CACAG,KAAA,SAAAuQ,EAAApU,GAECF,KAAC4mB,UAAQ3iB,KAAU4Q,KAAAA,EAAW3U,CAAA,CAC/B+B,CAxRF,CAAC,EAEDjC,KAyRIulB,YAAYthB,UAAGqF,SAAA,WACjB,IAAC9I,EAAAR,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACD4H,UAAW,+BACX,CAAA,EAaE,OAVJ5L,KAAI4mB,WAAQ3iB,KAAUgX,SAAAA,MAAc,CAEjCrP,UAAS3H,mBACVyM,UAAW2I,kCAAqCrV,KAAKqR,SAAE,aAAA,EAAA,UAAArR,KAAAqR,SAAA,MAAA,EACrDzJ,YAAW,KA1Rb,CAAC,EA6RFpL,EAAA0L,YAAAlI,KAAAuR,UAAA,EAGG/U,CA3RJ,EAQAR,KA8REA,WAAWiE,KAAAA,OAAU6W,OAAW,CAGhC/W,KAAKwQ,SAAQzI,EAAS5L,GAEtBF,KAAK6mB,OAAAA,KAAAA,KAAmBvS,EAAKC,CAAQ2K,EAEtClb,KAAAS,GAAA6P,EAAA,OAAAtQ,KAAA+b,MAAA,EAEE/b,KAAC4iB,GAAOtS,EAACrQ,QAAUyV,KAAWwG,OAAG,CAClC,CAhSF,CAAC,EAEDlgB,KAiSE8mB,WAAW7iB,UAASsQ,WAAgB,OA/RtCvU,KA+RqE8mB,WAAA7iB,UAAAsS,cAAA,WA9RnE,MAAO,oBAAsBvW,KAAIiZ,OAAOhV,UAAUsS,cAAc9Q,KAAKzB,IAAI,CAC3E,EAmSAhE,KAAG8mB,WAAS7iB,UAAUsV,QAAY,WAC7BvV,KAACqV,QAAOpV,OAAUsV,EAErBvV,KAAKuQ,QAAQkR,KAAAA,EAEbzhB,KAAIuQ,QAAKsS,MAAAA,CA/RX,EAGA7mB,KAkSE8mB,WAAahG,UAAAA,OAAiBvM,WAC/BvQ,KAAAkT,YAAA,YAAA,EAEDlX,KAAI4mB,SAAQ3iB,aAAUqX,EACpBtX,KAAKuQ,IAAAA,SAAQuM,GAAAA,SAAiBvM,GAAAA,UAAQuM,KAAYzL,SAAQ,OAAA,CAC5D,EAGArV,KAAA8mB,WAAA7iB,UAAAic,QAAA,WACAlc,KAAAkT,YAAA,aAAA,EACAlT,KAAA8H,SAAA,YAAA,EACA9H,KAAAmR,IAAAlT,SAAA,GAAAA,SAAA,GAAAyO,UAAA1M,KAAAqR,SAAA,MAAA,CACA,EA5RArV,KAmSE+mB,mBAAA/mB,KAAAyU,UAAA7Q,OAAA,CAGF5D,KAAIgnB,SAAAA,EAAgB/iB,GAClBjE,KAAAyU,UAAWA,KAASzQ,KAACC,EAAUqF,CAAS7D,EAEtCiL,KAAAA,GAAAA,EAAW,aAAA1M,KAAA4hB,aAAA,CACb,CACF,CAAC,EAlSD5lB,KAqSE+mB,mBAAK9iB,UAAAqF,SAAA,WApSL,IAoSOgH,EAAKtQ,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CAAE+L,UAAG,gDAlSjB,CAAC,EASD,OAPA/L,KAkSIkd,WAAgB3M,KAAAA,SAAQ2M,MAAU,CAClC+F,UAAW,2BACXhlB,UAAW,0DACX4X,YAAA,KAjSJ,CAAC,EAEDrZ,EAAG0L,YAkSWgb,KAAO3R,UAAa,EAC7B/U,CAjSP,EAEAR,KAkSE+mB,mBAAoB9iB,UAAGkjB,cAAwBjG,WAE/C,IAAAkG,EAAApjB,KAAAuQ,QAAAkR,UAAAzhB,KAAAuQ,QAAAuN,SAAA,EAAAhB,YAAA9c,KAAAuQ,QAAAuM,YAAA,EACA9c,KAAKmI,WAAWuV,UAAShc,kCAAa1B,KAAAqR,SAAA,cAAA,EAAA,WAAArV,KAAAqP,WAAA+X,EAAApjB,KAAAuQ,QAAA2M,SAAA,CAAA,CAjSxC,EAQAlhB,KAqSE0lB,gBAAA1lB,KAAAyU,UAAA7Q,OAAA,CAEAG,KAAA,SAAAuQ,EAAApU,GACAF,KAAMyU,UAAGxS,KAASyD,KAAS4O,EAAGoN,CAAShc,EAOzC1B,KAAAS,GAAA6P,EAAA,aAAAtQ,KAAA4hB,aAAA,EACA5hB,KAAAS,GAAA6P,EAAA,iBAAAtQ,KAAA4hB,aAAA,CACA,CACA,CAAA,EAEA5lB,KAAG0lB,gBAAgBzhB,UAAOwQ,SAAU7Q,WAClC,IAAApD,EAAAR,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACAD,UAAM,4CApSN,CAAC,EASD,OA8RAC,KAAAuR,WAAAvV,KAAAsJ,SAAA,MAAA,CAECsC,UAACyb,uBACF3W,UAAW+D,kCAAkCzQ,KAAMqR,SAAO,eAAA,EAAA,eACxDzJ,YAAW,KArSb,CAAC,EAwSFpL,EAAA0L,YAAAlI,KAAAuR,UAAA,EArSQ/U,CAuST,EAEAR,KAAA0lB,gBAAAzhB,UAAA2hB,cAAA,WACA,IAAA1E,EAAAld,KAAAuQ,QAAA2M,SAAA,EACAA,IACAld,KAAAuR,WAAA7E,UAAA,kCAAA1M,KAAAqR,SAAA,eAAA,EAAA,WAAArV,KAAAqP,WAAA6R,CAAA,EAEA,EAWAlhB,KAAAsnB,YAAAtnB,KAAAyU,UAAA7Q,OAAA,CAEAG,KAAA,SAAAuQ,EAAApU,GACGF,KAACunB,UAAWtjB,KAAAA,KAAUiY,EAAAA,CAAe,CArStC,CAuSF,CAAA,EApSAlc,KAsSEsnB,YAAW/L,UAAYjS,SAAWA,WArSlC,OAsSEsC,KAAS6I,UAAExQ,UAAiBqF,SAAA7D,KAAAzB,KAAA,MAAA,CAC5B4H,UAAW,mBACX8E,UAAA,2BACH,CAAA,CAED1Q,EAQAA,KAAA6lB,qBAAA7lB,KAAAyU,UAAA7Q,OAAA,CAEAG,KAAA,SAAAuQ,EAAApU,GACGF,KAACwnB,UAAa/hB,KAAGzF,KAAIyU,EAAU7Q,CAAO,EAEvCG,KAAMU,GAAA6P,EAANvQ,aAAuB7D,KAAQ0lB,aAAA,CAtS/B,CACF,CAAC,EAED5lB,KAuSI6lB,qBAAmBvR,UAAYhL,SAAA,WAtSjC,IAuSI9I,EAAKsL,KAAAA,UAAS7H,UAAaqF,SAAA7D,KAAAzB,KAAA,MAAA,CAC7B4H,UAAA,kDAtSF,CAAC,EAiTH5L,OA/SEgE,KAAKuR,WAuSMzJ,KAASxC,SAAA,MAAa,CAtS/BsC,UAuSS,6BAtST8E,UAuSSwG,kCAAyBlT,KAAAqR,SAAA,gBAAA,EAAA,gBAtSlCwE,YAuSE,KAtSJ,CAAC,EAySDrZ,EAAA0L,YAAAlI,KAAAuR,UAAA,EAEEiS,CAvSJ,EAEAxnB,KAwSE6lB,qBAAA5hB,UAAA2hB,cAAA,WACD5hB,KAAAuQ,QAAA2M,SAAA,IAEEld,KAACwjB,WAAcvjB,UAAUqF,kCAAqBtF,KAAAqR,SAAA,gBAAA,EAAA,YAAArV,KAAAqP,WAAArL,KAAAuQ,QAAA2N,cAAA,CAAA,EAMjD,EAjSAliB,KAySEynB,iBAAAznB,KAAAiZ,OAAArV,OAAA,CAMAG,KAAA,SAAAuQ,EAAApU,GAECF,KAAC0nB,OAAUzjB,KAAAA,KAAU0jB,EAAAA,CAAAA,CACtB,CAzSF,CAAC,EA4SD3nB,KAACynB,iBAAAxjB,UAAAiW,WAAA,aAxSDla,KA2SEiC,iBAAUgC,UAAAsS,cAAA,WA1SV,MA2SE,0BAAiBvW,KAAAiZ,OAAAhV,UAAAsS,cAAA9Q,KAAAzB,IAAA,CA1SrB,EAEAhE,KA2SEynB,iBAAWxjB,UAAauV,QAAA,WACxBxV,KAAAuQ,QAAc0N,aAAA,GAMdje,KAAOhE,QAAIqZ,eAAiB/P,EAC1BsC,KAAAA,aAAW8E,UAAgB1M,KAAAqR,SAAA,YAAA,IAN9BrR,KAAAuQ,QAAAuO,kBAAA,EAEE9e,KAAC0jB,aAAUzjB,UAAUgX,KAAc5F,SAAA,gBAAc,EAvSpD,EASArV,KAgTEkmB,gBAAiBzD,KAAOhO,UAAE7Q,OAAA,CAE1BG,KAAC,SAAMuQ,EAAApU,GACLF,KAAAyU,UAAYF,KAAOvQ,KAACwe,EAAQtiB,CAAA,CAC9B,CACF,CAAC,EA9SDF,KAiTEkmB,gBAAa1D,UAAYjO,SAAc,CACxCtS,SAAA,CAEE2lB,QAAW3jB,EACZ,CACF,EAEAjE,KAAAkmB,gBAAAjiB,UAAAqF,SAAA,WACA,OAAAtJ,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACA4H,UAAA,kCACA,CAAA,CACA,EAUA5L,KAAG4mB,QAACiB,KAAY5jB,OAAAA,OAAUqF,CAjTxBvF,KAmTE6H,SAAW0I,EAAApU,GACXwQ,KAAAA,OAAWjL,KAAAzB,KAAAsQ,EAAApU,CAAA,EACX8D,KAAAS,GAAA6P,EAAA,aAAAtQ,KAAA2jB,oBAAA,EACHrT,EAAAnU,MAAAH,KAAA+K,KAAA/G,KAAAA,KAAA2jB,oBAAA,CAAA,CAlTC,CAoTF,CAAA,EAEA3nB,KAAA4mB,QAAA3iB,UAAA4Q,SAAA,CACA5S,SAAA,CACA6lB,gBAAA,GACAC,gBAAA,GACAC,WAAA,EACChoB,EAEAA,QAAIioB,kBAnTHC,WAAc,YAqTf,EAlTDloB,KAoTG4mB,QAAO5mB,UAAIub,YAAsB,aAlTpCvb,KAoTK4mB,QAAA3iB,UAAAqF,SAAA,WACH,OAAAtJ,KAAAqZ,OAAApV,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACF4H,UAAA,sBACAuc,aAAA,oBACA,CAAA,CACA,EAEAnoB,KAAA4mB,QAAA3iB,UAAA0jB,qBAAA,WAEG,IAACS,EAAUpkB,KAAGhE,QAAUylB,UAAQzhB,KAAAuQ,QAAAuN,SAAA,EAAAhB,YAAA9c,KAAAuQ,QAAAuM,YAAA,EACjC9c,KAAAmR,IAAArL,aAAA,gBAAA9J,KAAAkQ,MAAA,IAAAlM,KAAAwX,WAAA,EAAA,CAAA,CAAA,EACAzX,KAAMoR,IAAArL,aAASwK,iBAAgBtU,KAAAqP,WAAA+X,EAAApjB,KAAAuQ,QAAA2M,SAAA,CAAA,CAAA,CAnTjC,EAEAlhB,KAAI4mB,QAAQ3iB,UAAUuX,WAAa,WACjC,OAqTExX,KAAAuQ,QAAAuM,YAAA,EAAA9c,KAAAuQ,QAAA2M,SAAA,CApTJ,EAEAlhB,KAqTI4mB,QAAA3iB,UAAA6W,YAAA,SAAA5V,GApTFlF,KAsTEqZ,OAAQ/E,UAAQwG,YAAarV,KAAAzB,KAAUkB,CAAA,EApTzClB,KAAKuQ,QAsTMzI,UAAS,CAAA,EArTpB9H,KAsTKuQ,QAAMzI,SAAA,eAAA,EApTX9H,KAsTI6iB,gBAAA,CAAA7iB,KAAAuQ,QAAA2K,OAAA,EArTJlb,KAsTIuQ,QAAAiN,MAAA,CArTN,EAyTAxhB,KAAG4mB,QAACwB,UAAWnkB,YAAkB,SAAGiB,GAClCmjB,EAAWpP,KAAOhV,kBAAkBiB,CAAK,EAAClB,KAAMuQ,QAAO2M,SAAA,EAGrDmH,GAAArkB,KAAAuQ,QAAA2M,SAAA,IAAAmH,GAAA,IAIFrkB,KAAKuQ,QAAQkO,YAAYlO,CAAQkO,CACnC,EAtTAziB,KAyTE4mB,QAAU3iB,UAAKsQ,UAAgB,SAAArP,GAxT/BlF,KAyTIsoB,OAASrkB,UAAAsV,UAAA9T,KAAAzB,KAAAkB,CAAA,EAvTblB,KA0TEskB,QAAS7C,UAAA,CAAA,EACXzhB,KAACuQ,QAAUyN,YAAY,eAAA,EACrBsG,KAAKzB,iBACN7iB,KAAMuQ,QAAOgN,KAAG,CAxTnB,EAEAvhB,KA0TE4mB,QAAA3iB,UAAAskB,YAAA,WACAvkB,KAAAuQ,QAAAuM,YAAA9c,KAAAuQ,QAAAuM,YAAA,EAAA,CAAA,CAzTF,EAEA9gB,KA0TM4mB,QAAO3iB,UAAKhC,SAAYA,WAzT5B+B,KA0TQuQ,QAAStS,YAAYA,KAAAA,QAAYyO,YAAY,EAAK2E,CAAAA,CAzT5D,EASArV,KA0TIA,gBAAgBA,KAAKmV,UAAKvR,OAAU,CAEtC5D,KAAI8L,SAASwI,EAAQpU,GACtBF,KAAAyU,UAAAhP,KAAAzB,KAAAsQ,EAAApU,CAAA,EACD8D,KAAAS,GAAA6P,EAAA,WAAAtQ,KAAA2V,MAAA,CACA,CACA,CAAA,EAEA3Z,KAAGgnB,gBAACwB,UAAuBxM,SAAWpY,WACpC,OAAA5D,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACAD,UAAM,oBACJ/D,UAAIgc,wCAAsChY,KAAAqR,SAAA,QAAA,EAAA,oBAzT5C,CAAC,CACH,EAEArV,KAAIgnB,gBAAgB/iB,UAAU0V,OAAS,WAiU1B7N,SA1TPqb,EA0TgBC,EAAarX,GAE3B,OAAiB,KADZqX,EAAArX,GAAA,GACY,GACnB,CAnUJ,IA0TE5D,EAAAmE,EAAAP,EAAA0Y,EACA/G,EAAWzC,KAAI1K,QAAW0K,SAAK,EAC7BiC,EAAKpV,KAASyI,QAAA2M,SAAa,EAC7B+F,EAAAjjB,KAAAuQ,QAAA0S,YAAA,EACAhlB,EAAQqS,KAAQa,IAAAlT,SAYlB,IAJA+B,KAAAmR,IAAArH,MAAAlM,MAAAulB,EAAAF,EAAA/F,CAAA,EAIIjF,EAAI,EAAG9P,EAAInM,EAAS0F,OAAK6O,CAAAA,GAC3B8H,EAAAA,EAAe/L,MAAAnE,CAAA,EACf4D,EAAA2R,EAAA3R,IAAA5D,CAAA,GAGKiL,GAFPqR,EAASxmB,EAAQylB,KAGf1jB,KAAAmR,IAAAjJ,YAAAlM,KAAAsJ,SAAA,CAAA,GAIGoM,MAAQnE,KAAI4V,EAAA7W,EAAA2W,CAAA,EACjBwB,EAAOxM,MAAIra,MAAAulB,EAAApX,EAAAO,EAAA2W,CAAA,EAKXjnB,IAAIgc,EAAAA,EAAW/X,OAAUuV,EAAAA,EAAa9T,OAAKyG,CAAA,GAC5CnI,KAAAmR,IAAA/D,YAAAnP,EAAAkK,EAAA,EAAA,CA1TD,EAsUAnM,KAAAqnB,gBAAArnB,KAAAyU,UAAA7Q,OAAA,CAEAG,KAAA,SAAAuQ,EAAApU,GACAF,KAAAyU,UAAAhP,KAAAzB,KAAAsQ,EAAApU,CAAA,CACAF,CA5TA,CAAC,EAEDA,KA6TIA,gBAAeyF,UAAS6D,SAAUpJ,WA5TpC,OA8TOwoB,KAAAA,UAAAA,UAAkBpf,SAAA7D,KAAAzB,KAAA,MAAA,CACvB4H,UAAK+c,oBAELjY,UAAQ4D,wCAA2CtQ,KAAAqR,SAAA,UAAA,EAAA,oBA9TrD,CAAC,CACH,EAUArV,KAmUIunB,WAAavnB,KAAIub,aAAU3X,OAAA,CAE7BG,KAAA,SAASuQ,EAAApU,GACVF,KAAAub,aAAA9V,KAAAzB,KAAAsQ,EAAApU,CAAA,EAnUG8D,KAAKS,GAAG6P,EAAQ,aAActQ,KAAK4hB,aAAa,CAqUpD,CACA5lB,CAAAA,EA5TAA,KAqUIunB,WAAAtjB,UAAAiY,aAAA,QAIJlc,KAACunB,WAAAtjB,UAAAqF,SAAA,WAEDtJ,OAAI4oB,KAAAA,aAAAA,UAAuB3kB,SAAU0jB,KAAAA,KAAAA,MAAuB,CAC1D/b,UAAA,kBACAiO,YAAU/P,KACX,CAAA,CAED9J,EAtUAA,KAwUEunB,WAAIsB,UAAmBvU,cAASwU,WAChC,IAAIC,EAAQ/kB,KAAKsQ,QAAQmR,UAAWzhB,KAAAuQ,QAAeuN,SAAC,EAAAhB,YAAA9c,KAAAuQ,QAAAuM,YAAA,EACpD9c,KAAAmR,IAAAzE,UAAA,kCAAA1Q,KAAAqP,WAAA+X,EAAApjB,KAAAuQ,QAAA2M,SAAA,CAAA,EAAA,SAvUF,EAgVAlhB,KAACwnB,cAAAxnB,KAAAyU,UAAA7Q,OAAA,CAGCG,KAAA,SAAYuQ,EAAS2K,GAKtBjf,KAAAyU,UAAAhP,KAAAzB,KAAAsQ,EAAApU,CAAA,EAGDoU,EAAA2K,MAAA,CAAA,IAAA3K,EAAA2K,KAAA,uBACAjb,KAAA8H,SAAA,YAAA,EAEE9H,KAAIS,GAAKukB,EAAAA,YAAsB,WACC,CAAA,IAAzB9R,EAAAA,KAAyB,sBAC/BlT,KAAM8H,SAAA,YAAA,EAEP9H,KAAAkT,YAAA,YAAA,CA3UE,CAAC,CA8UL,CACA,CAAA,EAEAlX,KAAGwnB,cAACoB,UAAuB3kB,SAAU0kB,CACnC1mB,SAAS+mB,CACPC,UAAa,EACf,CACF,EAEAjpB,KAAAwnB,cAAAvjB,UAAAqF,SAAA,WACA,OAAAtJ,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACA4H,UAAA,gCACA,CAAA,CACA,EApUA5L,KA6UIE,UAAQF,KAAQqZ,OAAG0L,OAAK,CA3U1BhhB,KA6UK,SAASuQ,EAAMpU,GAElBF,KAAIqZ,OAAI/E,KAAQtQ,KAAAsQ,EAAcpU,CAAKyZ,EACrC3V,KAAAS,GAAA6P,EAAA,eAAAtQ,KAAA2jB,oBAAA,EACArT,EAAAnU,MAAAH,KAAA+K,KAAA/G,KAAAA,KAAA2jB,oBAAA,CAAA,CAEF3nB,CA9UA,CAAC,EAiVDA,KAAC0nB,UAAAzjB,UAAA0jB,qBAAA,WAGC3jB,KAAK8X,IAAAA,aAAcxH,gBAASwU,KAAc5Y,MAAc,IAAVlM,KAAKwhB,QAAKhD,OAAA,EAAA,CAAA,CAAA,EACzDxe,KAAAmR,IAAArL,aAAA,iBAAA9J,KAAAkQ,MAAA,IAAAlM,KAAAuQ,QAAAiO,OAAA,EAAA,CAAA,EAAA,GAAA,CACD,EAEAxiB,KAAA0nB,UAAAzjB,UAAA4Q,SAAA,CACA5S,SAAA,CACAinB,YAAA,GACAC,aAAA,EACA,EACAC,QAAA,cACAlB,WAAA,cACAloB,EA9UAA,KAgVE+D,UAAME,UAASqQ,YAAe,eA9UhCtU,KAiVI0nB,UAAK/N,UAAQrQ,SAAA,WAhVf,OAiVEgL,KAAS+E,OAACpV,UAAgBjE,SAAQyF,KAAKzB,KAAM,MAAO,CACtD4H,UAAA,iBACAuc,aAAA,cAhVA,CAAC,CAkVH,EAEAnoB,KAAA0nB,UAAAzjB,UAAAyV,YAAA,SAAAxU,GACImkB,KAAAA,QAAYplB,MAAAA,GACdD,KAAKsQ,QAAS1O,MAAI,CAAA,CAAA,EA9UlB5B,KAAKuQ,QAAQiO,OAAOxe,KAAK2X,kBAAkBzW,CAAK,CAAC,CAkVnD,EAEAlF,KAAA0nB,UAAAzjB,UAAAuX,WAAA,WACA,OAAAxX,KAAAuQ,QAAAkO,MAAA,EACI4G,EAEAzd,KAAW2I,QAAAiO,OAAY,CA/U3B,EAEAxiB,KAAI0nB,UAAUzjB,UAAUskB,YAAc,WAmVpCvkB,KAAAuQ,QAAAiO,OAAAxe,KAAAuQ,QAAAiO,OAAA,EAAA,EAAA,CAjVF,EAEAxiB,KAkVE0nB,UAAAzjB,UAAAqX,SAAA,WACAtX,KAAKhE,QAAI6N,OAAAA,KAAAA,QAAAA,OAA2B,EAAA,EAAA,CAjVtC,EA4VA7N,KAAG6nB,YAAa5jB,KAAAA,UAAU0V,OAAS,CAGjC5V,KAAKulB,SAAUhV,EAACpU,GAnVdF,KAAIyU,UAAUhP,KAAKzB,KAAMsQ,EAAQpU,CAAO,CAqV1C,CAnVF,CAAC,EAEDF,KAoVI6nB,YAAW5jB,UAAAqF,SAAA,WACb,OAAOtJ,KAAAyU,UAAAxQ,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACL4H,UAAW,mBACb8E,UAAA,wCACD,CAAA,CAnVD,EASC1Q,KAqVGupB,aAAevpB,KAAKub,aAAA3X,OAAA,EAnVvB5D,KAqVGioB,aAAAhkB,UAAAiY,aAAA,QAlVHlc,KAqVGioB,aAAAhkB,UAAAqF,SAAA,WApVD,OAsVM6L,KAAIrH,aAAMyb,UAAkBA,SAAAA,KAAAA,KAAe,MAAA,CAClD3d,UAAA,mBACD,CAAA,CArVA,EA8VD5L,KAACooB,WAAApoB,KAAAiZ,OAAArV,OAAA,CAEDG,KAAA,SAAAuQ,EAAApU,GACAF,KAAAiZ,OAAAxT,KAAAzB,KAAAsQ,EAAApU,CAAA,EAEA8D,KAAAS,GAAA6P,EAAA,eAAAtQ,KAAA2V,MAAA,EAGArF,EAAA2K,MAAA,CAAA,IAAA3K,EAAA2K,KAAA,uBACAjb,KAAA8H,SAAA,YAAA,EAGE/H,KAAMU,GAAA6P,EAANvQ,YAAuB7D,WACoB,CAAA,IAArCuU,EAAAA,KAAoC,sBArVpCzQ,KAAK8H,SAAS,YAAY,EAE1B9H,KAAKkT,YAAY,YAAY,CAwVjC,CAAA,CArVF,CACF,CAAC,EAEDlX,KAsVIooB,WAAAnkB,UAAAqF,SAAA,WArVF,OAsVEtJ,KAAAiZ,OAAAhV,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACA4H,UAAA,+BACA8E,UAAA,uCAAA1M,KAAAqR,SAAA,MAAA,EAAA,eArVF,CAAC,CACH,EAEArV,KAsVIooB,WAAAnkB,UAAAuV,QAAA,WArVFxV,KAsVEuQ,QAAAkO,MAAAze,CAAAA,KAAAuQ,QAAAkO,MAAA,CAAA,CArVJ,EAEAziB,KAsVIooB,WAAAnkB,UAAA0V,OAAA,WACF,IAAAqI,EAAAhe,KAAAuQ,QAAAiO,OAAA,EACA8F,EAAA,EAGW7T,IAAXuN,GAAWvN,KAAUxQ,QAAAA,MAAUqF,EAC7BsC,EAAAA,EACAoW,EAAA,IACHsG,EAAA,EACDtG,EAAA,MACAsG,EAAA,GAMAtkB,KAAAuQ,QAAAkO,MAAA,EACAze,KAAAmR,IAAAlT,SAAA,GAAAA,SAAA,GAAAyO,WAAA1M,KAAAqR,SAAA,QAAA,IACArR,KAAAmR,IAAAlT,SAAA,GAAAA,SAAA,GAAAyO,UAAA1M,KAAAqR,SAAA,QAAA,GAISrV,KAAIiZ,IAAAA,SAAOhV,GAAShC,SAAS,GAACwD,WAAWzB,KAAOqR,SAAA,MAAA,IACrDzJ,KAAWuJ,IAAAlT,SAAA,GAAAA,SAAqB,GAAAyO,UAAA1M,KAAAqR,SAAA,MAAA,GAMpCrV,IAAIwpB,IAAAA,EAAAA,EAAard,EAAClI,EAAAA,CAAAA,GAChBjE,KAAKuU,YAAavQ,KAACmR,IAAA,WAAAhJ,CAAA,EAErBnM,KAAA8L,SAAA9H,KAAAmR,IAAA,WAAAmT,CAAA,CACA,EAKAtoB,KAAGwoB,iBAAgBxoB,KAAIyU,WAAU7Q,OAAO,CAvVtCG,KAyVK,SAAC0Q,EAAevU,GAEnBF,KAAIgc,WAASvW,KAAAzB,KAAAsQ,EAAApU,CAAA,EAGf8D,KAAAS,GAAA6P,EAAA,eAAAtQ,KAAAylB,YAAA,EAIE7d,EAAWqT,MAAA,CAAA,IAAA3K,EAAA2K,KAAA,uBACXjb,KAAA8H,SAAA,YAAA,EAGA9H,KAACkI,GAAAA,EAAY,YAAgB,WAEtB,CAAA,IAAF1L,EAAEye,KAAA,sBACVjb,KAAA8H,SAAA,YAAA,EAGK9H,KAAKsQ,YAAc,YAAI,CAE3B,CAAA,EACDtQ,KAAA8H,SAAA,iBAAA,CACA,CA7VD,CAAC,EAgWD9L,KAAAwoB,iBAAAvkB,UAAA2Y,WAAA,WACA,IAAAX,EAAA,IAAAjc,KAAA0b,KAAA1X,KAAAuQ,QAAA,CACA8H,cAAA,KA7VE,CAAC,EA+VHqN,EAAA,IAAA1pB,KAAA0nB,UAAA1jB,KAAAuQ,QAAAvQ,KAAA6Q,SAAA,SAAA,EAtVE,OAuVF6U,EAAAjlB,GAAA,QAAA,WACAwX,EAAA7E,YAAA,CACA,CAAA,EACAsS,EAAAjlB,GAAA,OAAA,WACAwX,EAAA5E,cAAA,CACArX,CAAAA,EA7VEic,EA8VAvG,SAAAgU,CAAA,EACIzN,CA7VN,EAEAjc,KAAIwoB,iBA8VAvkB,UAAAuV,QAAA,WA7VFxZ,KA8VEE,WAAQ+U,UAAAA,QAAmBxP,KAAGzB,IAAK,EA7VrChE,KA8VEA,WAAIyU,UAAe+E,QAAMlF,KAAQpU,IAAAA,CA7VrC,EAEAF,KAAIwoB,iBA8VUvkB,UAAAqF,SAAyB,WA7VrC,OA8VItJ,KAAK2pB,OAAAA,UAAiBrgB,SAAC7D,KAAAzB,KAAA,MAAA,CA7VzB4H,UA8VA,qDA7VA8E,UAAW,uCAAyC1M,KAAKqR,SAAS,MAAM,EAAI,eAC9E,CAAC,CACH,EACArV,KAAIwoB,iBA8VOoB,UAAAA,aAAqB5pB,KAAAooB,WAAAnkB,UAAA0V,OAtVhC3Z,KAiWE4oB,uBAAA5oB,KAAAgc,WAAApY,OAAA,CAEFG,KAAA,SAAAuQ,EAAApU,GACAF,KAAAgc,WAAAvW,KAAAzB,KAAAsQ,EAAApU,CAAA,EAEA8D,KAAA0kB,iBAAA,EACA1kB,KAAA2kB,YAAA,EAEA3kB,KAAAS,GAAA6P,EAAA,YAAAtQ,KAAA0kB,gBAAA,EACA1kB,KAAAS,GAAA6P,EAAA,aAAAtQ,KAAA2kB,WAAA,CACA,CACA,CAAA,EAEA3oB,KAAA4oB,uBAAA3kB,UAAAiW,WAAA,gBACAla,KAAA4oB,uBAAA3kB,UAAA2H,UAAA,oBAEA5L,KAAA4oB,uBAAA3kB,UAAAqF,SAAA,WACA,IAAA9I,EAAAR,KAAAgc,WAAA/X,UAAAqF,SAAA7D,KAAAzB,IAAA,EAxVE,OA0VFA,KAAA6lB,SAAA7pB,KAAAsJ,SAAA,MAAA,CACAsC,UAAA,0BACA8E,UAAA,CACA1Q,CAAAA,EA/VEQ,EAkWA8T,YAAatQ,KAACsQ,QAAQ,EAGpB9T,CAlWJ,EAGAR,KAAI4oB,uBAAuB3kB,UAAU2Y,WAAa,WAChD,IAmWAX,EAAA,IAAAjc,KAAA0b,KAAA1X,KAAAsQ,OAAA,CAAA,EACAyU,EAAA/kB,KAAAsQ,OAAA,EAAApU,QAAA,EAAA,cAjWA,GAmWA6oB,EACA,IAAKtkB,IAAG6P,EAAAA,EAAQ5O,OAAA,EAAoB,GAApByG,EAAoBA,CAAI,GAlWpC8P,EAAKvG,SAoWT,IAAA1V,KAAA8pB,qBAAA9lB,KAAAsQ,OAAA,EAAA,CAAAkR,KAAAuD,EAAA5c,GAAA,GAAA,CAAA,CACA,EA/VA,OAmWKhM,CAlWP,EAEAH,KAAI4oB,uBAmWA3kB,UAAA0jB,qBAAA,WAEJ3jB,KAACxD,GAAA,EAAAsJ,aAAA,gBAAA9F,KAAAsQ,OAAA,EAAAwU,aAAA,CAAA,CAlWD,EAEA9oB,KAAI4oB,uBAAuB3kB,UAAUuV,QAAU,WAM7C,IAJA,IAoWAqP,EAAA7kB,KAAAsQ,OAAA,EAAAwU,aAAA,EACAC,EAAA/kB,KAAAsQ,OAAA,EAAApU,QAAA,EAAA,cAEA6pB,EAAQhB,EAAA,GAnWC5c,EAAI,EAAGA,EAAG4c,EAAMrjB,OAASyG,CAAC,GAqWnC,GAAA4c,EAAA5c,GAAA0c,EAAA,CACAkB,EAAAhB,EAAA5c,GACA,KACA,CAlWAnI,KAoWEsQ,OAAA,EAAAwU,aAAAiB,CAAA,CAnWJ,EAEA/pB,KAAI4oB,uBAqWgBjQ,UAAAA,sBAAoB,WApWtC,OAqWE3U,KAAAsQ,OAAA,EAAA2K,MACAjb,KAAAsQ,OAAA,EAAA2K,KAAA,sBAEFjb,KAAQsQ,OAAA,EAAApU,QAAY,EAAgB,eAClC,EAAA8D,KAAAsQ,OAAA,EAAApU,QAAA,EAAA,cAAAwF,MApWJ,EAKA1F,KAsWE4oB,uBAAA3kB,UAAAykB,iBAAA,WACA1kB,KAAAglB,sBAAA,EACAhlB,KAAKS,YAAU,YAAW,EApWxBT,KAAK8H,SAAS,YAAY,CAwW9B,EAjWA9L,KAsWE4oB,uBAAA3kB,UAAA0kB,YAAA,WACA3kB,KAAK4B,sBAAU,IACf5B,KAAK4B,SAAI8K,UAAa1M,KAAAsQ,OAAA,EAAAwU,aAAA,EAAA,IApWxB,EAOA9oB,KAsWA8pB,qBAAA9pB,KAAA6b,SAAAjY,OAAA,CACAyY,cAAA,SAEArc,KAAIgqB,SAAAA,EAAAA,GACF,IAAAjF,EAAA/gB,KAAA+gB,MAAA7kB,EAAA,KACAslB,EAAAxhB,KAAAwhB,KAAA5Y,WAAAmY,EAAA,EAAA,EAGA7kB,EAAA,MAAA6kB,EACA7kB,EAAA,SAAA,IAAAslB,EACAxlB,KAAI6b,SAAKvH,KAASkK,KAAAA,EAAYte,CAAA,EApW5B8D,KAsWES,GAAI6P,EAAQ,aAAQtQ,KAAA2V,MAAA,CArWxB,CACF,CAAC,EAED3Z,KAsWE8pB,qBAAA7lB,UAAAuV,QAAA,WACFxZ,KAAC6b,SAAA5X,UAAAuV,QAAA/T,KAAAzB,IAAA,EArWCA,KAAKsQ,OAAO,EAAEwU,aAAa9kB,KAAKwhB,IAAI,CACtC,EAwWAxlB,KAAA8pB,qBAAA7lB,UAAA0V,OAAA,WACA3V,KAAA8X,SAAA9X,KAAAsQ,OAAA,EAAAwU,aAAA,GAAA9kB,KAAAwhB,IAAA,CArWA,EAUAxlB,KAAIqpB,YAAcrpB,KAAIiZ,OAAOrV,OAAO,CAElCG,KAsWI,SAACkmB,EAAe/pB,GACrBF,KAAAiZ,OAAAxT,KAAAzB,KAAAsQ,EAAApU,CAAA,EAGC8D,KAAKkmB,OAAAA,EACL5V,EAAK6V,GAAAA,eAAqBnqB,KAAC+K,KAAA/G,KAAAA,KAAA2V,MAAA,CAAA,CAC7B,CAtWA,CAAC,EAKD3Z,KAAIqpB,YAyWSe,UAAAA,QAAoB9I,WAxW/Btd,KAAKsQ,OAyWIA,EAAAA,IAAO,eAAUtQ,KAAW2V,MAAA,EAxWrC3Z,KAyWEiZ,OAAAhV,UAAA0Q,QAAAlP,KAAAzB,IAAA,CAxWJ,EAMAhE,KA2WAA,YAAIgqB,UAAmB1gB,SAAW6gB,WA1WhC,IA0WmE3pB,EAAKkY,KAAAA,SAAc,MAAK2R,CAAoBze,UAAA,aAGjH5L,SAAIgqB,CAAAA,CAxWF,CAAC,EAWD,OAsWAhqB,KAAA6N,4BACA7J,KAAKsE,aAAItI,KAAcsJ,SAAA,KAAU,EA1W/B9I,EA2WA0L,YAAAlI,KAAAsmB,YAAA,GAGA9pB,CA1WJ,EAKAR,KA6WEqpB,YAAKkB,UAAAA,OAAyB,WA5W9B,IA6WA9Z,EAAQzM,KAACsQ,OAAQ,EAAAgQ,OAAY,EAE/BtgB,KAACslB,OAAA7Y,CAAA,EAGiEA,EAChEzM,KAAKwmB,KAAAA,EAELxmB,KAAGuT,KAAM,CA1WX,EAKAvX,KA4WEqpB,YAAAplB,UAAAqlB,OAAA,SAAA7Y,GA3WA,IA4WA8Y,EAEDvlB,KAAAsmB,aAEDtqB,KAAIgqB,aAAAA,IAAoB/lB,GAEtBslB,EAASW,GAKVlmB,KAAAmR,IAAArH,MAAAyb,gBAH+BA,EAA1B9Y,EAA+Bga,QAAsBha,EAAA,KAG1D8Y,EAzWD,EAKAvpB,KAAIqpB,YAAYplB,UAAUuV,QAAU,WA6WpCxZ,KAAIgqB,QAAAA,KAAAA,CAzWJ,EAUAhqB,KA6WE0qB,eAAa1qB,KAAAyU,UAAA7Q,OAAA,CA3WbG,KA6WA,SAAAuQ,EAAApU,GAEAof,KAAAA,UAAOla,KAAAA,KAAiBkP,EAAApU,CAAeyqB,CAzVvC,CACF,CAAC,EAED3qB,KAAI0qB,eAoXAroB,UAAmBiS,SAAe,WAnXpC,OAuXEtU,KAAMyU,UAAUxQ,UAAWqF,SAAO7D,KAAAzB,KAAA,MAAA,CAtXlC4H,UAuXO,qBAtXT,CAAC,CACH,EAWA5L,KAyXAwpB,cAAAxpB,KAAAiZ,OAAArV,OAAA,EAEA5D,KAAAwpB,cAAAvlB,UAAAqF,SAAA,WACA,OAAAtJ,KAAAiZ,OAAAhV,UAAAqF,SAAA7D,KAAAzB,KAAA,MAAA,CACA4H,UAAA,sBAxXI8E,UAAW,mCA0XfyX,aAAA,YACA,CAAA,CACA,EAEAnoB,KAAAwpB,cAAAvlB,UAAAuV,QAAA,WACAxZ,KAAIgqB,QAAAA,KAAAA,CAxXJ,EAOAhqB,KA2XC4qB,aAAA5qB,KAAAyU,UAAA7Q,OAAA,CAEDinB,KAAAA,SAAAA,EAAoB3qB,GAClBF,KAAIsf,UAASwL,KAAKC,KAAAA,EAAY7qB,CAAA,EAG9BA,KAAAA,OAAUA,EAEVA,KAAAA,GAAQoU,EAAO,QAAOtQ,KAAA2V,MAAA,CA7XtB,CACF,CAAC,EAED3Z,KA8XE4qB,aAAY3mB,UAAEqF,SAAA,WA7Xd,IA8XEpJ,EAAAA,KAAQuU,UAAWxQ,UAAGvB,SAAQ+C,KAAAzB,KAAA,MAAA,CAChC4H,UAAA,mBA7XA,CAAC,EAsYH5L,OApYEgE,KA+XAsb,WAAgBtf,KAACgM,SAAM,KAAA,EA9XvBxL,EAgYA0L,YAAYlI,KAAAuR,UAAA,EAGVyU,CAhYJ,EAEAhqB,KAiYE4qB,aAAA3mB,UAAA0V,OAAA,WAEA3V,KAAO6mB,OAAAA,EAAAA,MAAAA,IACR7mB,KAAAuR,WAAA7E,UAAA1M,KAAAqR,SAAArR,KAAAsQ,OAAA,EAAAtL,MAAA,EAAA0T,OAAA,EAhYD,GACA,KACE,IAmYAmO,EAaF7qB,KAAAgqB,oBAAAhqB,KAAAyU,UAAA7Q,OAAA,CAEAG,KAAA,SAAAuQ,EAAApU,EAAAC,IACAH,EAAIgqB,GAAAA,IAIJ/U,oBAAA,CAAA,EACAjV,KAAIgqB,UAAAA,KAAAA,KAAoB/lB,EAAU/D,EAAAC,CAAA,EAGlC6D,KAAA,wBACAA,KAAA2lB,iBAAA,EAjYS3lB,KAA+B,0BAuYxCA,KAAA4lB,oBAAA,EAGA5lB,KAAAgnB,sBAAA,EAEAhnB,KAAA,0BACAA,KAAAinB,kBAAA,EAGEjnB,KAAAknB,uBAAA,CACF,CACA,CAAA,EAyBAlrB,KAAAgqB,oBAAA/lB,UAAA+mB,sBAAA,WACA,IAvYE1W,EAyYK6W,KAAAA,OAAAA,EAvYLC,EAyYS,WAEP9W,EAASnI,SAAQ,GAAGrH,CAAAA,EAASY,oBAAa,GAzYxC1B,KA0YGqnB,qBAAeC,CAxYtB,EAIAtnB,KA4YC7D,MAAAirB,CAAA,EA3YDpnB,KAAKS,GAAG6P,EAAQ,kBAAmB8W,CAAgB,EACnDpnB,KA4YAS,GAAA6P,EAAA,mBAAAtQ,KAAAunB,uBAAA,EArYAvnB,KA6YE7D,MAAM,WACJ6D,KAAAic,cAAiC,EAAvBqL,KAAgBE,aAAO,GACnCxnB,KAAAsQ,OAAA,EAAA1M,QAAA,WAAA,CA3YF,CAAC,CACH,EAgZA5H,KAAAgqB,oBAAA/lB,UAAAonB,qBAAA,WACA,IAAAI,EAxYEznB,KA8YES,GAAIinB,YAAUP,KAAAA,OAAAA,EAzYhBnnB,KAAKS,GA+YCinB,aAAUC,SAAAA,GA9YdF,EA+YSznB,KAAAuQ,QAAAiQ,WAAA,CA9YX,CAAC,EAEDxgB,KA+YES,GAAA,YAAA,SAAAS,GA9YIumB,GAgZJznB,KAAAsQ,OAAA,EAAAqE,mBAAA,CA7YF,CAAC,EAED3U,KAgZES,GAAI,WAACmnB,SAAoBC,GA9YzB3mB,EAiZAsB,eAAW,CAhZb,CAAC,EAoZHxC,KAAAmU,cAAA,EA7YEnU,KAAKS,GAiZD,MAAKmnB,KAAAA,KAAc,CAhZzB,EA0ZA5rB,KAAAgqB,oBAAA/lB,UAAAsnB,wBAAA,WAGAvnB,KAAA4B,IAAA,KAAA,EACA5B,KAAA4B,IAAA,YAAA,EACA5B,KAAA4B,IAAA,WAAA,EACA5B,KAAA4B,IAAA,YAAA,EACA5B,KAAA4B,IAAA,aAAA,EACA5B,KAAA4B,IAAA,UAAA,EACA5B,KAAA4B,IAAA,OAAA,EACA5F,KAAI4gB,IAAK,WAAOoJ,CAnZhB,EAKAhqB,KAqZIgqB,oBAAA/lB,UAAAuV,QAAA,SAAAtU,GAMahF,IAAbgF,EAAIwb,QAIJ1c,KAAAsQ,OAAA,EAAAkK,SAAA,IACAxa,KAAAsQ,OAAA,EAAA4K,OAAA,EACAlb,KAAI0c,OAAM,EAAKa,KAAKpM,EAEpBnR,KAAAsQ,OAAA,EAAAkN,MAAA,EArZJ,EAMAxhB,KAAIgqB,oBA2ZgB/lB,UAAA6nB,MAAA,WA1ZlB9nB,KAAKsQ,OA2ZK,EAAAkQ,WAAA,CAAAxgB,KAAAsQ,OAAA,EAAAkQ,WAAA,CAAA,CA1ZZ,EAMAxkB,KAAIgqB,oBA2ZM/lB,UAAA0lB,iBAAA,WA1ZR3lB,KAAKkmB,eA2ZC,CAAA,EAxZNlmB,KAAKimB,cA4ZU7Y,CA3ZjB,EAEApR,KA6ZIgqB,oBAAS/lB,UAAA8nB,kBAA6B,WA5ZxC/nB,KA6ZIkmB,eAAQ,CAAA,EA5ZZlmB,KA6ZEmmB,qBAAA,CA5ZJ,EAEAnqB,KA6ZIgqB,oBAAA/lB,UAAAgmB,cAAA,WA5ZFjmB,KA6ZEqmB,iBAAArmB,KAAAmV,YAAA,WA1ZA,IA6ZEmI,EAAK0K,KAAmB1X,OAAA,EAAAgN,gBAAA,EA3ZtBtd,KAAKomB,kBAAoB9I,GA8Z7Btd,KAAAsQ,OAAA,EAAA1M,QAAA,UAAA,EAKwB,KAFxB5D,KAAAomB,iBAAA9I,IA1ZEtd,KA6ZEmmB,qBAAwB,CA3Z9B,EAAG,GA6ZC,CA5ZN,EACAnqB,KA8ZIgqB,oBAAmB/lB,UAAAkmB,qBAAA,WAAAnmB,KAAA0U,cAAA1U,KAAAqmB,gBAAA,CAAA,EAIvBrqB,KAAGgqB,oBAAiBrV,UAAUiV,oBAAU,WACtC5pB,IAAGsU,EAAOuM,KAAAA,QAEX7c,KAAAioB,kBAAA,CAAA,EAGCjoB,KAAIsQ,GAAAA,EAAS,OAAKC,KAAO2X,gBAAA,EA/ZzBloB,KAgaIgI,GAAKsI,EAAA,QAAAtQ,KAAAumB,uBAAA,EA5ZTvmB,KAgaMsE,IAAGgM,aAAU,WAEf6X,KAAK,yBAAA,CAAA,EA9ZPnoB,KAAKymB,qBAAqB,CAia5B,CAAA,CA/ZF,EAEAzqB,KAgaEgqB,oBAAgB/lB,UAAAwmB,qBAAsC,WA/ZtD,IAiaEnW,EAAAtQ,KAAAuQ,QA/ZFvQ,KAiaIooB,kBAAqB,CAAA,EAhazBpoB,KAiaIhE,wBAAU6gB,EAhad7c,KAiaIxD,IAAK4rB,EAAK,OAAApoB,KAAAkoB,gBAAA,EAhadloB,KAiaIsQ,IAAAA,EAAa,QAAItQ,KAAAumB,uBAAA,CAhavB,EAEAvqB,KAAIgqB,oBAAoB/lB,UAAUioB,iBAAmB,WAka/CloB,KAAAwmB,qBAAAxmB,KAAAumB,wBAAA,EAhaJvmB,KAiaIgK,oBAAqB7K,KAAKC,YAAc,WAha1CY,KAiaEsQ,OAASjH,EAAAA,QAAAA,YAAiBiH,CAha9B,EAAG,GAiaG,CAhaR,EAGAtU,KAAIgqB,oBAmac/lB,UAAAsmB,wBAAA,WAlahBvmB,KAmaO0U,cACF1U,KAAAwmB,mBAAA,EAhaLxmB,KAqaEsQ,OAAU,EAACO,QAASyK,YAAQ,CApahC,EAEAtf,KAAIgqB,oBAqaclqB,UAASC,QAAc,WAnanCiE,KAqaEqoB,gBAAqBroB,KAAC+gB,kBAAK,EAna7B/gB,KAqaEqoB,mBAAuBroB,KAAAymB,qBAAA,EAna7BzqB,KAAIyU,UAqaI4X,UAAQviB,QAAarE,KAAAzB,IAAW,CApa1C,EAEAhE,KAAIgqB,oBAqaE/lB,UAAAqoB,eAAA,WAGFtsB,KAAI2O,mBAAuBnO,KAAK8T,OAAA,EAAA1M,QAAA,YAAA,CArapC,EAIA5H,KAsaEgqB,oBAAsB/lB,UAAUinB,uBAAgB,WAG5BrW,SAAlB8V,IACE4B,IAAAA,EAAuBjY,EAAOO,SAASsJ,kBAAK,EAGhD9b,GAEO7B,EAAEgsB,cAAA,CAEV,CAhbC,IAsaElY,EAAWmY,KAAAA,QAcbnN,EAAIA,KAASyL,WAAS2B,EAEjBpN,IAraLA,EAyaKla,iBAAA,cAAAulB,CAAA,EAELrL,EAAOnT,iBAAK,WAAAwe,CAAA,EAxaZ3mB,KA0aES,GAAKuH,UAASA,KAAMjB,KAAO/G,KAAI2oB,WAza/BrN,EA2aOpZ,oBAAkB,cAAAykB,CAAA,EACzBrL,EAAApZ,oBAAA,WAAAykB,CAAA,CACF,CAAA,CAAA,EACF,EAEA3qB,KAAAgqB,oBAAA/lB,UAAAgnB,kBAAA,WACA,IACA2B,EACIhM,EACFiM,EAHFvY,EAAAtQ,KAAAuQ,QAKE1T,OAAA,UACDgsB,EAAA/sB,SAAAC,cAAA,QAAA,GAESkE,IAAAA,EAAU6oB,QAAAA,EAAY,WAAYC,qCAC1CzY,EAAA9T,GAAA,EAAA0L,YAAA2gB,CAAA,EACAhsB,OAAA,OAAA,CAAA,IAGAye,EAAQre,KAAI8pB,WAAW,KAwBvBzL,EAACla,iBAAA,SA/bDwnB,EA4aE,WACAG,IAAI1kB,EAAAA,EAGNhG,EAAAiS,EAAAyB,SAAA,kBAAA,EAMAkJ,IAHC5c,EAAiB2pB,cAAAA,EAGX7f,EAAI,EAAAA,EAAAnI,KAAA0B,OAAAyG,CAAA,IACXmI,EAAStQ,KAAKsQ,IA9aJpO,oBAAoB,YAAalG,KAAI+K,KAAK1I,EAAkBA,EAAiBmqB,aAAa,CAAC,EAgbrG,YAAAxgB,EAAAghB,MACKC,EAAAA,iBAAmBzO,YAAWxe,KAAA+K,KAAA1I,EAAAA,EAAAmqB,aAAA,CAAA,CAGnCU,CAEC,EA7aDlpB,KA+aEib,GAAKgO,UAAYjtB,KAAA+K,KAAM/G,KAAA,WACxBsb,EAAApZ,oBAAA,SAAA0mB,CAAA,CACDtY,CAAAA,CAAAA,EA9aF,EA8bAtU,KAAGgqB,oBAAiBzI,UAAO4L,YAA6BntB,KAACgqB,oBAAA/lB,UAAA8mB,WAAA,WACjB,OAAxC/qB,KAAI4gB,QAAM3c,YAAkBD,KAAAuQ,QAAU4Y,aAAA,IAAAntB,KAAAotB,cAAOjY,KAAIqM,QAAO2L,WAAE,EA3a1DntB,KA4ayCgqB,oBAAsB/lB,UAAA6hB,iBAAA,WAE/D9lB,OAFkEgE,KAAAuQ,QAAA8Y,kBAAArpB,KAAAuQ,QAAA8Y,mBAAA,IAAArtB,KAAAotB,cAE9DxM,KAAM3c,QAAU6c,iBA3apB,EA4aA9gB,EAAmB,SAACssB,EAAc/f,EAAGwY,EAAShW,EAAQ7O,GACpD,IAAIof,EAAAwL,EAAAC,WAAA,EAYsD,OAnb1D7qB,EA0aSA,GAAI,IAEb,KAAAqM,EACDwY,IAEE7kB,EAAO+D,MAAUid,GAAuDxe,IACxExC,EAAiBwhB,SAAAA,GAAkDxhB,EAAA,OAAA4qB,EAAAvW,QAE7BvI,EAAO,IAAKmJ,KAAIqN,UAAMtiB,CAAA,EAAGof,EAAAgO,UAAAthB,CAAA,EACDmJ,CAA+B,EAlahGnV,KAmawCgqB,oBAAqB/lB,UAAA6gB,aAAA,SAAAvY,EAAAwY,EAAAriB,GAAG,GAAA6J,EAGhEvM,OAAI4gB,EAAqB5c,KAAGuI,EAAAwY,EAAUriB,CAAA,EAFnC,MAAM,IAACuB,MAAS,iDAA2B,CA9Z9C,EAiaAjE,KAAGgqB,oBAAiBnoB,UAASkkB,mBAAU,SAAA7lB,GAAE8L,EAAYmJ,EAAgBnR,KAAA9D,EAAA,KAAAA,EAAA,MAAAA,EAAA,SAAAA,CAAA,EAErEF,OAFwEgE,KAAA8hB,iBAAA,EAAAwH,UAAAthB,CAAA,EAEpE4U,CACF5U,MAAIA,CA7ZJ,CACF,EAEAhM,KA+ZIgqB,oBAAA/lB,UAAA+gB,sBAAA,SAAAhZ,GACFhI,KAAA+mB,WAAA,EAAAwC,aAAAvhB,CAAA,EACAhI,KAAA8hB,iBAAY,EAAAyH,aAAAvhB,CAAA,CACd,EAvZAhM,KAAIgqB,oBAkaiBpiB,UAAQ4lB,UAAA,aAha7BxtB,KAAIgqB,oBAmaepiB,UAA2B,sBAAA,CAAA,EAha9C5H,KAoaEgqB,oBAAoByD,UAA4BC,yBAAa,CAAA,EAna/D1tB,KAoaIgqB,oBAAA/lB,UAAA,qBAAA,CAAA,EAhaJjE,KAoaIgqB,oBAAA/lB,UAAA,uBAAA,CAAA,EAnaJjE,KAoaIgqB,oBAAA/lB,UAAA,yBAAA,CAAA,EAlaJjE,KAAIgqB,oBAoae/lB,UAAA,yBAAA,CAAA,EA1ZnBjE,KAAIgqB,oBAAoB2D,mBAAqB,SAASC,GA8apDA,EAAAC,sBAAA,SAAAC,EAAAC,GACA,IAEEjpB,GAAAA,EAFF8oB,EAAAI,kBAGAJ,EAAAI,eAAA,IAIQ/pB,KAAAA,IAAN2c,IAGEK,EAAQ/d,EAASwC,QAGnBZ,EAAAkB,OAAA+nB,EAAA,EAAAD,CAAA,CAtaF,EAgbF9tB,EAAI4gB,oBAAgBmD,SAAarD,GAK/B,IAJA,IAAIuN,EAAaL,EAAKzY,gBAAc,GAIpChJ,EAAA,EAAAA,EAAArH,EAAAY,OAAAyG,CAAA,GAKEyU,GAHK9b,EAAKopB,GAAAA,gBAAyBD,CAAAA,EAGE,OAAY9Y,EAAUhJ,GACQ,OAAA,IAEvEnM,EAG2C4tB,EAAAO,cAAgBhK,SAAQqH,GAAG,IAAAE,EAAAkC,EAAAzC,oBAAAK,CAAA,EACrB,OAAKrW,EAAqBuW,EAAAJ,gBAAAE,CAAA,EAEL,EACtExrB,EAKAA,EAAI4gB,UAAM3c,UAAkB,SAAAyc,GAAY,IAAAgL,EAAWkC,EAAK5kB,oBAAK0X,CAAA,EAS1D,OARCE,IACKgN,EAAC3pB,oBAAiCynB,EAAWkC,EAAK/I,oBACvDjE,KAAM3c,IAAAA,MAAU0gB,gDAAkB,GACwC3gB,KAAAoqB,qBAAA,EAE3EpqB,KAAC4c,IAAM3c,UAAU6kB,KAAAA,oBAAyB,EAAiC9kB,KAAAqqB,eAAA3N,EAC3E1c,KAAC4c,eAAgB0N,EAAAA,aAAkB5N,EAAS7W,IAAI,EAAE7F,KAAKmR,GAAI2T,UAAY9kB,KAAG6F,oBAAG,EAEtE5F,IAAqC,EAG/CjE,EAAI4gB,UAAM3c,qBAAuB,WAC1BD,KAAK4nB,gBAAA5nB,KAAA4nB,eAA6BjX,SACrC3Q,KAAOhE,eAAIgqB,QAAAA,CAGb,CAEFhqB,EA3YAA,KA6YIuuB,MAAOvuB,EA3YV,GA8YC,EAlYFA,KAiZIgM,MAAMhM,KAAAgqB,oBAA0BpmB,OAAC,CAEnCG,KAAI7D,SAAQoU,EAAWpU,EAAIA,GAGH,CAAA,IAApBA,EAAoB,gBAAA,CAAA,IAAAA,EAAA,mBACtB8L,KAA2B,yBAAU,CAAA,GAGrCA,KAAAA,oBAAsBvG,KAAKzB,KAAAsQ,EAAApU,EAAAC,CAAA,EAE7B6D,KAAI9D,cAAgB,EARlB8L,IAAKwiB,EAACC,EAAavuB,EAAQwuB,EAAexuB,EAU5CwgB,EAAAxgB,EAAA,OAvYE,GA+YFwgB,IAAA1c,KAAAmR,IAAA4O,aAAArD,EAAAO,KAAA3M,EAAAlU,KAAA,IAAAkU,EAAAlU,IAAA4f,oBAEAhU,KAAM2iB,UAAYjO,CAAA,EAGd1c,KAAOmR,IAAAyZ,cAAY,EAAA,CAMrB,IAvZEH,GAmZAD,EAAOxqB,KAAMmR,IAACyK,YACCla,OACfmpB,EAAA,GAEFJ,CAAA,IAKU,WAJXC,EAAAF,EAAAC,IAEqBhuB,SAAE6sB,YAAgBthB,IAGzChI,KAAA,yBAWUA,KAAKxD,iBAAK,EAAA8sB,UAAoBoB,EAAQ,KAAA,EAJrCG,EAAG9pB,KAAA2pB,CAAA,GAUX,IAAAviB,EAAA,EAAAA,EAAA0iB,EAAAnpB,OAAAyG,CAAA,GACFnI,KAAAmR,IAAA/D,YAAAyd,EAAA1iB,EAAA,CAzZE,CAEInI,KAA+B,0BA4ZvCA,KAAAS,GAAA,YAAAzE,KAAA+K,KAAA/G,KAAAA,KAAA8qB,YAAA,CAAA,EAOO9uB,KAACqM,eAAwB,CAAA,IAANiI,EAAMpU,QAAA,EAAA,wBAC5B8D,KAAOqH,kBAAG,EAQXiJ,EAAC0V,MAAAA,WA3ZMhmB,KAAKid,IAAI,GAAKjd,KAAK5D,KAAO4D,KAAK6Q,SAAmB,UAAK7Q,KAAKkb,OAAO,IA6Z7E,OAAAlb,KAAA5D,IAAA,OACA4D,KAAAud,KAAA,EAEA,CAAA,EAECvd,KAAA+S,aAAU,CACT,CA3ZF,CAAC,EAED/W,KA8ZI4gB,MAAImO,UAASC,QAAa,WA7Z5BhvB,KA8ZE4gB,MAAKqO,oBAAoBjrB,KAAAmR,GAAA,EA7Z3BnV,KA8ZEgqB,oBAAa/lB,UAAA0Q,QAAAlP,KAAAzB,IAAA,CA7ZjB,EAEAhE,KA+ZI4gB,MAAKqO,UAAU/rB,SAAS,WA9Z1B,IAgaC8I,EACCqgB,EAMJD,EARI9X,EAAO4a,KAAAA,QAKX1uB,EAAA8T,EAAAlU,IAQA,GAAA,CAAAI,GAAA,CAAA,IAAAwD,KAAA,wBAAA,CApYI,GAuYJxD,GACIogB,EAAM+K,EAAAA,UAAAA,CAAAA,CAAoBL,EACxBhf,KAAAA,MAAUuU,oBAAArgB,CAAA,EAEdA,EAAS2uB,EACP7a,EAAAlU,IAAA,OAEAI,EAAIR,KAAAsJ,SAAA,OAAA,EAGF0E,EAASpN,QAAAuC,KAAAC,aAAA,GAAAkR,EAAA8J,aAAA,EACXpe,KAAAqN,eAAA,CAAA,IAAAiH,EAAApU,QAAA,EAAA,wBACF,OAAA8N,EAAAwQ,SAGIkC,KAAAA,qBAAalgB,EACfR,KAAOmvB,IAAAA,MAAWnhB,EAAY,CACzB/N,GAAIygB,EAAOO,GAAG,EAAE,aACrBmO,MAAA,UACA9iB,CAAK,CACL+iB,IAKF7uB,EAAS,OAAA8T,GAhaIO,SAASyK,OAmaxB,IAAAnT,EAAA,EAAAA,EAAAmI,EAAAO,SAAAyK,OAAA5Z,OAAAyG,CAAA,GACAH,EAAAsI,EAAAO,SAAAyK,OAAAnT,IACAkgB,EAAAvsB,SAAAC,cAAA,OAAA,GACAwM,KAAAP,EAAAO,KACA8f,EAAAtH,MAAA/Y,EAAA+Y,MACAsH,EAAA7f,QAAAR,EAAAQ,QACA6f,EAAApL,IAAAjV,EAAAiV,IACU0K,YAAAA,GACHrC,EAAO5I,aAAW,UAAA,SAAA,EAhajBlgB,EAAG0L,YAAYmgB,CAAO,EAsa9BrsB,KAAA2O,YAAAnO,EAAA8T,EAAA9T,GAAA,CAAA,CACAR,CA9ZE,IAiaFA,IAAI4gB,EAAMiN,CAAAA,WAAsB7tB,UAAU2rB,OAAAA,SAjanCxf,EAAIsgB,EAAc/mB,OAAS,EAAQ,GAALyG,EAAQA,CAAC,GAAI,CAmalD,IAAAgS,EAAAsO,EAAAtgB,GACAogB,EAAA,GACA,KAAA,IAAAjY,EAAAO,SAAAsJ,KACAoO,EAAApO,GAAA7J,EAAAO,SAAAsJ,IAEAne,KAAA+N,qBAAAvN,EAAA+rB,CAAA,CACAvsB,CAEEA,OAAIqM,CAEN,EAGArM,KAAA4gB,MAAA3c,UAAA6qB,aAAA,WASA,IARA,IACA9iB,EADAsT,EAAAtb,KAAAmR,IAAAuX,iBAAA,OAAA,EAEI9L,EAAKtB,EAACgQ,OACJxG,EAAAA,CACAzc,SAASyc,EACbyG,UAAmB,CACpB,EAEDpjB,CAAA,KACAH,EAAAsT,EAAAnT,GAAAH,QACAA,EAAA,QAAA2gB,GACA,CAAArN,EAAAnT,GAAA,UACIyU,EAAM4O,KAAAA,WA/ZV,EAKAxvB,KAkaEyvB,MAAAA,UAAkBC,cAASrjB,WAC3B,IAAIojB,IAAAA,EAAAA,KAAAA,MAAkBE,OAAOjqB,OAAS,EAACqlB,GAAAA,EAAU5e,CAACzG,GAChD+pB,KAAAA,GAAAA,KAAAA,MAAkBE,OAAGxjB,GAAOnM,KAAIqM,YAAS0e,CAha7C,EAEA/qB,KAkaE4gB,MAAA3c,UAAA6oB,aAAA,SAAAC,GAMF,SAAAA,EAAA9rB,MAAA+C,KAAAgF,MAAA,EACAhF,KAAAsQ,OAAA,EAAAtL,MAAAhF,KAAAgF,MAAA,EAAA/F,IAAA,GAKA8pB,EAAA1kB,QAAA,CAAA,EAEArE,KAAAsQ,OAAA,EAAA1M,QAAAmlB,CAAA,EAjaA,EAqaA/sB,KAAA4gB,MAAA3c,UAAA+nB,kBAAA,WACA,IAAAkB,EAAA0C,EAAAC,EAEA5Q,EAAAjb,KACAhE,EAAUiE,KAAAA,OAAU,EAGpBgb,EAAAgO,YAAA3Y,EAAAkK,SAAA,CAAA,EAGA0O,EAAA,WACGjO,EAAC2B,YAAgB,CAAA,CAAA,CAlalB,EAoaFgP,EAAA,WACA3Q,EAAAgO,YAAA,CAAA,CAAA,CACA,EACA3Y,EAAA7P,GAAA,kBAAAyoB,CAAA,EACAltB,EAAI4gB,GAAM3c,mBAAU2rB,CAAA,EA5ZlB3Q,EAAKxa,GAAG,UA+ZVorB,EAAA,WACAvb,EAAA1O,IAAA,kBAAAsnB,CAAA,EACA5Y,EAAA1O,IAAA,mBAAAgqB,CAAA,CACA5vB,CAla4B,EAoa5BsU,EAAA7P,GAAA,sBAAAorB,CAAA,EAhaEvb,EAmaIwb,oBAAY,CAAA,CAAA,CAlalB,EAGA9vB,KAoaI4gB,MAAI5gB,UAAI0M,KAAAA,WAAwB1I,KAAAmR,IAAAoM,KAAA,CAAA,EAnapCvhB,KAAI4gB,MAoaM3c,UAACkrB,MAAa,WAAAnrB,KAAAmR,IAAAqM,MAAA,CAAA,EAnaxBxhB,KAAI4gB,MAoaIuO,UAAWjQ,OAAO7S,WAASjI,OAAYH,KAAAA,IAASib,MAACiQ,EAlazDnvB,KAAI4gB,MAqaK3c,UAAUG,YAAYH,WAAUkrB,OAAWnrB,KAAGmR,IAAA2L,WAAe,EApatE9gB,KAAI4gB,MAqaI3c,UAAY6rB,eAAe7uB,SAAO8N,GApaxC,IACE/K,KAqaImR,IAAA2L,YAAA/R,CAjaN,CAHE,MAqaI1D,GApaJrL,KAqaGmJ,IAAAkC,EAAA,gCAAA,CAnaL,CACF,EAEArL,KAAI4gB,MAqaM3c,UAACkrB,SAAa,WAAA,OAAAnrB,KAAAmR,IAAA+L,UAAA,CAAA,EApaxBlhB,KAAI4gB,MAqaIuO,UAAWzN,SAAOrV,WAASjI,OAAYH,KAAAA,IAAUkrB,QAAW,EAnapEnvB,KAAI4gB,MAsaK3c,UAAUG,OAAAA,WAAqB,OAAC+qB,KAAWha,IAAGqN,MAAA,EAravDxiB,KAAI4gB,MAsaI3c,UAAY8rB,UAAW9uB,SAAO8gB,GAAA/d,KAAAmR,IAAAqN,OAAAT,CAAA,EAratC/hB,KAAI4gB,MAsaM3c,UAAOwe,MAAO,WAAA,OAAAze,KAAAmR,IAAAsN,KAAA,EAraxBziB,KAAI4gB,MAsaI3c,UAAA+rB,SAAA,SAAAvN,GAAAze,KAAAmR,IAAAsN,MAAAA,CAAA,EApaRziB,KAAI4gB,MAsaG3c,UAAArC,MAAA,WAAA,OAAAoC,KAAAmR,IAAAiF,WAAA,EAraPpa,KAsaI4gB,MAAA3c,UAAApC,OAAA,WAAA,OAAAmC,KAAAmR,IAAA8a,YAAA,EApaJjwB,KAuaEA,MAAI4gB,UAAMsP,mBAAqB,WAta/B,MAuaE,EAA0C,YAA1C,OAAQlwB,KAAIqM,IAAAA,uBAGZ,CAAA,UAAQS,KAAA9M,KAAAoM,UAAA,GAAA,uBAAAU,KAAA9M,KAAAoM,UAAA,EAKZ,EAEApM,KAAA4gB,MAAA3c,UAAAksB,gBAAA,WACAnwB,IAAI4gB,EAAM+O,KAAMxa,IAGV,+BAAKsY,GAAEzpB,KAAAsE,IAAA,wBAAA,WAAQtE,KAAAuQ,QAAA0N,aAAA,CAAA,CAAA,EAIfzhB,KAAGwH,IAAAA,sBAAY,WACdA,KAAAA,QAAWoJ,aAAe,CAAA,CAAA,EAC/BpN,KAAAuQ,QAAA3M,QAAA,kBAAA,CAvaI,CAAC,EA0aL5D,KAAQuQ,QAACqa,QAAe,kBAAE,CACxBpuB,CAAAA,EAGFitB,EAAAvO,QAAAuO,EAAAxN,cAAAwN,EAAAC,eAraE1pB,KAAKmR,IAAIoM,KAAK,EA4advd,KAAA4P,WAAA,WACC6Z,EAAAjM,MAAW,EACViM,EAAI2C,sBAAA,CAvaN,EAAG,CAwaC5vB,GAtaJitB,EAwaI2C,sBAAA,CAtaR,EA0aApwB,KAAC4gB,MAAA3c,UAAAosB,eAAA,WACDrsB,KAAAmR,IAAAmb,qBAAA,CACA,EAMAtwB,KAAA4gB,MAAA3c,UAAAiqB,yBAAA,SAAAqC,EAAAC,GAMA,OAAAA,GAAAD,GALA,WAKAzjB,KAAAyjB,CAAA,EACSC,EAEDD,CAvaR,EAEAvwB,KAAI4gB,MA0aI3c,UAAAgd,IAAA,SAAAA,GAzaN,IA0aMwP,EAAQnc,KAAUa,IAAE8L,IAxa1B,GA2aM/d,KAAAA,IAAA+d,EA1aJ,OA2aIjd,KAAAkqB,yBAAAD,EAAAjqB,KAAAirB,OAAA,EAxaJjrB,KA4aI0sB,OAASzP,CAAGjhB,CA1apB,EAEAA,KAAI4gB,MA6aM3c,UAAAqlB,OAAA,SAA2BrI,GA5anCjd,KAAKmR,IA8aG8L,IAAAA,CA7aV,EAEAjhB,KAAI4gB,MA8aM3c,UAAQ0sB,KAAAA,WAAkB3sB,KAAAmR,IAAA2O,KAAA,CAAA,EA7apC9jB,KAAI4gB,MA8aM3c,UAAS0sB,WAAclO,WA7a/B,IA+aMwL,EAAWjqB,KAAAmR,IAAW4O,WA7a5B,OAgbM6M,KAAMvC,eAGHnuB,KAAAA,yBAAkB+tB,EAAAjqB,KAAAqqB,eAAApN,GAAA,EAFnBgN,CA5aV,EAEAjuB,KAAI4gB,MAgbM3c,UAAWqgB,OAAA,WAAA,OAAAtgB,KAAAmR,IAAAmP,MAAA,EA/arBtkB,KAAI4gB,MAgbM3c,UAAQwsB,UAAK,SAAA5mB,GAAA7F,KAAAmR,IAAAmP,OAAAza,CAAA,EA9avB7J,KAAI4gB,MA+aM3c,UAASmf,QAAA,WAAA,OAAApf,KAAAmR,IAAAiO,OAAA,EA9anBpjB,KAAI4gB,MA+aO1gB,UAAQ2wB,WAAc,SAAAhnB,GAAA7F,KAAAmR,IAAAiO,QAAAvZ,CAAA,EA7ajC7J,KAgbI4gB,MAAA3c,UAAAkgB,SAAA,WAAA,OAAAngB,KAAAmR,IAAAgP,QAAA,EA/aJnkB,KAgbI4gB,MAAIF,UAAQoQ,YAAA,SAAAjnB,GAAA7F,KAAAmR,IAAAgP,SAAAta,CAAA,EA9ahB7J,KAAI4gB,MAgbI3c,UAAK0qB,SAAiB,WAAA,OAAA3qB,KAAAmR,IAAAqJ,QAAA,EA/a9Bxe,KAAI4gB,MAgbI3c,UAAAgpB,YAAA,SAAApjB,GAAA7F,KAAAmR,IAAAqJ,SAAA,CAAA,CAAA3U,CAAA,EA9aR7J,KAAI4gB,MAAM3c,UAAUmgB,KAAO,WAAY,OAAOpgB,KAAKmR,IAAIiP,IAAM,EAC7DpkB,KAgbI4gB,MAAA3c,UAAA8sB,QAAA,SAAAlnB,GAAA7F,KAAAmR,IAAAiP,KAAAva,CAAA,EA9aJ7J,KAAI4gB,MAAM3c,UAAU+E,MAAQ,WAAY,OAAOhF,KAAKmR,IAAInM,KAAO,EAC/DhJ,KAgbI4gB,MAAA3c,UAAA2gB,QAAA,WAAA,OAAA5gB,KAAAmR,IAAAyP,OAAA,EA/aJ5kB,KAgbI4gB,MAAA3c,UAAA4gB,SAAA,WAAA,OAAA7gB,KAAAmR,IAAA0P,QAAA,EA/aJ7kB,KAgbI4gB,MAAI1gB,UAAQykB,MAAY,WAAE,OAAA3gB,KAAAmR,IAAAwP,KAAA,EA/a9B3kB,KAAI4gB,MAgbM3c,UAAO+sB,aAAU,WAAA,OAAAhtB,KAAAmR,IAAA6b,YAAA,EA9a3BhxB,KAAI4gB,MAgbI3c,UAAW6kB,aAAA,WAAA,OAAA9kB,KAAAmR,IAAA2T,YAAA,EA/anB9oB,KAAI4gB,MAgbI3c,UAAKqqB,gBAAuB,SAAWzkB,GAAE7F,KAAAmR,IAAA2T,aAAAjf,CAAA,EA9ajD7J,KAgbI4gB,MAAA3c,UAAAgc,aAAA,WAAA,OAAAjc,KAAAmR,IAAA8K,YAAA,EA/aJjgB,KAAI4gB,MAAM3c,UAAUkP,WAAa,WAAY,OAAOnP,KAAKmR,IAAIhC,UAAY,EAEzEnT,KAgbI4gB,MAAA3c,UAAA8mB,WAAA,WA/aF,OAgbE/mB,KAAoB,yBA5afA,KAgbKmR,IAACb,WAHJnU,KAAAA,oBAAgB8D,UAAA8mB,WAAAtlB,KAAAzB,IAAA,CA5a3B,EACAhE,KAAI4gB,MAAM3c,UA8a4C6gB,aAAW,SAAAvY,EAAAwY,EAAAriB,GA7a/D,OAAKsB,KA6akE,yBAzahEA,KAAKmR,IAAI2P,aAAavY,EAAMwY,EAAOriB,CAAQ,EA0a1C1C,KAAAgqB,oBAAA/lB,UAAA6gB,aAAArf,KAAAzB,KAAAuI,EAAAwY,EAAAriB,CAAA,CAzaV,EAEA1C,KA6aIsU,MAAMrQ,UAAI8hB,mBAAqBpN,SAAAA,GA5ajC,IAmbG3M,EAnbH,OA8aEhI,KAA2B9D,0BAK1B8L,EAACge,SAAAA,cAA8BrV,OAAO,GAC1CzU,EAAAA,GAAA,IAGmB,OACnB8L,EAAA,KAAA9L,EAAA,MAGKA,EAAe,QACpB8L,EAAA,MAAA9L,EAAA,QAGK+gB,EAAiB,UAAE/gB,EAAA,WACrB8L,EAAY,QAAA9L,EAAe,UAAAA,EAAA,SAhbzBA,EAAiB,UAmbrB8L,EAAA,QAAA9L,EAAA,SAEDA,EAAA,KAEE8L,EAAO/H,GAAAA,EAAmB,IAExB/D,EAAOyQ,MACV3E,EAASilB,IAAQhQ,EAAI,KAGrBjd,KAAAxD,GAAA,EAAA0L,YAAAF,CAAA,EAEiB,aAAfA,EAAQA,MAAO,KACfA,EAAK4H,MAAW,KAAA,SAAyB5H,EAAK,MAAA,KAAA,WAIlDhM,EAAUiE,OAAS,WACjB,IAAKitB,EAAAA,EAAkB9J,MACE,GAApBjS,EAAIgc,aACLnH,aAAAA,EAAAA,MAA6CvkB,WAAf6mB,EAAAA,KACnC8E,EAAA,KAAA,SAEmB,aAAVntB,EAAU,MAA+B,aAAdmtB,EAAc,OACjDA,EAAA,KAAA,YAEIplB,EAAc,OAAE,KAEpB,EAEDhI,KAAA8hB,iBAAA,EAAAwH,UAAAthB,EAAAA,KAAA,EAGKA,GArDJhM,KAAAgqB,oBAAA/lB,UAAA8hB,mBAAAtgB,KAAAzB,KAAA9D,CAAA,CA9XF,EAEAF,KAobI4gB,MAAA3c,UAAgBotB,sBAAgB,SAAarlB,GAC/C,GAAA,CAAAhI,KAAA,yBACD,OAAAhE,KAAAgqB,oBAAA/lB,UAAA+gB,sBAAAvf,KAAAzB,KAAAgI,CAAA,EAIA,IAAAsT,EAAAnT,EAOA,IAJCnI,KAAKmR,iBAAIkc,EAAe9D,aAAUvhB,CAAA,EAEpChM,EAAUiE,KAAAA,GAAAA,EAAyB,iBAAA,OAAU,EAE5CkI,EAAA,EAAAA,EAAAmT,EAAA5Z,OAAAyG,CAAA,GAEE,GAACmlB,EAAMrtB,KAAU4gB,GAAQvF,EAAGnT,GAAW,QAAAH,EAAA,CACpCkV,EAAAA,GAAgBA,WAAU,YAAA5B,EAAAnT,EAAA,EAC1B+U,KACF,CArbJ,EAgcAlhB,KAAC4gB,MAAA8C,YAAA,WAGC,IACE1jB,KAAAqM,SAAQ,OAAA,EAGX,CAFC,MAAAhB,GACA,MAAO,CAAA,CACR,CAGC,MAAO,CAAA,CAAArL,KAAMqM,SAAC8iB,WAChB,EAIAnvB,KAACgqB,oBAAA2D,mBAAA3tB,KAAA4gB,KAAA,GApbD,KA8bE,IACEoO,EAAgB7Q,KAAIyC,MAAC7W,UAAUb,UAC/BqoB,EAAuBvxB,KAAA4gB,MAAS/W,UAAIukB,qBA3btCpuB,KA2bqF4gB,MAAA3c,UAAA0qB,UAAA,SAAAjO,GACrF,IAAAqO,EAAAC,EAAAvpB,KAAAzB,KAAA0c,CAAA,EAEE6Q,OADFvtB,KAAAirB,QAASuC,EAAarT,IAChBA,CA1bN,EA2bAne,KAAA4gB,MAAA3c,UAAAmqB,qBAAA,WAEA,OA1bEpqB,KAAKirB,QAAU/rB,KAAAA,EA0bjBgsB,EAAAzpB,KAAAzB,IAAA,CACA,CAxbD,GAAE,EAicHhE,KAAI4gB,MAAA+K,oBAAA,GAOJ3rB,KAAC4gB,MAAA+K,oBAAAL,gBAAA,SAAA5K,GAGD1gB,SAAIgqB,EAAAA,GAGJ,IACA,OAAAhqB,KAAAqM,SAAA8iB,YAAAluB,CAAA,CAGA,CAFA,MAAAoK,GACA,MAAA,EACA,CACArL,CAGA,OAAA0gB,EAAAzf,KACAkuB,EAAAzO,EAAAzf,IAAA,EACAyf,EAAAO,IAMWkO,EAAE,WAJV7iB,EAAOqf,EAAAA,IAAAA,MAAAA,4BAAsC,IACtCrf,EAAA,GAGG,EAGX,EAzbF,EAqcAtM,KAAA4gB,MAAA+K,oBAAAE,aAAA,SAAAnL,EAAAzB,GACAA,EAAAqK,OAAA5I,EAAAO,GAAA,CACA,EAtbAjhB,KAAI4gB,MAAM+K,oBAAoBhX,QAAU,aA+bxC3U,KAAA4gB,MAAAiN,sBAAA7tB,KAAA4gB,MAAA+K,mBAAA,EApbA3rB,KA6bE4gB,MAAA6Q,iBAAoB,WACpB,IAAAjP,EAAaxiB,KAAKqM,SAAAmW,OAEnB,OADCxiB,KAAAqM,SAAamW,OAAAA,EAAA,EAAA,GACdA,IAAAxiB,KAAAqM,SAAAmW,MAEDxiB,EAxbAA,KAAI4gB,MAAM0O,uBAAyB,WAgcjC,IAAAxG,EAAA9oB,KAAAqM,SAAAyc,aAEA,OADA9oB,KAAAqM,SAAAyc,aAAAA,EAAA,EAAA,GACIxU,IAAQtU,KAAAqM,SAAAyc,YA9bd,EAMA9oB,KAAI4gB,MAAM4O,yBAA2B,WAgcrC,IAxbEC,EAAqB,CAAC,CAACzvB,KAAIqM,SAAS0e,WAQpC,OA4bC0E,GAHDA,EADAA,GAAA,EAAAzvB,KAAAqM,SAAA0e,WAAArlB,OAC+B,UAAjB2rB,OAAerxB,KAAEqM,SAAA0e,WAAA,GAAA,KAE7B9L,IAAmBjf,KAAAuN,WACd,CAAA,EAGHvN,CA9bN,EAMAA,KA+bE4gB,MAAItM,UAAgC,sBAAAtU,KAAA4gB,MAAA6Q,iBAAA,EAzbtCzxB,KA+bE4gB,MAAItM,UAAgC,qBAAAtU,KAAA4gB,MAAA0O,uBAAA,EAxbtCtvB,KAAI4gB,MAAM3c,UAAmC,wBAAI,CAACjE,KAAIiN,OAoctDjN,KAAA4gB,MAAA3c,UAAA,yBAAA,CAAA,EAvbAjE,KA6bI0xB,MAAAA,UAAmC,uBAAA,CAAA,EAvbvC1xB,KAAI4gB,MA6bI8Q,UAA6B,yBAAA1xB,KAAA4gB,MAAsB4O,yBAAsB,GA1bjF,KA8bE,IAAAL,EACDW,EAAA,4CA5bKC,EAAQ,eA+bd/vB,KAAIsxB,MAAMK,iBAAiBC,WAGrB,GAAA5xB,KAAA0M,kBACM1M,EAAAA,GAAiCiD,KAAAA,SAAAA,YAAAA,UAAAA,YAK3C4uB,KAAAA,SAAY7pB,YAAW8pB,UAAgB3C,YAAc,SAAAluB,GACjDjB,OAAIkL,GAAQ4kB,EAAG+B,KAAY7xB,CAAIkL,EA9bpB,QAicfikB,EAAA1pB,KAAAzB,KAAA/C,CAAA,CACI8wB,GAKJ/xB,KAAUkN,iBAEXiiB,EAAAA,GAES6C,KAAe3lB,SAAAjI,YAAcssB,UAAWE,YAI5CqB,KAAAA,SAAe7tB,YAAEH,UAAAkrB,YAAA,SAAAluB,GACjBixB,OAAAA,GAAgBnC,EAAAjjB,KAAA7L,CAAA,EAlcL,QAqcFkuB,EAAE1pB,KAAAzB,KAAA/C,CAAA,CACbjB,EAjcF,EAEAA,KAAI4gB,MAAMsP,mBAAqB,WAoc/B,IAAAiC,EAAAnyB,KAAAqM,SAAAjI,YAAAH,UAAAkrB,YAGE,OAFFyB,KAAMvkB,SAAO7H,YAAUP,UAAAkrB,YAAAA,EACrBA,EAAY,KACZgD,CAlcF,EAqcAnyB,KAAG4wB,MAAOwB,iBAAA,CAjcX,GAAE,EAGHpyB,KAkcIiyB,MAAAA,OAAY,4MAA8CpmB,MAAA,GAAA,EAhc9D7L,KAmcEgO,MAAAA,oBAA2B,SAAAxN,GAlc3B,GAmcEA,EAncF,CASA,IAPAA,EAocE,OAAA,KAEAA,EAAAwH,YAEDxH,EAAEwN,WAAWoD,YAAA5Q,CAAA,EAIZ0xB,EAAAA,cAAsB,GACtB1xB,EAAA4Q,YAAA5Q,EAAAwO,UAAA,EAWH,GALCxO,EAAA8K,gBAAY,KAAA,EAKb,YAAA,OAAA9K,EAAAsjB,KAIGuO,IACAC,EAAMxO,KAAE,CAGJ7C,CAFL,MAAA5V,IA7BC,CAtaJ,EAeArL,KA0cEuyB,MAAMF,KAAAA,oBAA4BzuB,OAAE4uB,CAGpCzuB,KAAA,SAAYuQ,EAAApU,EAAAC,GACbH,KAAAgqB,oBAAAvkB,KAAAzB,KAAAsQ,EAAApU,EAAAC,CAAA,EAGC,IAAAugB,EAAcxgB,EAAcuyB,OAG9BhC,EAAAnc,EAAArU,GAAA,EAAA,aAMC0wB,EAAArc,EAAAO,SAGD6b,EAAA1wB,KAAAwE,IAAAkG,MAAA,CAGSgoB,cAACC,wBA5cAC,mBAAsB,wBA8chCC,wBAAA,wBAGA1O,SAAAwM,EAAAxM,SACAf,QAAAuN,EAAAvN,QACSgB,KAACuO,EAAkBrH,KACnB7I,MAAOqQ,EAAgBpS,KAE9B,EAAAxgB,EAAA,SAAA,EA1cM0wB,EAAS5wB,KAAIwE,IAAIkG,MAAM,CA+c/BqoB,MAAA,SACAC,QAAA,SACA,EAAA9yB,EAAA,MAAA,EAGA8N,EAAAhO,KAAAwE,IAAAkG,MAAA,CACAzK,GAAAwwB,EACS3sB,KAAC6uB,EACJM,MAAWjzB,UAEV,EAAAE,EAAqB+yB,UAAAA,EAI5BvS,GACI4Q,KAAMzD,MAAAA,WACV7pB,KAAA2qB,UAAAjO,CAAA,CACA,CAAA,EAIA1gB,KAAA2O,YAAA3K,KAAAmR,IAAAjV,EAAA,QAAA,EAIOA,EAAgB,WA9cjB8D,KAAK7D,MAAM,WAgdb6D,KAAA8f,KAAA,EACA9f,KAAAud,KAAA,EACIvd,KAAiB,YAAA9D,EAAqB2U,SAAAA,CACxC,CAAA,EAKE7U,KAAIif,YA9cNjb,KA+cIsQ,MAAOmM,WA9cTzc,KA+cES,GAAA,YAAA,WAEJT,KAAAsQ,OAAA,EAAA1M,QAAA,CAAA3G,KAAA,YAAAoH,QAAA,CAAA,CAAA,CAAA,CACD,CAAA,CACC,CAAA,EAKFiM,EAAA7P,GAAA,aAAA6P,EAAAqE,kBAAA,EAEF3U,KAAAmR,IAAAnV,KAAAsxB,MAAAK,MAAAzxB,EAAA,IAAA8D,KAAAmR,IAAAub,EAAAE,EAAA5iB,CAAA,CACF,CACA,CAAA,EAEAhO,KAAAsxB,MAAArtB,UAAA0Q,QAAA,WACA3U,KAAAgqB,oBAAA/lB,UAAA0Q,QAAAlP,KAAAzB,IAAA,CACAhE,EA7cAA,KA+cEsxB,MAAQrtB,UAAUsd,KAAA,WAClBvd,KAAAmR,IAAS+d,SAAE,CACb,EAEAlzB,KAAAsxB,MAAArtB,UAAAud,MAAA,WACAxd,KAAAmR,IAAAge,UAAA,CACA,EAEAnzB,KAAAsxB,MAAArtB,UAAAgd,IAAA,SAAAA,GACAjhB,OAAIozB,KAAAA,IAAAA,EACFpvB,KAAwB,WAAA,EAIxBA,KAAYslB,OAAArI,CAAA,CACd,EA7cAjhB,KA+cAsxB,MAAArtB,UAAAqlB,OAAA,SAAArI,GAOA,IACAhC,EANAgC,EAAAjhB,KAAA2Q,eAAAsQ,CAAA,EACAjd,KAAAmR,IAAA8b,QAAAhQ,CAAA,EAIAjd,KAAAuQ,QAAA4P,SAAA,IACAlF,EAAAjb,MACA4P,WAAA,WAAAqL,EAAAsC,KAAA,CAAA,EAAA,CAAA,CAEA,EAEAvhB,KAAAsxB,MAAArtB,UAAA,eAAA,SAAAmjB,GACApjB,KAAAktB,gBAAA9J,EACApjB,KAAAmR,IAAAgc,gBAAA,cAAA/J,CAAA,EACApnB,KAAAgqB,oBAAA/lB,UAAAqoB,eAAA7mB,KAAAzB,IAAA,CACA,EAEAhE,KAAAsxB,MAAArtB,UAAA,YAAA,SAAAmjB,GA5cE,OAAIpjB,KAAK4gB,QAAQ,EAgdfyO,KAASnC,iBAAYhxB,EAGvBA,KAAUA,IAAAA,gBAAa,aAAA,CA/czB,EAEAF,KAidEsxB,MAAArtB,UAAA,WAAA,WAhdA,OAkdED,KAAGqqB,eACDruB,KAAIoN,eAAQ6T,IAGT1V,KAAI4J,IAAInV,gBAAciE,YAAW,CAjd1C,EAEAjE,KAodEoxB,MAAG7c,UAAUrU,KAAQ,WAndrB8D,KAqdAgpB,IAAOhtB,SAAIszB,CApdb,EAEAtzB,KAqdE0C,MAAAA,UAAWxC,OAAQ,WApdnB8D,KAqdEmR,IAAGjV,gBAAiB,QAAA,CApdxB,EACAF,KAAIsxB,MAsdIrtB,UAAW,UAAA,aAldnBjE,KAwdEuzB,MAAItvB,UAAWuvB,SAAAA,WAtdf,OAyde,IAFFxvB,KAAIhE,SAAIwzB,EAIdxzB,KAAAqQ,gBAAa,EAEhBrQ,KAAKqQ,gBAAW,EAAArM,KAAYkd,SAAA,CAAA,CAxdlC,EAEAlhB,KAydEsxB,MAAErtB,UAAAyd,SAAA,WAxdF,OAydA1d,KAAQmR,IAAAkc,gBAIRrnB,KAAOypB,gBAAiB,EAAEzvB,KAAMmR,IAAEkc,gBAAA,UAAA,CAAA,EAH7B9c,KAAAA,gBAAW,CAtdlB,EAEAvU,KAAIsxB,MA0dCrtB,UAAAid,SAAA,WAzdH,OA0dEwS,KAAK1hB,IAAAA,gBAIFhO,KAAEmR,IAAAkc,gBAAW,UAAA,EAHhB,CAvdJ,EAEArxB,KAAIsxB,MA2dGrtB,UAAWA,mBAAAA,WA1dhB,MA2dE,CAAA,CA1dJ,EAEAjE,KAAIsxB,MA4dErtB,UAAOvB,gBAAQ,WA3dnB,MA4dG,CAAA,CA3dL,GAEA,KAEE,IAkeAsH,EAleIunB,EA6dAvxB,KAAOC,MAAEgE,UA5dX0vB,EA6dC,4IAAA9nB,MAAA,GAAA,EA5dD+nB,EA6dK5hB,uIAAS/N,MAAAA,GAAAA,EArdhB,SA8dMutB,EAAArT,GA7dJoT,EA8dEpT,GAAA,WAAA,OAAAna,KAAAmR,IAAAkc,gBAAAlT,CAAA,CAAA,CA7dJ,CAGA,IAAKhS,EA8dD,EAAAA,EAAAwnB,EAAAjuB,OAAAyG,CAAA,GA7dFqlB,EA8dO5pB,EAAQuE,EAAA,GAVFgS,IA7db,IA8dC0V,EAAA1V,EAAApU,OAAA,CAAA,EAAAb,YAAA,EAAAiV,EAAA7d,MAAA,CAAA,EA7dDixB,EA8dAmC,MAAKG,GAASC,SAASjqB,GAAA,OAAA7F,KAAAmR,IAAAgc,gBAAAhT,EAAAtU,CAAA,CAAA,CA7dzB,GAseE8pB,EAAAxnB,EAAA,EA1dF,IAAKA,EA+dD,EAAKA,EAAK4nB,EAASruB,OAAAyG,CAAA,GA9drBqlB,EA+dWoC,EAAIznB,EAAA,CA7dlB,GAAE,EAIHnM,KAieEgK,MAAM0Z,YAAC+P,WAheP,OAiekB,IAAbzzB,KAAEsxB,MAAAI,QAAW,EAAA,EA/dpB,EAGA1xB,KAAIgqB,oBAmekB2D,mBAAe3tB,KAAAsxB,KAAA,EA3drCtxB,KAAIsxB,MAqeI0C,oBAAqB,GA9d7Bh0B,KAAIsxB,MAseE2C,oBAAe3I,gBAAA,SAAA5K,GAnenB,OAAKA,EAueAzf,MAleEyf,EAueDzf,KAAA+P,QAAA,MAAA,EAAA,EAAA8O,YAAA,IAGGoU,KAAAA,MAAWC,QAChBC,QARE,EA5dR,EASAp0B,KA2eCsxB,MAAA3F,oBAAAE,aAAA,SAAAnL,EAAAzB,GAEDjf,EAAIqzB,OAAAA,EAAUpvB,GAAAA,CA3ed,EAMAjE,KA4eEsxB,MAAA3F,oBAAahX,QAAA,aAzef3U,KA6eEsxB,MAAIhS,sBAAsByL,KAAAA,MAAYY,mBAAA,EA3exC3rB,KA8eEsxB,MAAIhS,QAAQ,CA7eZ+U,YA8eU,MA7eVC,cA8eQhV,MA7eRiV,YA8eMjV,MA7eNkV,YA8eI,KA7eN,EAEAx0B,KA+eEsxB,MAAe,QAAI,SAACmD,GA9epB,IAkfFz0B,EAAIqzB,KAAAA,GAAAA,CAAUpvB,EA7eZqQ,EAgfO9T,GAAAA,EAAAwH,YAAAxH,EAAAwH,WAAA,OAKLsM,IA/eA9T,EAifS,OAAG8T,EAEdtU,KAAAsxB,MAAA,WAAAhd,EAAA2K,IAAA,EA/eF,EAIAjf,KAkfAsxB,MAAA,WAAA,SAAArS,GAEAA,EAAAze,GAAA,IA7eMye,EAmfAze,GAAA,EAAOR,gBAjfTif,EAqfAjT,aAAgB,EAGnBhI,KAAA4P,WAAA,WAED8gB,KAAAA,MAAAA,WAAAA,CAAqBC,CACnB,EAAA,EAAI,EApfN,EAGA30B,KAsfEsxB,MAAA,QAAA,SAAAsD,EAAAC,GAEU70B,KAAGQ,GAAIK,CAAM,EAAU,OAEjCi0B,QAAOD,CAAW,CAvfpB,EAGA70B,KAAIsxB,MAwfQtoB,QAAMA,SAAM4rB,EAAA1hB,GAvftB,IAwfCoB,EAAAtU,KAAAQ,GAAAo0B,CAAA,EAAA,OAEDE,EAAO,UAASH,EAEjB,eAAAzhB,EAED7S,EAAO2I,MAAG,CAAA/F,KAAV5C,EAAOA,QAAY00B,CAAAA,CAAa,EAM9BzgB,EAAAtL,MAAAgsB,CAAA,CA1fF,EAGAh1B,KA+fEsxB,MAAAI,QAAA,WA9fA,IAggBAA,EAASuD,QA7fT,IAmgBAvD,EAASrf,IAAKxR,OAAA0R,cAAA,+BAAA,EAAA2iB,YAAA,UAAA,EAAAlkB,QAAA,OAAA,GAAA,EAAA1E,MAAA,YAAA,EAAA,EAzfd,CA6fA6oB,MAAIrmB,GAEJ,IACMqmB,UAAUC,UAASL,iCAAeM,gBACpC3D,GAAQ7uB,UAAAyyB,QAAA,wBAAAzyB,UAAAyyB,QAAA,oBAAAC,YAAAvkB,QAAA,OAAA,GAAA,EAAA1E,MAAA,YAAA,EAAA,GAEP,CAAH6oB,MAAGjiB,IAngBL,CACA,OAogBAwe,EAAS7lB,MAAA,GAAA,CAngBX,EAwgBA7L,KAAAsxB,MAAAK,MAAA,SAAAC,EAAAC,EAAAnB,EAAAE,EAAA5iB,GACA,IAAA/K,EAAAjD,KAAAsxB,MAAAU,aAAAJ,EAAAlB,EAAAE,EAAA5iB,CAAA,EAGAxJ,EAAAxE,KAAAsJ,SAAA,MAAA,CAAAoH,UAAAzN,CAAA,CAAA,EAAA2c,WAAA,GAEA4V,EAAA3D,EAAA7pB,WAQMuD,GALNsmB,EAAA7pB,WAAA8pB,aAAAttB,EAAAqtB,CAAA,EACArtB,EAAAxE,KAAAkL,SAAA2mB,EAAA7xB,KAAAkL,SAIUsqB,EAAA5V,WAAA,IAhgBR,OAJAhM,WAqgBS,WAETme,EAAQ3kB,MAAMqoB,QAAE,OArgBhB,EAsgBEC,GAAI,EAGFA,CArgBN,EAEA11B,KAwgBE01B,MAAKC,aAAY,SAAA/D,EAAAlB,EAAAE,EAAA5iB,GAtgBjB,IA0gBI4nB,EAAYD,GACd1D,EAAA,GACAC,EAAA,GA0CF,OAtCAxB,GAEA1wB,KAAIA,IAAIoN,KAAMsjB,EAAE,SAAApqB,EAAAuD,GACd+rB,GAAWtvB,EAAA,IAAAuD,EAAA,OACb,CAAA,EAvgBA+mB,EAAS5wB,KAAIwE,IAAIkG,MAAM,CA6gBzBmrB,MAAAjE,EACAkE,UAAAF,EACAG,kBAAA,SACAC,gBAAA,KACA,EAAApF,CAAA,EAGE5wB,KAAAwE,IAAAmF,KAAYinB,EAAA,SAAUtqB,EAAAuD,GACtBooB,GAAe,gBAAA3rB,EAAA,YAAAuD,EAAA,MAChB,CAAA,EAEDmE,EAAAhO,KAAAwE,IAAAkG,MAAA,CAEErH,KAASuuB,EAIThwB,MAAA,OACEC,OAAA,MAGF,EAAAmM,CAAY,EA3gBZhO,KA8gBIi2B,IAAGtsB,KAAEqE,EAAW,SAAA1H,EAAAuD,GA7gBlBqoB,GA8gBgByD,EAAAA,KAAa9rB,EAAC,IA7gBhC,CAAC,EAmeM,gDA6CPqoB,EAAA,IAAAD,EAAA,WA7gBF,EACAjyB,KA+gBIsxB,MAAK1pB,iBAAiB,CACxBsuB,WAAG,MACHC,WAAY,KA9gBd,EAEAn2B,KAghBIgM,MAAKoqB,gBAAEpqB,SAAAA,EAAAA,GACT,OAAEqmB,EAAA,IAAAC,CACJ,EA9gBAtyB,KAihBEsxB,MAAQ+E,cAAC,SAAApV,GAhhBT,IA+hBEjV,EACAsqB,EAfG/D,EAAQ7sB,CACT6wB,WAAS,GACTvqB,OAAK,EAET,EA6BD,OA3BOA,IAUP,CAAA,KAFGA,EAAOwqB,EAAAA,QAAAA,GAAAA,GAIRF,EAAc9D,EAAU,EAMR,KAFbxmB,EAAKsqB,EAAArV,EAAAwV,YAAA,GAAA,EAAA,KAIPjE,EAAY8D,EAASrV,EAAAvb,QAlhBvB6sB,EAqhBEF,WAAApR,EAAAyV,UAAA,EAAAlE,CAAA,EACFD,EAAAD,OAAArR,EAAAyV,UAAAJ,EAAArV,EAAAvb,MAAA,GAGD6sB,CACD,EAEAvyB,KAAAsxB,MAAAwB,gBAAA,SAAA6D,GACA,OAAAA,KAAA32B,KAAAsxB,MAAAmB,gBACA,EAIAzyB,KAAAsxB,MAAAsF,QAAA,oBAEA52B,KAAGsxB,MAACkC,eAAmB,SAASD,GAC9B,OAAImC,KAAOpE,MAAIsF,QAAA9pB,KAAAmU,CAAA,CArhBjB,EAMAjhB,KAwhBEsxB,MAAAqB,kBAAA,GAjhBF3yB,KA2hBEsxB,MAAOqB,kBAASrH,gBAAA,SAAA5K,GA1hBhB,OA2hBE1gB,KAAAsxB,MAAWwB,gBAAApS,EAAAzf,IAAA,GAAAjB,KAAAsxB,MAAAuF,eAAAnW,EAAAO,GAAA,EACb,QAII6V,EA3hBN,EASA92B,KAAIsxB,MA8hBMqB,kBAAkBxmB,aAAE,SAAAuU,EAAAzB,GA7hBxBgU,EA8hBEjzB,KAAAsxB,MAAA+E,cAAA3V,EAAAO,GAAA,EA5hBNhC,EA8hBE,kBAAAgU,EAAAZ,UAAA,EACFpT,EAAC,cAAAgU,EAAAX,MAAA,CA7hBH,EAGAtyB,KAAIsxB,MA+hBEyF,sBAAwB/2B,KAAAsxB,MAAAqB,iBAAA,EAxhB9B3yB,KAgiBMu2B,YAAav2B,KAAAyU,UAAA7Q,OAAA,CAGjBG,KAAA,SAAeuQ,EAAIpU,EAAAC,GAKjB,GAJA6zB,KAAGvf,UAAUhP,KAAAzB,KAAAsQ,EAAApU,EAAAC,CAAA,EAIbmU,EAAAO,SAAA,SAAA,IAAAP,EAAAO,SAAA,QAAAnP,OAiBD4O,EAAC0iB,IAAAA,EAAgBniB,SAAiBjR,OAAAA,OAhBnC,IAAA,IAAAuI,EAAA,EAAA8K,EAAA3C,EAAAO,SAAA,UAAA1I,EAAA8K,EAAAvR,OAAAyG,CAAA,GAAA,CAEA,IAAOoqB,EAAMv2B,KAAAyJ,WAAAwN,EAAA9K,EAAA,EACd8S,EAAApe,OAAA,QAAAge,GA/hBO,GAAII,GAAQA,EAAKyE,YAAY,EAAG,CAmiBxCpP,EAAAmM,SAAA5B,CAAA,EACA,KACA,CAjiBM,CAQJ,CACF,CAAC,EAMD7e,KAAIszB,cAmiBA,CAliBFzuB,SAmiBS1E,WAliBT82B,OAmiBQ3iB,SAliBR4iB,QAmiBM,SAliBR,EAOAl3B,KAAIozB,cAsiBS7e,CAriBXgb,UAsiBI,YAriBJ4H,SAsiBK,WAriBLC,aAsiBA,eACFC,SAAE,WAEFr3B,SAAIg3B,UAtiBJ,GACA,KAwOA,IAAIM,EA6kBQ5C,EAAWr0B,EA7xBvBL,KA4iBAqzB,UAAc,SAAAnzB,GA3iBZ,IA4iBAq3B,EAAAA,EAASvK,EAAczgB,EAAWwY,EAAAriB,EAAA6wB,EAAAa,EAAAoD,EAAAvD,EAAA1oB,EAxiBlC,GA4iBAksB,EA9iBAv3B,EA4iBuBA,GAAO,IAEP,OACvBw3B,MAAAA,IAAAA,MAAAA,4BAAmC,EAxiBnC,GADAtG,EA4iBAvE,KACA8K,KAAAA,OAGA,IAAApsB,KAFD6lB,EAAAtxB,SAAAC,cAAA,QAAA,EAECC,KAAAqzB,UAAApvB,UACAmtB,EAAI7lB,GAAAvL,KAAAqzB,UAAApvB,UAAAsH,GA/ZJ,GAoaFvL,EAAAA,QAAIg3B,EAAiB/yB,OA3iBnB+oB,EA6iBKhtB,KAAIszB,cAAApzB,EAAA,OAAA,WA5iBTqM,EA6iBIP,KAAKonB,cAAAlzB,EAAA,OAAA,YA5iBT6kB,EA8iBK6S,EAAc,OAAA,GA7iBnBl1B,EA+iBK4c,EAAQ,UAAApf,EAAA,SAAA,GA9iBbD,EA+iBEC,EAAA,IAAA,kBAAAF,KAAA4E,IAAA,GAGS0a,aAAX/S,GAA+B,aAAPA,IA/iBtBygB,EAgjBK,UA7iBPoE,EAAGyG,MAgjBD,GA/iBFzG,EAgjBA8C,YAAA,GAGFl0B,EAAIg3B,IAAAA,KAAAA,iBAA2Bc,EAAAA,KAAAA,EAhjB7B1D,EAijBWvzB,IAAAA,KAAO2yB,iBAAcpC,EAAA8C,WAAeloB,EA/iB/CioB,EAijBA,CAAA,EAhjBAuD,EAkjBSx3B,KAAA+K,KAAAqmB,EAAA,WAjjBPptB,KAkjBU,WACR+zB,IACAC,KAAY,QAAI,WAAS,EACzBC,EAAQ,CAAA,EAhjBZ,CAAC,EAojBU,aAAT1E,GACFnC,EAAA7c,QAAA9P,GAAA,aAAA+yB,CAAA,EAhjBAxtB,OAqjBAypB,eAAYrC,EAAA,OAAA,CApjBV6E,IAqjBA8B,WACA,OAAIC,CApjBJ,EACAtE,IAqjBA1hB,SAAA/N,SApjBF,CAAC,EAED+F,OAwjBEypB,eAAArC,EAAA,QAAA,CAvjBA6E,IAwjBA,WAvjBE,OAwjBA8B,CAvjBF,EACArE,IAwjBA1hB,SAAIgmB,SAvjBN,CAAC,EAEDhuB,OA2jBEypB,eAAcyE,EAAAA,WAAa,CA1jB3BjC,IA2jBE,WA1jBA,OA2jBEkC,CA1jBJ,EACAzE,IAAK1hB,SA6jBMlE,SA5jBb,CAAC,EAED9D,OA6jBEypB,eAAc2E,EAAAA,KAAW,CA5jBzBnC,IA6jBE,WA5jBA,OA6jBE8B,CA5jBJ,EACArE,IAAK1hB,SA6jBMhD,SA5jBb,CAAC,EAEDhF,OA6jBKypB,eAAUuE,EAAS,OAACI,CA5jBvBnC,IAAK,WACH,OA6jBAjJ,CA5jBF,EACA0G,IA6jBA,SAAIsE,GACFC,KAAAA,cAAkBrrB,KAIXkB,aA9jBPkf,EA6jBA+K,IAEF/zB,KAAAuQ,QAAA9P,GAAA,aAAA+yB,CAAA,EA3jBExzB,KA6jBA4D,QAAIowB,YAAUK,EA5jBhB,CACF,CAAC,EAEDruB,OA6jBIypB,eAAArC,EAAA,OAAA,CA5jBF6E,IA6jBA,WACF,OAAAjyB,KAAA+vB,QAKFR,EAJC,IAKD,EACAG,IAAA1hB,SAAA/N,SACA,CAAA,EA5jBE+F,OA8jBAypB,eAAArC,EAAA,aAAA,CACArtB,IAAI,WACF,IAAIiI,EAAAA,EAAKssB,EAAQtsB,EAAKgoB,EA5jBpB,GA8jBEuE,CAAAA,KAAAA,QACArzB,OAAK,KA3jBP,GA+jBsB8G,IAApBhI,KAAI8X,KAAQpW,OA/jBd,CASA,IALA8yB,EAgkBEx0B,KAAIuQ,QAAIuM,YAAgB2X,EA/jB1BtsB,EAAI,EACJusB,EAAI10B,KAkkBC,KAAGsb,OAjkBRgZ,EAmkBI,GAjkBGnsB,EAmkBDusB,EAAI1sB,CAAAA,KAlkBRgoB,EAAMhwB,KAmkBQ,KAAGmI,IACX,WAAAqsB,GAAAxE,EAAA,SAAAwE,GAEJxE,EAAA,YAAAA,EAAA,SAAAA,EAAA,WAAAwE,GAAAxE,EAAA,UAAA,IAAAwE,IACFF,EAAAvzB,KAAAivB,CAAA,EA7jBF,GAFAC,EAokBOxvB,CAAAA,EAEL6zB,EAAA5yB,SAAA1B,KAAAkwB,YAAAxuB,OACJuuB,EAAA,CAAA,OAEA,IAAA9nB,EAAA,EAAAA,EAAAmsB,EAAA5yB,OAAAyG,CAAA,GACsD,CAAA,IAA9C9L,EAAQoF,KAAGuG,KAAMkoB,YAAYloB,EAAMG,EAAA,IAC3CjM,EAAQ,CAAA,GAKR8D,KAAAkwB,YAAAoE,EACAlE,EAAAuE,SAAA30B,KAAAkwB,WAAA,CAjmBE,CAmmBF,OAAAE,CAnkBA,EACAV,IAokBE1hB,SAAS/N,SAnkBb,CAAC,EAEG/D,EAokBI+gB,IAnkBNqW,EAokBQpyB,EAAQ+b,IAAIpgB,CAAAA,EAlkBpBuwB,EAAG2C,QAokBC,CAAA,EAjkBF/zB,KAAIoN,OACN,OAqkBIgkB,CAnkBR,EAEApxB,KAskBEqzB,UAAApvB,UAAAjE,KAAAwE,IAAAH,OAAArE,KAAAmU,aAAAlQ,SAAA,EArkBFjE,KAskBEqzB,UAAApvB,UAAAG,YAAApE,KAAAqzB,UAjkBFrzB,KAAIqzB,UAukBOpvB,UAAAmQ,eAAA,CAtkBTwkB,UAukBS,WAtkBX,EAEA54B,KAAIqzB,UAykBApvB,UAAA40B,OAAA,SAAA7E,GAxkBF,IAykBA1U,EAAAtb,KAAAuQ,QAAAwW,WAAA,EAEA5e,EAAA,EAxkBA,GA2kBEmT,EA1kBA,KA2kBEnT,EAAAmT,EAAA5Z,OAAAyG,CAAA,GACFmT,EAAAnT,KAAAnI,MAEAsb,EAASnT,GAAA2sB,UAAU9sB,CAAK,EAvkB1BhI,KA4kBA6zB,MAAA9yB,KAAAivB,CAAA,EACFhwB,KAAC,KAAA20B,SAAA30B,KAAA6zB,KAAA,CA3kBD,EA8kBA73B,KAAAqzB,UAAApvB,UAAA60B,UAAA,SAAAA,GAtkBE,IAukBF,IAAA3sB,EAAA,EACAusB,EAAA10B,KAAA6zB,MAAAnyB,OAEGqzB,EAACN,CAAAA,EAEEtsB,EAAEusB,EAAAvsB,CAAA,GACJnI,KAAA6zB,MAAA1rB,KACA2sB,IACA54B,KAAAA,MAAQ8F,OAAQmG,EAAG,CAAA,EA3kBjB4sB,EA4kBQ74B,CAAAA,GAxkBR64B,GACF/0B,KA4kBCuvB,KAAAoF,SAAA30B,KAAA6zB,KAAA,CA1kBL,EAOAP,EA6kBM,SAAUhjB,EAAMtI,GA5kBpBhM,KAAI+R,IA6kBAkP,EAAOjhB,KAAEE,KAAO8D,KAAC,SAAUkP,EAAAH,EAAWimB,GA5kBxC,GA6kBE9lB,EA5kBA,OA6kBIlT,KAAEmJ,IAAAH,MAAAkK,CAAA,EAKVlH,EAAA+nB,QAAA,CAAA,EACAW,EAAAsE,EAAAhtB,CAAA,CAEFhM,CAAAA,CAAAA,CA9kBA,EAEA00B,EAAY,SAASC,EAAY3oB,GAglBjC,GAAA,YAAA,OAAAnL,OAAA,OAEA,OAAAA,OAAA+S,WAAA,WACA8gB,EAAAC,EAAA3oB,CAAA,CACA,EAAA,EAAA,EA5kBE,IA+kBAjI,EAAM,IAANA,OAAuB7D,OAAQ,OAAAW,OAAAA,OAAA,MAAAA,OAAA,OAAA,cAAA,CAAA,EA7kB/Bi0B,EAglBM9Y,MAAAA,SAAgBgY,GA/kBpBhoB,EAilBAsT,OAAS0U,CAAKzf,CAhlBhB,EACAugB,EAklBe,eAAA,SAAA9rB,GAjlBbhJ,KAklBAmJ,IAAAH,MAAAA,CAAA,CAjlBF,EAEA8rB,EAmlBE,MAAAH,CAAA,EAllBFG,EAolBEmE,MAAAA,CAnlBJ,EAEA54B,EAqlBQ,SAASoE,EAAcwwB,GAnlB7B,IAAIE,EAEJ,GAqlBA,MAAAnxB,KACA,MAAA,IAAArD,UAAA,+BAAA,EAGFX,IAAGo1B,EAAC8D,OAAAA,IAAAA,EACcltB,EAAKopB,EAAA1vB,SAAA,EAllBrB,GAolBQ,GAAR2M,EAplBA,CAslBA/M,EAAA,CAAA2vB,GAAA,EA5kBA,GAilBA3V,EAAMjN,IAFN8J,EADArN,KAAAqqB,IAAA7zB,CAAA,IAAAmK,EAAAA,EACA0M,EAEAmD,IA3kBA,IAFA6V,EAmlBArmB,KAAKsqB,IAAWjtB,GAAN7G,EAAUga,EAAAA,EAAO5Z,KAAQyG,IAAG7G,CAAE,EAAA,CAAA,EAjlBjC6vB,EAAI9iB,GAAK,CACd,GAmlBA8iB,KAAAC,GAAAA,EAAAD,KAAAJ,EACA,OAAI/oB,EAjlBJmpB,CAAC,EACH,CAnBA,CAoBA,MAmlBE,CAAA,CAllBJ,CAEC,GAolBA,EAtkBDn1B,KAolBAA,cAAIq5B,SAAep1B,GACnBjE,IACGuL,EADAmqB,EAAC2D,KAGDltB,EAACktB,EAnlBF,GAqlBAr5B,KAAIk5B,OAGJ,IAAI3tB,KAvlBFmqB,EAAO51B,SAASC,cAAc,QAAQ,EAulB/BuU,KAAQ8Y,cAAc9Y,UAC7BglB,EAAAA,GAAat5B,KAAAotB,cAAAnpB,UAAAsH,GAcjB,IA/lBE+T,EAslBOA,GAAA,GArlBPoW,EAslBEC,QAAW,GAEf3rB,OAACypB,eAAAiC,EAAA,SAAA,CArlBGO,IAAK,WAulBT,OAAAjyB,KAAA2xB,QAAAjwB,MACA,CACA,CAAA,EAEAyG,EAAAmT,EAAA5Z,OAAAyG,CAAA,GACAnM,EAAIu5B,UAAAA,EAAkBv5B,EAAAA,EAnlBpB,GAslBEA,KAAGoN,OArlBH,OAslBK+H,CAplBT,EAEAnV,KAslBAA,cAAIu5B,UAAgBt1B,KAAUiW,IAAAA,OAAUla,KAAGmU,aAAWlQ,SAAA,EArlBtDjE,KAslBAA,cAAIu5B,UAAgBt1B,YAAmBjE,KAAGotB,cAO1CptB,KAAAotB,cAAAnpB,UAAAmQ,eAAA,CACAolB,OAAA,SACAx5B,SAAIy5B,WArlBFC,YAslBA,aArlBF,GAGA,KAylBA15B,IAFA,IAAEkF,KAEEu0B,KAAAA,cAAyBvf,UAAU9F,eACvCpU,KAAIy5B,cAAex1B,UAAU2H,KAAAA,GAAY,IAplBxC,GAslBD,EAplBA5L,KAslBEotB,cAAcnpB,UAAAqpB,UAAA,SAAAthB,GArlBd,IAqlBgBA,EAAKhI,KAAA2xB,QAAAjwB,OAAE4Z,GAAAA,KAAMtb,MAE7Bsb,OAAMmU,eAAgB1I,KAAAA,EAAY,CAElCkL,IAAK3W,WACH,OAAOnD,KAAKwZ,QAAA5H,EACd,CAEA,CAAA,EAplBA/hB,EAulBImQ,iBAAenc,aAAI25B,KAAAA,KAAkB31B,KAAKuQ,WAtlB5CvQ,KAAK4D,QAulBM,QAAEoE,CAtlBf,CAAC,CAAC,EACFhI,KAulBE2xB,QAAA5wB,KAAAiH,CAAA,EArlBFhI,KAwlBA4D,QAAOuU,CACRlb,KAAA,WAEDjB,MAAIy5B,CAxlBF,CAAC,CACH,EAEAz5B,KAAIotB,cAylBOnpB,UAAAspB,aAAA,SAAAiJ,GAnlBT,IALA,IAwlBWoD,EAAAA,EACPzd,EAAAA,KAAQzW,OAKRyG,EAAKH,EAAAA,CAAAA,GAvlBP,GAwlBIA,KAAMG,KACNqqB,EAAA,CAxlBFxyB,KAylBE2xB,QAAA3vB,OAAAmG,EAAA,CAAA,EAxlBF,KACF,CAGFnI,KAAK4D,QAylBM,CAxlBT3G,KAylBI24B,cAxlBJ5tB,MAylBIwqB,CAxlBN,CAAC,CACH,EAEAx2B,KA0lBEotB,cAAWnpB,UAAS41B,aAAA,SAAA55B,GAplBpB,IALA,IAGI+L,EAulBJG,EAAI8P,EACFA,EAAIjY,KAAG0B,OACPuW,EAAK7G,KAGH6H,EAAAA,EAAQ9Q,CAAA,GAEZ,IA3lBEH,EA0lBGhI,KAAAmI,IACLlM,KAAAA,EAAA,CAEAs2B,EAAIqD,EACF,KA1lBA,CAGF,OAylBGrD,CAxlBL,EAWAv2B,KA8lBEwzB,iBAAe9tB,SAAY6tB,GA7lB3B,IA+lBAhoB,EADEmqB,EAAKve,KAIT,GAACnX,KAAAoN,OAID,IAAA7B,KAlmBImqB,EAAO51B,SAASC,cAAc,QAAQ,EAkmB1CC,KAAAwzB,iBAAAvvB,UACAyxB,EAAAnqB,GAAAvL,KAAAwzB,iBAAAvvB,UAAAsH,GAplBE,GARAvL,KAgmBEwzB,iBAAiBxnB,UAAQ9L,SAAQuF,KAAQiwB,EAAAnC,CAAA,EA9lB3CvpB,OAgmBM8W,eAAcxM,EAAOwM,SAAW,CA/lBpCmV,IAAK,WAimBL,OAAAjyB,KAAA81B,OA/lBA,CACF,CAAC,EAmmBC9tB,KAAAA,OACF,OAAA0pB,CA/lBF,EAEA11B,KAkmBEwzB,iBAAa1S,UAAY6X,SAASoB,SAAUxG,GAjmB5C,IAsmBAwD,EAJAD,EAAY9yB,KAAKgwB,QAAI+F,EACtB5tB,EAAA,EAEEusB,EAACsB,EAAAA,OAnlBF,GAbAh2B,KAAK6zB,MAAQtE,EACbvvB,KAmmBA81B,QAAAvG,EAAA7tB,OAEFqxB,EAAC,SAAA5qB,GACG,GAAAA,KAAAnI,MACHgG,OAAWypB,eAAAzvB,KAAA,GAAAmI,EAAA,CACV8pB,IAAA,WAlmBQ,OAAOjyB,KAAK6zB,MAAM1rB,EAomBtB8tB,CACFl2B,CAAAA,CAjmBF,EAEI+yB,EAomBOoD,EAlmBT,IADA/tB,EAomBI2qB,EACC3qB,EAAAusB,EAAAvsB,CAAA,GAEHnM,EAAOyF,KAAQzB,KAAEm2B,CAAAA,CAlmBvB,EAEAn6B,KAAIwzB,iBAqmBc2G,UAAaC,WAAC,SAAAn6B,GA/lB9B,IALA,IAGI+zB,EAHA7nB,EAqmBE,EApmBFusB,EAqmBE10B,KAAO0B,OApmBT6wB,EAqmBS,KAGNpqB,EAAAusB,EAAAvsB,CAAA,GAnmBL,IADA6nB,EAsmBKhwB,KAAImI,IACH1H,KAAQjE,EAAI,CAChBR,EAAOg0B,EACPh0B,KArmBF,CAGF,OAsmBIA,CArmBN,GACA,KAirBgB,SAAZq6B,EAAYC,EAAAC,GAjnBd,MAknBI,QAEH9iB,SAAA6iB,EAAA,GAAAA,EAAA,GAAA,EAAA,EAAA,IAEDt6B,SAAIi6B,EAAAA,GAAiBK,EAACr2B,GAAS,EAACi2B,EAAAA,IAC9BziB,SAAI+iB,EAAM,GAAAF,EAAA,GAAA,EAAA,EAAA,IAEVC,EAAUhmB,GAnnBd,CAqoBI,SAAA4jB,EAAA33B,EAAAsN,EAAA2sB,GAGF,IACEj6B,EAAAsN,MAAI4sB,GAAcD,CAClB,CAAA,MAAApvB,IAtnBJ,CA9EArL,KAymBIg3B,iBAAmB2D,KAAAA,UAAaC,OAAAA,CAvmBlC72B,KA2mBE82B,SAAWC,EAAAA,EAAAA,GACXzC,KAAAA,UAAayC,KAAAA,KAAAA,EAAAA,EAA0BX,CAAAA,EAEvCQ,EAAAA,GAAAA,YAAcG,KAAAA,KAAAA,KAAuBt6B,KAAG25B,aAAc,CAAA,EAOtD5D,EAAMp2B,MAAGH,KAAA+K,KAAA/G,KAAA,WAMP,IAAAmI,EAAOmT,EAAEyb,EALT,GAAAzmB,EAAA2K,MAAmB3K,EAAE0mB,KAAS,yBAC9Bh3B,KAAAuT,KAAA,OASF,IAHEjD,EAAA7P,GAAA,mBAA0BzE,KAAA+K,KAAA/G,KAAAA,KAAAwoB,aAAA,CAAA,EAE3BlN,EAAAhL,EAAAO,SAAA,QAAA,GACI/Q,EAAI,EAAIyyB,EAAAA,EAAQ7wB,OAAAyG,CAAA,GACnBH,EAAUsT,EAAMnT,GACdnI,KAAAuQ,QAAawR,mBAAM/Z,CAAA,CAEvB,CAAA,CAAA,CA3mBF,CACF,CAAC,EAEDhM,KA6mBIg3B,iBAAiB/yB,UAACg3B,cAAA,WAAEC,KAAAA,QAAWjc,MAAAjb,KAAAuQ,QAAA0K,KAAA,yBAE/Bkc,KAAAA,KAAAA,EAEAA,KAAAA,KAAAA,CA3mBJ,EAEAn7B,KA6mBIm7B,iBAAiBl3B,UAAIk2B,SAAc,WA5mBrC,OA6mBEgB,KAAAA,UAAkB36B,UAAG25B,SAAc10B,KAAAzB,KAAA,MAAA,CAEnCk3B,UAAW,wBA7mBb,CAAC,CACH,EAEAl7B,KAgnBIm7B,iBAAiBl3B,UAAIk2B,aAAc,WACpC,YAAA,OAAAt5B,OAAA,QAEDb,OAAIi6B,OAA2B,YAACmB,OAAAA,GAAAA,KAAkBjmB,GAAA,CA/mBpD,EAGA,IA4nBIkmB,EAAA,OAGAC,EAAI,CApnBN/D,UAqnBqBiD,YApnBrBe,UAqnBahrB,aApnBbirB,MAqnBW,QApnBXC,mBAqnBalrB,6CApnBbknB,eAqnBI,2BApnBJC,sBAqnBe,aACfgE,kBAAC,QAED17B,OAAsBiE,mCArnBtB4oB,OAsnBuBtY,8BArnBvBojB,UAsnBiB,wDArnBnB,EAQA33B,KAunBIg3B,iBAAiB/yB,UAAUuoB,cAAA,WAtnB7B,IA0nBExgB,EAHE0uB,EAAAA,KAAcnmB,QAAGzN,WAAeA,EAClCqF,EAAA,EAlnBF,GAunBAnI,KAAA4zB,aAASuD,EAGP7b,EAtnBF,KA2nBIqc,EAAMrc,EAAGxY,OAAO5G,CAAO,GAErB,aA5nBJ8L,EA2nBM2vB,EAAOttB,IACT,MACFrK,KAAA8zB,eAAA9rB,CAAA,CAxnBN,EAEAhM,KA6nBIg3B,iBAAO/yB,UAAA6zB,eACH,SAAA9rB,GA7nBN,GAkpBmB,YAAA,OAAAnL,OAAA,QAAAmL,EAAA,WAlpBnB,CAWA,IAPA,IA2rBiB+rB,EAeEE,EAhBA9rB,EAAA,EAEb6rB,EAAAh0B,KAAAuQ,QACE,kBAAAqnB,UAAA,EAcArI,EAAA,GAUApnB,EAAAH,EAAA,WAAAtG,OAAAyG,CAAA,GAYWonB,EAAAxuB,KAAAiH,EAAA,WAAAG,EAAA,EAYrB,IAHCtL,OAAG,OAAA,YAAAA,OAAAmL,EAAA,WAAAhI,KAAAmR,GAAA,EAEJhJ,EAAAonB,EAAA7tB,OACAyG,CAAA,IACA4rB,EAAAxE,EAAApnB,GAAA0vB,aACA7D,EAAAsC,QA9tBMvC,EAAO/oB,WAAWlB,MAAMwsB,MAAQtC,EAAUsC,OAiuBhDtC,EAAA2C,aACAxC,EAAAJ,EAAA/oB,WACA,QACAqrB,EAAArC,EAAAsC,OAAA,OACAtC,EAAA2C,WAAA,CAAA,EAEA3C,EAAA8D,kBACA/D,EAAA/oB,WAAAlB,MAAAguB,gBAAA9D,EAAA8D,iBAGI9D,EAAc+D,mBACb5D,EAAe4D,EAAI/sB,WAEjB,kBACQqrB,EAAArC,EAAA8D,iBAAA,OAEJ9D,EAAAgE,iBAAA,CAAA,EAEThE,EAAAE,cACFF,EAAA4C,cACAzC,EAAAJ,EACA,kBACAsC,EAAArC,EAAAE,YAAAF,EAAA4C,aAAA,CAAA,EAEA7C,EAAAjqB,MAAAguB,gBAAA9D,EAAAE,aAGUjhB,EAACmhB,YAEsB,eAA3BJ,EAAciE,UACVlE,EAAK/oB,WAAAlB,MAAAouB,WAAA,mDAAAb,EAAG,WAAArD,EAAAI,UAAE/pB,EAAKW,WAAalB,MAACouB,WAAA,uCAAAb,EACC,cAArBrD,EAAW3pB,UAChB0pB,EAAM/oB,WAAWlB,MAAAouB,WAAA,oDAAAb,EACQ/2B,YAAjB0F,EAAO/F,YAhuBrB8zB,EAiuBe/oB,WAAalB,MAAIouB,WAAA,qDAAAb,IA9tBhCrD,EAiuBekD,aAAM,IAAAlD,EAAAkD,cAhuBvBjD,EAiuBoBp3B,OAAOwN,WAAQ0pB,EAAAjqB,MAAAmqB,QAAA,EAhuBnCF,EAiuBgBjqB,MAAAmqB,SAAAA,EAAAD,EAAAkD,YAAA,KAhuBhBnD,EAiuBYjqB,MAAAjM,OAAA,OAhuBZk2B,EAiuBQjqB,MAAA0D,IAAA,OACJumB,EAAAjqB,MAAAquB,OAAA,OAEJnE,EAAAK,YAAA,YAAAL,EAAAK,aACmB,eAAfL,EAAUoE,WACXC,EAAAA,WAAavuB,MAAAwuB,YAAA,aAEZF,EAAOA,WAAate,MAAIua,WAAaiD,EAAAtD,EAAAK,YApyB7C,CAuEF,EAgvBAr4B,KAAA25B,kBAAA35B,KAAA6b,SAAAjY,OAAA,CAEAG,KAAA,SAAAuQ,EAAApU,GACA,IAtuBQq4B,EAyuBRrzB,EAHA8G,EAAAhI,KAAAgI,MAAA9L,EAAA,MACAof,EAAAhL,EAAAyW,WAAA,EAIM7qB,IAvuBAq4B,EAAgBv4B,KAAI+K,KAAK/G,KAAM,WAyuBnC,IACAgI,EACAG,EACAusB,EAHA5c,EAAA,YAAA9X,KAAAgI,MAAA,KAKA,GAAAhI,gBAAAhE,KAAAy4B,qBAMO,IALP3c,EAAA,CAAA,EAEIygB,EAAM,EACNC,EAAQld,EAAK5Z,OAELyG,EAACswB,EAAItwB,CAACzG,GAEhB,IADE82B,EAAcC,EAAOtwB,IACvB,OAAAnI,KAAAgI,MAAA,MAAA,YAAAA,EAAA,KAAA,CACF8P,EAAA,CAAA,EACU,KACH,CApuBD9X,KAAK8X,SAASA,CAAQ,CAyuB5B,CAAA,EACI0gB,EAAAA,iBAAqB92B,SAAY6yB,CAAA,EAEnCjkB,EAAO7P,GAAE4G,UAAEmxB,WACTE,EAAOx2B,oBAAc,SAAAqyB,CAAA,CAxuBrB,CAAC,GAIHr4B,EA0uBI,MAAA8L,EAAA,OAAAA,EAAA,UAAA,UAzuBJ9L,EA0uBgB,SAAA8L,EAAc9I,SAAW,YAAA8I,EAAA,KAzuBzChM,KAAI6b,SA0uBSpW,KAAGi3B,KAAQ95B,EAAAA,CAAa,EAQjC0c,GAAApc,KAAAA,IAAAoc,EAAAqd,UAzuBF34B,KAAKS,GAAG,CAAC,MAAO,SAAU,WA2uB1B,GAAA,WAAAjB,QAAA3C,OAAA+7B,KAAA,EAEE58B,IACAkF,EAAA,IAAArE,OAAA+7B,MAAA,QAAA,CACF,CAAA,MAAA1pB,IAGJhO,IACOA,EAAQpF,SAAC+8B,YAAc,OAAA,GACxBC,UAAiB,SAAE,CAAA,EAAA,CAAA,CAAA,EAvuBnBxd,EAAO9K,cAActP,CAAK,CA2uBlC,CAAA,CAEE0O,CACF,CAAC,EAxuBD5T,KA2uBEA,kBAAmBiE,UAAIuV,QAAA,WACxB,IAGGxN,EAHHO,EAAMvI,KAAAgI,MAAA,KACFsT,EAAKze,KAAQ0T,QAAQwW,WAAU,EAGpC5e,EAAA,EAIAnM,GAFAA,KAAA6b,SAAA5X,UAAAuV,QAAA/T,KAAAzB,IAAA,EAEI84B,EAIJ,KAAA3wB,EAAAmT,EAAA5Z,OAAAyG,CAAA,IACAH,EAAAsT,EAAAnT,IAEa,OAASrI,IAvuBdkI,IAAUhI,KAAKgI,MACjBA,EAAY,KAAI,UAEhBA,EAAY,KAAI,WAGtB,EAOAhM,KAAIy4B,qBAAuBz4B,KAAI25B,kBAAkB/1B,OAAO,CAEtDG,KAAM,SAASuQ,EAAQpU,GAGrBA,EAAe,MAAI,CACjBqM,KAAQrM,EAAc,KACtBoU,OAAUA,EACVyQ,MAAS7kB,EAAc,KAAI,OAC3B68B,QAAW,CAAA,EACX/P,KAAQ,UACV,EACAhtB,KAAI25B,kBAAkBl0B,KAAKzB,KAAMsQ,EAAQpU,CAAO,EAChD8D,KAAK8X,SAAS,CAAA,CAAI,CACpB,CACF,CAAC,EAED9b,KAAIg9B,wBAA0Bh9B,KAAI25B,kBAAkB/1B,OAAO,CACzDG,KAAM,SAASuQ,EAAQpU,GACrBA,EAAe,MAAI,CACjBqM,KAAQrM,EAAc,KACtBoU,OAAUA,EACVyQ,MAAS7kB,EAAc,KAAI,YAC3B68B,QAAW,CAAA,EACX/P,KAAM,UACR,EAEAhtB,KAAI25B,kBAAkBl0B,KAAKzB,KAAMsQ,EAAQpU,CAAO,EAChD8D,KAAK8H,SAAS,wBAAwB,CACxC,CACF,CAAC,EAED9L,KAAIg9B,wBAAwB/4B,UAAUuV,QAAU,WAC9CxV,KAAKsQ,OAAO,EAAEyB,SAAS,mBAAmB,EAAEoB,KAAK,CACnD,EAOAnX,KAAIk5B,gBAAkBl5B,KAAIgc,WAAWpY,OAAO,CAE1CG,KAAM,SAASuQ,EAAQpU,GACrB,IAAIof,EAAQ2Z,EAEZj5B,KAAIgc,WAAWvW,KAAKzB,KAAMsQ,EAAQpU,CAAO,EAEzCof,EAAStb,KAAKuQ,QAAQwW,WAAW,EAE7B/mB,KAAKmY,MAAMzW,QAAU,GACvB1B,KAAKuT,KAAK,EAGP+H,IAIL2Z,EAAgBj5B,KAAI+K,KAAK/G,KAAMA,KAAK2V,MAAM,EAC1C2F,EAAOla,iBAAiB,cAAe6zB,CAAa,EACpD3Z,EAAOla,iBAAiB,WAAY6zB,CAAa,EAEjDj1B,KAAKuQ,QAAQ9P,GAAG,UAAW,WACzB6a,EAAOpZ,oBAAoB,cAAe+yB,CAAa,EACvD3Z,EAAOpZ,oBAAoB,WAAY+yB,CAAa,CACtD,CAAC,EACH,CACF,CAAC,EAGDj5B,KAAIk5B,gBAAgBj1B,UAAUiZ,YAAc,WAC1C,IAAgBlR,EAAOsT,EAAnBnD,EAAQ,GAWZ,GATInY,EAAAA,gBAAgBhE,KAAIq5B,iBAAoBr1B,KAAKsQ,OAAO,EAAE2K,MAAQjb,KAAKsQ,OAAO,EAAE2K,KAA+B,0BAC7G9C,EAAMpX,KAAK,IAAI/E,KAAIg9B,wBAAwBh5B,KAAKuQ,QAAS,CAAEhI,KAAQvI,KAAKi5B,KAAM,CAAC,CAAC,EAIlF9gB,EAAMpX,KAAK,IAAI/E,KAAIy4B,qBAAqBz0B,KAAKuQ,QAAS,CAAEhI,KAAQvI,KAAKi5B,KAAM,CAAC,CAAC,EAE7E3d,EAAStb,KAAKuQ,QAAQwW,WAAW,EAMjC,IAAK,IAAI5e,EAAI,EAAGA,EAAImT,EAAO5Z,OAAQyG,CAAC,IAClCH,EAAQsT,EAAOnT,IAGC,OAAMnI,KAAKi5B,OACzB9gB,EAAMpX,KAAK,IAAI/E,KAAI25B,kBAAkB31B,KAAKuQ,QAAS,CACjDvI,MAASA,CACX,CAAC,CAAC,EAIN,OAAOmQ,CACT,EAOAnc,KAAIq5B,eAAiBr5B,KAAIk5B,gBAAgBt1B,OAAO,CAE9CG,KAAM,SAASuQ,EAAQpU,EAASC,GAC9BH,KAAIk5B,gBAAgBzzB,KAAKzB,KAAMsQ,EAAQpU,EAASC,CAAK,EACrD6D,KAAKmR,IAAIrL,aAAa,aAAa,eAAe,CACpD,CACF,CAAC,EACD9J,KAAIq5B,eAAep1B,UAAUg5B,MAAQ,WACrCj9B,KAAIq5B,eAAep1B,UAAUiW,WAAa,WAC1Cla,KAAIq5B,eAAep1B,UAAU2H,UAAY,sBAEzC5L,KAAIq5B,eAAep1B,UAAU0V,OAAS,WACpC,IAAI2f,EAAY,EAChBt5B,KAAIk5B,gBAAgBj1B,UAAU0V,OAAOlU,KAAKzB,IAAI,EAG1CA,KAAKsQ,OAAO,EAAE2K,MAAQjb,KAAKsQ,OAAO,EAAE2K,KAA+B,2BACrEqa,EAAY,GAGVt1B,KAAKmY,OAASnY,KAAKmY,MAAMzW,OAAS4zB,EACpCt1B,KAAKmT,KAAK,EAEVnT,KAAKuT,KAAK,CAEd,EAOAvX,KAAIu5B,gBAAkBv5B,KAAIk5B,gBAAgBt1B,OAAO,CAE/CG,KAAM,SAASuQ,EAAQpU,EAASC,GAC9BH,KAAIk5B,gBAAgBzzB,KAAKzB,KAAMsQ,EAAQpU,EAASC,CAAK,EACrD6D,KAAKmR,IAAIrL,aAAa,aAAa,gBAAgB,CACrD,CACF,CAAC,EACD9J,KAAIu5B,gBAAgBt1B,UAAUg5B,MAAQ,YACtCj9B,KAAIu5B,gBAAgBt1B,UAAUiW,WAAa,YAC3Cla,KAAIu5B,gBAAgBt1B,UAAU2H,UAAY,uBAS1C5L,KAAIy5B,eAAiBz5B,KAAIk5B,gBAAgBt1B,OAAO,CAE9CG,KAAM,SAASuQ,EAAQpU,EAASC,GAC9BH,KAAIk5B,gBAAgBzzB,KAAKzB,KAAMsQ,EAAQpU,EAASC,CAAK,EACrD6D,KAAKmR,IAAIrL,aAAa,aAAa,eAAe,CACpD,CACF,CAAC,EACD9J,KAAIy5B,eAAex1B,UAAUg5B,MAAQ,WACrCj9B,KAAIy5B,eAAex1B,UAAUiW,WAAa,WAC1Cla,KAAIy5B,eAAex1B,UAAU2H,UAAY,sBAGzC5L,KAAIy5B,eAAex1B,UAAUiZ,YAAc,WACzC,IAAgBlR,EAAZmQ,EAAQ,GAEZmD,EAAStb,KAAKuQ,QAAQwW,WAAW,EAEjC,GAAKzL,EAIL,IAAK,IAAInT,EAAI,EAAGA,EAAImT,EAAO5Z,OAAQyG,CAAC,IAClCH,EAAQsT,EAAOnT,IACC,OAAMnI,KAAKi5B,OACzB9gB,EAAMpX,KAAK,IAAI/E,KAAI25B,kBAAkB31B,KAAKuQ,QAAS,CACjDvI,MAASA,CACX,CAAC,CAAC,EAIN,OAAOmQ,CACT,EAEAnc,KAAIy5B,eAAex1B,UAAU2Y,WAAa,WAOxC,IANA,IAGI5Q,EAAO4tB,EAHPta,EAAStb,KAAKuQ,QAAQwW,WAAW,GAAK,GACtC5e,EAAI,EACJusB,EAAIpZ,EAAO5Z,OAEXyW,EAAQnY,KAAKmY,MAAQ,GAElBhQ,EAAIusB,EAAGvsB,CAAC,GAEb,IADAH,EAAQsT,EAAOnT,IACC,MAAKnI,KAAKi5B,MAAO,CAC/B,GAAKjxB,EAAMunB,KAQJ,CACLqG,EAAgB5tB,EAChB,KACF,CAVEA,EAAY,KAAI,SAGhBnL,OAAO+S,WAAW5T,KAAI+K,KAAK/G,KAAM,WAC/BA,KAAK4Y,WAAW,CAClB,CAAC,EAAG,GAAG,CAMX,CAGF,IAAIX,EAAOjY,KAAKiY,KAUhB,GATa/Y,KAAAA,IAAT+Y,IACFA,EAAO,IAAIjc,KAAI0b,KAAK1X,KAAKuQ,OAAO,GAC3Ba,UAAU,EAAElJ,YAAYlM,KAAIsJ,SAAS,KAAM,CAC9CsC,UAAW,iBACX8E,UAAW1Q,KAAIyJ,WAAWzF,KAAKi5B,KAAK,EACpChgB,SAAU,CAAC,CACb,CAAC,CAAC,EAGA2c,EAAe,CAKjB,IAJA,IAAuCsD,EAAnC3J,EAAOqG,EAAoB,KAC/BztB,EAAI,EACJusB,EAAInF,EAAK7tB,OAEFyG,EAAIusB,EAAGvsB,CAAC,GACb6nB,EAAMT,EAAKpnB,GAEX+wB,EAAK,IAAIl9B,KAAIg6B,sBAAsBh2B,KAAKuQ,QAAS,CAC/CvI,MAAS4tB,EACT5F,IAAOA,CACT,CAAC,EAED7X,EAAMpX,KAAKm4B,CAAE,EAEbjhB,EAAKvG,SAASwnB,CAAE,EAElBl5B,KAAK0R,SAASuG,CAAI,CACpB,CAMA,OAJwB,EAApBjY,KAAKmY,MAAMzW,QACb1B,KAAKmT,KAAK,EAGL8E,CACT,EAMAjc,KAAIg6B,sBAAwBh6B,KAAI6b,SAASjY,OAAO,CAE9CG,KAAM,SAASuQ,EAAQpU,GACrB,IAAI8L,EAAQhI,KAAKgI,MAAQ9L,EAAe,MACpC8zB,EAAMhwB,KAAKgwB,IAAM9zB,EAAa,IAC9B4gB,EAAcxM,EAAOwM,YAAY,EAGrC5gB,EAAe,MAAI8zB,EAAIoI,KACvBl8B,EAAkB,SAAK8zB,EAAe,WAAKlT,GAAeA,EAAckT,EAAa,QACrFh0B,KAAI6b,SAASpW,KAAKzB,KAAMsQ,EAAQpU,CAAO,EAEvC8L,EAAM5G,iBAAiB,YAAapF,KAAI+K,KAAK/G,KAAMA,KAAK2V,MAAM,CAAC,CACjE,CACF,CAAC,EAED3Z,KAAIg6B,sBAAsB/1B,UAAUuV,QAAU,WAC5CxZ,KAAI6b,SAAS5X,UAAUuV,QAAQ/T,KAAKzB,IAAI,EACxCA,KAAKuQ,QAAQuM,YAAY9c,KAAKgwB,IAAI+F,SAAS,EAC3C/1B,KAAK2V,OAAO3V,KAAKgwB,IAAI+F,SAAS,CAChC,EAEA/5B,KAAIg6B,sBAAsB/1B,UAAU0V,OAAS,WAC3C,IAAIqa,EAAMhwB,KAAKgwB,IACXlT,EAAc9c,KAAKuQ,QAAQuM,YAAY,EAG3C9c,KAAK8X,SAASkY,EAAe,WAAKlT,GAAeA,EAAckT,EAAa,OAAC,CAC/E,CACC,GAAE,GACH,KA2IE,SAAS8G,EAAuBh0B,GAC9B,IAAI4zB,EAQJ,OANI5zB,EAAOq2B,gBACTzC,EAAiB5zB,EAAOq2B,gBAAgB,GAC/Br2B,EAAO5G,UAChBw6B,EAAiB5zB,EAAO5G,QAAQ4G,EAAO5G,QAAQk9B,gBAG1C1C,EAAersB,KACxB,CAEA,SAAS8sB,EAAkBr0B,EAAQuH,GACjC,IAAIlC,EAEJ,GAAKkC,EAAL,CAIA,IAAKlC,EAAI,EAAGA,EAAIrF,EAAO5G,QAAQwF,QACpBoB,EAAO5G,QAAQiM,GACbkC,QAAUA,EAFgBlC,CAAC,IAOxCrF,EAAOs2B,cAAgBjxB,CATvB,CAUF,CAnKAnM,KAAIi6B,kBAAoBj6B,KAAIyU,UAAU7Q,OAAO,CAC3CG,KAAM,SAASuQ,EAAQpU,GACrBF,KAAIyU,UAAUhP,KAAKzB,KAAMsQ,EAAQpU,CAAO,EACxC8D,KAAKuT,KAAK,EAEVvX,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,kBAAkB,EAAG,QAASn6B,KAAI+K,KAAK/G,KAAM,WAC1EA,KAAKk2B,aAAa,EAClBl2B,KAAKuT,KAAK,CACZ,CAAC,CAAC,EAEFvX,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,qBAAqB,EAAG,QAASn6B,KAAI+K,KAAK/G,KAAM,WAC7EA,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAEiD,cAAgB,EAClEp5B,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAEiD,cAAgB,EAClEp5B,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAEiD,cAAgB,EAClEp5B,KAAKxD,GAAG,EAAE25B,cAAc,4BAA4B,EAAEiD,cAAgB,EACtEp5B,KAAKxD,GAAG,EAAE25B,cAAc,0BAA0B,EAAEiD,cAAgB,EACpEp5B,KAAKxD,GAAG,EAAE25B,cAAc,8BAA8B,EAAEiD,cAAgB,EACxEp5B,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAEiD,cAAgB,EAClEp5B,KAAKxD,GAAG,EAAE25B,cAAc,yBAAyB,EAAEiD,cAAgB,EACnEp5B,KAAKxD,GAAG,EAAE25B,cAAc,0BAA0B,EAAEiD,cAAgB,EACpEp5B,KAAKwoB,cAAc,CACrB,CAAC,CAAC,EAEFxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EACtGxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EACtGxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EACtGxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,4BAA4B,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EAC1GxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,0BAA0B,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EACxGxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,8BAA8B,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EAC5GxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,0BAA0B,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EACxGxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,wBAAwB,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EACtGxsB,KAAIyE,GAAGT,KAAKxD,GAAG,EAAE25B,cAAc,yBAAyB,EAAG,SAAUn6B,KAAI+K,KAAK/G,KAAMA,KAAKwoB,aAAa,CAAC,EAEnGlY,EAAOpU,QAAQ,EAA4B,0BAC7C8D,KAAKo3B,gBAAgB,CAEzB,CACF,CAAC,EAEDp7B,KAAIi6B,kBAAkBh2B,UAAUqF,SAAW,WACzC,OAAOtJ,KAAIyU,UAAUxQ,UAAUqF,SAAS7D,KAAKzB,KAAM,MAAO,CACxD4H,UAAW,yCACX8E,UA4HK,yyGA3HP,CAAC,CACH,EAEA1Q,KAAIi6B,kBAAkBh2B,UAAU23B,UAAY,WAC1C,IAA4G93B,EAE5GtD,EAAKwD,KAAKxD,GAAG,EAEbq6B,EAAWC,EAAuBt6B,EAAG25B,cAAc,wBAAwB,CAAC,EAC5E9B,EAAayC,EAAuBt6B,EAAG25B,cAAc,yBAAyB,CAAC,EAC/EY,EAAUD,EAAuBt6B,EAAG25B,cAAc,wBAAwB,CAAC,EAC3EQ,EAAcG,EAAuBt6B,EAAG25B,cAAc,4BAA4B,CAAC,EACnFkD,EAAUvC,EAAuBt6B,EAAG25B,cAAc,wBAAwB,CAAC,EAC3Ea,EAAYF,EAAuBt6B,EAAG25B,cAAc,0BAA0B,CAAC,EAC/EjC,EAAc4C,EAAuBt6B,EAAG25B,cAAc,wBAAwB,CAAC,EAI/E5D,EAAS,CACPyF,kBAAqBhB,EACrBL,YAAeA,EACfC,cANcE,EAAuBt6B,EAAG25B,cAAc,8BAA8B,CAAC,EAOrF/B,UAAayC,EACbxC,WAAcA,EACdiC,MAASS,EACTe,gBAAmBuB,EACnBnF,YAAeA,EACfgD,YAXYr6B,OAAmB,WAAEi6B,EAAuBt6B,EAAG25B,cAAc,4BAA4B,CAAC,CAAC,CAYzG,EACA,IAAKr2B,KAAQyyB,GACU,KAAjBA,EAAOzyB,IAAiC,SAAjByyB,EAAOzyB,IAA8B,gBAATA,GAA2C,IAAjByyB,EAAOzyB,KACtF,OAAOyyB,EAAOzyB,GAGlB,OAAOyyB,CACT,EAEAv2B,KAAIi6B,kBAAkBh2B,UAAUq5B,UAAY,SAAS9C,GACnD,IAAIh6B,EAAKwD,KAAKxD,GAAG,EAEjB26B,EAAkB36B,EAAG25B,cAAc,wBAAwB,EAAGK,EAAOpC,SAAS,EAC9E+C,EAAkB36B,EAAG25B,cAAc,yBAAyB,EAAGK,EAAOnC,UAAU,EAChF8C,EAAkB36B,EAAG25B,cAAc,wBAAwB,EAAGK,EAAOF,KAAK,EAC1Ea,EAAkB36B,EAAG25B,cAAc,4BAA4B,EAAGK,EAAOG,WAAW,EACpFQ,EAAkB36B,EAAG25B,cAAc,wBAAwB,EAAGK,EAAOsB,eAAe,EACpFX,EAAkB36B,EAAG25B,cAAc,0BAA0B,EAAGK,EAAOwB,iBAAiB,EACxFb,EAAkB36B,EAAG25B,cAAc,wBAAwB,EAAGK,EAAOtC,WAAW,EAChFiD,EAAkB36B,EAAG25B,cAAc,8BAA8B,EAAGK,EAAOI,aAAa,EAIpFM,GAFJA,EAAcV,EAAOU,cAGLA,EAAYqC,QAAQ,CAAC,EAGrCpC,EAAkB36B,EAAG25B,cAAc,4BAA4B,EAAGe,CAAW,CAC/E,EAEAl7B,KAAIi6B,kBAAkBh2B,UAAUm3B,gBAAkB,WAChD,IAAIZ,EACJ,IACEA,EAASuB,KAAKtc,MAAM5e,OAAO0P,aAAaitB,QAAQ,yBAAyB,CAAC,CAC/D,CAAX,MAAOnyB,IAELmvB,GACFx2B,KAAKs5B,UAAU9C,CAAM,CAEzB,EAEAx6B,KAAIi6B,kBAAkBh2B,UAAUi2B,aAAe,WAC7C,IAAIM,EAEJ,GAAKx2B,KAAKuQ,QAAQrU,QAAQ,EAA4B,yBAAtD,CAIAs6B,EAASx2B,KAAK43B,UAAU,EACxB,IACO57B,KAAIiG,QAAQu0B,CAAM,EAGrB35B,OAAO0P,aAAaktB,WAAW,yBAAyB,EAFxD58B,OAAO0P,aAAamtB,QAAQ,0BAA2B3B,KAAK4B,UAAUnD,CAAM,CAAC,CAIpE,CAAX,MAAOnvB,IATT,CAUF,EAEArL,KAAIi6B,kBAAkBh2B,UAAUuoB,cAAgB,WAC9C,IAAIoR,EAAY55B,KAAKuQ,QAAQwB,SAAS,kBAAkB,EACpD6nB,GACFA,EAAUpR,cAAc,CAE5B,CAkJD,GAAE,EAgBHxsB,KAAI+7B,KAEuB,KAAA,IAAhBl7B,OAAOk7B,MAAqD,YAA7B,OAAOl7B,OAAOk7B,KAAKtc,MAC3Dzf,KAAI+7B,KAAOl7B,OAAOk7B,MAGlB/7B,KAAI+7B,KAAO,GAEPje,GAAK,2GAUT9d,KAAI+7B,KAAKtc,MAAQ,SAAU2c,KAAMyB,SAC7B,IAAI5mB,EAEJ,SAAS6mB,KAAK7B,EAAQ31B,GAClB,IAAI6uB,EAAG4I,EAAG1vB,EAAQ4tB,EAAO31B,GACzB,GAAI+H,GAA0B,WAAjB7K,QAAO6K,CAAK,EACrB,IAAK8mB,KAAK9mB,EACFrE,OAAO/F,UAAUK,eAAemB,KAAK4I,EAAO8mB,CAAC,IAEnCjyB,KAAAA,KADV66B,EAAID,KAAKzvB,EAAO8mB,CAAC,GAEb9mB,EAAM8mB,GAAK4I,EAEX,OAAO1vB,EAAM8mB,IAK7B,OAAO0I,QAAQp4B,KAAKw2B,EAAQ31B,EAAK+H,CAAK,CAC1C,CAUA,GATA+tB,KAAO4B,OAAO5B,IAAI,EAClBte,GAAGue,UAAY,EACXve,GAAGhR,KAAKsvB,IAAI,IACZA,KAAOA,KAAKprB,QAAQ8M,GAAI,SAAUlN,GAC9B,MAAO,OACF,OAASA,EAAEqtB,WAAW,CAAC,EAAEtzB,SAAS,EAAE,GAAGrK,MAAM,CAAC,CAAC,CACxD,CAAC,GAGD,gBACKwM,KAAKsvB,KAAKprB,QAAQ,sCAAuC,GAAG,EACxDA,QAAQ,mEAAoE,GAAG,EAC/EA,QAAQ,uBAAwB,EAAE,CAAC,EAI5C,OAFAiG,EAAIinB,KAAK,IAAM9B,KAAO,GAAG,EAEC,YAAnB,OAAOyB,QACVC,KAAK,CAACK,GAAIlnB,CAAC,EAAG,EAAE,EAAIA,EAG5B,MAAM,IAAImnB,YAAY,8CAA8C,CACxE,GAQFp+B,KAAIq+B,UAAY,WACd,IAAa3B,EAAiBvwB,EAAGd,EAS7BoxB,EAAO38B,SAAS6C,qBAAqB,OAAO,EAC5C45B,EAASz8B,SAAS6C,qBAAqB,OAAO,EAC9C65B,EAAW,GACf,GAAIC,GAAsB,EAAdA,EAAK/2B,OACf,IAAIyG,EAAE,EAAGd,EAAEoxB,EAAK/2B,OAAQyG,EAAEd,EAAGc,CAAC,GAC5BqwB,EAASz3B,KAAK03B,EAAKtwB,EAAE,EAGzB,GAAIowB,GAA0B,EAAhBA,EAAO72B,OACnB,IAAIyG,EAAE,EAAGd,EAAEkxB,EAAO72B,OAAQyG,EAAEd,EAAGc,CAAC,GAC9BqwB,EAASz3B,KAAKw3B,EAAOpwB,EAAE,EAK3B,GAAIqwB,GAA8B,EAAlBA,EAAS92B,OAEvB,IAAKyG,EAAE,EAAEd,EAAEmxB,EAAS92B,OAAQyG,EAAEd,EAAGc,CAAC,GAAI,CAKpC,GAAIuwB,EAJJA,EAAUF,EAASrwB,KAIJuwB,CAAAA,EAAQ95B,aAehB,CACL5C,KAAI88B,iBAAiB,CAAC,EACtB,KACF,CAf4B55B,KAAAA,IAAtBw5B,EAAgB,QAKF,OAJNA,EAAQ95B,aAAa,YAAY,GAMhChC,QAAQ87B,CAAO,CAShC,MAGU18B,KAAI68B,cACd78B,KAAI88B,iBAAiB,CAAC,CAE1B,EAGA98B,KAAI88B,iBAAmB,SAASwB,GAC9B1qB,WAAW5T,KAAIq+B,UAAWC,CAAI,CAChC,EAE4B,aAAxBx+B,SAASqT,WACXnT,KAAI68B,aAAe,CAAA,EAEnB78B,KAAIsI,IAAIzH,OAAQ,OAAQ,WACtBb,KAAI68B,aAAe,CAAA,CACrB,CAAC,EAKH78B,KAAI88B,iBAAiB,CAAC,EAOtB98B,KAAIu+B,OAAS,SAASz6B,EAAMC,GAC1B/D,KAAIU,OAAOuD,UAAUH,GAAQC,CAC/B","file":"video.novtt.dev.min.js","sourcesContent":["/**\n * @fileoverview Main function src.\n */\n\n// HTML5 Shiv. Must be in <head> to support older browsers.\ndocument.createElement('video');\ndocument.createElement('audio');\ndocument.createElement('track');\n\n/**\n * Doubles as the main function for users to create a player instance and also\n * the main library object.\n *\n * **ALIASES** videojs, _V_ (deprecated)\n *\n * The `vjs` function can be used to initialize or retrieve a player.\n *\n *     var myPlayer = vjs('my_video_id');\n *\n * @param  {String|Element} id      Video element or video element ID\n * @param  {Object=} options        Optional options object for config/settings\n * @param  {Function=} ready        Optional ready callback\n * @return {vjs.Player}             A player instance\n * @namespace\n */\nvar vjs = function(id, options, ready){\n  var tag; // Element of ID\n\n  // Allow for element or ID to be passed in\n  // String ID\n  if (typeof id === 'string') {\n\n    // Adjust for jQuery ID syntax\n    if (id.indexOf('#') === 0) {\n      id = id.slice(1);\n    }\n\n    // If a player instance has already been created for this ID return it.\n    if (vjs.players[id]) {\n\n      // If options or ready funtion are passed, warn\n      if (options) {\n        vjs.log.warn ('Player \"' + id + '\" is already initialised. Options will not be applied.');\n      }\n\n      if (ready) {\n        vjs.players[id].ready(ready);\n      }\n\n      return vjs.players[id];\n\n    // Otherwise get element for ID\n    } else {\n      tag = vjs.el(id);\n    }\n\n  // ID is a media element\n  } else {\n    tag = id;\n  }\n\n  // Check for a useable element\n  if (!tag || !tag.nodeName) { // re: nodeName, could be a box div also\n    throw new TypeError('The element or ID supplied is not valid. (videojs)'); // Returns\n  }\n\n  // Element may have a player attr referring to an already created player instance.\n  // If not, set up a new player and return the instance.\n  return tag['player'] || new vjs.Player(tag, options, ready);\n};\n\n// Extended name, also available externally, window.videojs\nvar videojs = window['videojs'] = vjs;\n\n// CDN Version. Used to target right flash swf.\nvjs.CDN_VERSION = '4.12';\nvjs.ACCESS_PROTOCOL = ('https:' == document.location.protocol ? 'https://' : 'http://');\n\n/**\n* Full player version\n* @type {string}\n*/\nvjs['VERSION'] = '4.12.11';\n\n/**\n * Global Player instance options, surfaced from vjs.Player.prototype.options_\n * vjs.options = vjs.Player.prototype.options_\n * All options should use string keys so they avoid\n * renaming by closure compiler\n * @type {Object}\n */\nvjs.options = {\n  // Default order of fallback technology\n  'techOrder': ['html5','flash'],\n  // techOrder: ['flash','html5'],\n\n  'html5': {},\n  'flash': {},\n\n  // Default of web browser is 300x150. Should rely on source width/height.\n  'width': 300,\n  'height': 150,\n  // defaultVolume: 0.85,\n  'defaultVolume': 0.00, // The freakin seaguls are driving me crazy!\n\n  // default playback rates\n  'playbackRates': [],\n  // Add playback rate selection by adding rates\n  // 'playbackRates': [0.5, 1, 1.5, 2],\n\n  // default inactivity timeout\n  'inactivityTimeout': 2000,\n\n  // Included control sets\n  'children': {\n    'mediaLoader': {},\n    'posterImage': {},\n    'loadingSpinner': {},\n    'textTrackDisplay': {},\n    'bigPlayButton': {},\n    'controlBar': {},\n    'errorDisplay': {},\n    'textTrackSettings': {}\n  },\n\n  'language': document.getElementsByTagName('html')[0].getAttribute('lang') || navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language || 'en',\n\n  // locales and their language translations\n  'languages': {},\n\n  // Default message to show when a video cannot be played.\n  'notSupportedMessage': 'No compatible source was found for this video.'\n};\n\n// Set CDN Version of swf\n// The added (+) blocks the replace from changing this 4.12 string\nif (vjs.CDN_VERSION !== 'GENERATED'+'_CDN_VSN') {\n  videojs.options['flash']['swf'] = vjs.ACCESS_PROTOCOL + 'vjs.zencdn.net/'+vjs.CDN_VERSION+'/video-js.swf';\n}\n\n/**\n * Utility function for adding languages to the default options. Useful for\n * amending multiple language support at runtime.\n *\n * Example: vjs.addLanguage('es', {'Hello':'Hola'});\n *\n * @param  {String} code The language code or dictionary property\n * @param  {Object} data The data values to be translated\n * @return {Object} The resulting global languages dictionary object\n */\nvjs.addLanguage = function(code, data){\n  if(vjs.options['languages'][code] !== undefined) {\n    vjs.options['languages'][code] = vjs.util.mergeOptions(vjs.options['languages'][code], data);\n  } else {\n    vjs.options['languages'][code] = data;\n  }\n  return vjs.options['languages'];\n};\n\n/**\n * Global player list\n * @type {Object}\n */\nvjs.players = {};\n\n/*!\n * Custom Universal Module Definition (UMD)\n *\n * Video.js will never be a non-browser lib so we can simplify UMD a bunch and\n * still support requirejs and browserify. This also needs to be closure\n * compiler compatible, so string keys are used.\n */\nif (typeof define === 'function' && define['amd']) {\n  define('videojs', [], function(){ return videojs; });\n\n// checking that module is an object too because of umdjs/umd#35\n} else if (typeof exports === 'object' && typeof module === 'object') {\n  module['exports'] = videojs;\n}\n/**\n * Core Object/Class for objects that use inheritance + constructors\n *\n * To create a class that can be subclassed itself, extend the CoreObject class.\n *\n *     var Animal = CoreObject.extend();\n *     var Horse = Animal.extend();\n *\n * The constructor can be defined through the init property of an object argument.\n *\n *     var Animal = CoreObject.extend({\n *       init: function(name, sound){\n *         this.name = name;\n *       }\n *     });\n *\n * Other methods and properties can be added the same way, or directly to the\n * prototype.\n *\n *    var Animal = CoreObject.extend({\n *       init: function(name){\n *         this.name = name;\n *       },\n *       getName: function(){\n *         return this.name;\n *       },\n *       sound: '...'\n *    });\n *\n *    Animal.prototype.makeSound = function(){\n *      alert(this.sound);\n *    };\n *\n * To create an instance of a class, use the create method.\n *\n *    var fluffy = Animal.create('Fluffy');\n *    fluffy.getName(); // -> Fluffy\n *\n * Methods and properties can be overridden in subclasses.\n *\n *     var Horse = Animal.extend({\n *       sound: 'Neighhhhh!'\n *     });\n *\n *     var horsey = Horse.create('Horsey');\n *     horsey.getName(); // -> Horsey\n *     horsey.makeSound(); // -> Alert: Neighhhhh!\n *\n * @class\n * @constructor\n */\nvjs.CoreObject = vjs['CoreObject'] = function(){};\n// Manually exporting vjs['CoreObject'] here for Closure Compiler\n// because of the use of the extend/create class methods\n// If we didn't do this, those functions would get flattened to something like\n// `a = ...` and `this.prototype` would refer to the global object instead of\n// CoreObject\n\n/**\n * Create a new object that inherits from this Object\n *\n *     var Animal = CoreObject.extend();\n *     var Horse = Animal.extend();\n *\n * @param {Object} props Functions and properties to be applied to the\n *                       new object's prototype\n * @return {vjs.CoreObject} An object that inherits from CoreObject\n * @this {*}\n */\nvjs.CoreObject.extend = function(props){\n  var init, subObj;\n\n  props = props || {};\n  // Set up the constructor using the supplied init method\n  // or using the init of the parent object\n  // Make sure to check the unobfuscated version for external libs\n  init = props['init'] || props.init || this.prototype['init'] || this.prototype.init || function(){};\n  // In Resig's simple class inheritance (previously used) the constructor\n  //  is a function that calls `this.init.apply(arguments)`\n  // However that would prevent us from using `ParentObject.call(this);`\n  //  in a Child constructor because the `this` in `this.init`\n  //  would still refer to the Child and cause an infinite loop.\n  // We would instead have to do\n  //    `ParentObject.prototype.init.apply(this, arguments);`\n  //  Bleh. We're not creating a _super() function, so it's good to keep\n  //  the parent constructor reference simple.\n  subObj = function(){\n    init.apply(this, arguments);\n  };\n\n  // Inherit from this object's prototype\n  subObj.prototype = vjs.obj.create(this.prototype);\n  // Reset the constructor property for subObj otherwise\n  // instances of subObj would have the constructor of the parent Object\n  subObj.prototype.constructor = subObj;\n\n  // Make the class extendable\n  subObj.extend = vjs.CoreObject.extend;\n  // Make a function for creating instances\n  subObj.create = vjs.CoreObject.create;\n\n  // Extend subObj's prototype with functions and other properties from props\n  for (var name in props) {\n    if (props.hasOwnProperty(name)) {\n      subObj.prototype[name] = props[name];\n    }\n  }\n\n  return subObj;\n};\n\n/**\n * Create a new instance of this Object class\n *\n *     var myAnimal = Animal.create();\n *\n * @return {vjs.CoreObject} An instance of a CoreObject subclass\n * @this {*}\n */\nvjs.CoreObject.create = function(){\n  // Create a new object that inherits from this object's prototype\n  var inst = vjs.obj.create(this.prototype);\n\n  // Apply this constructor function to the new object\n  this.apply(inst, arguments);\n\n  // Return the new object\n  return inst;\n};\n/**\n * @fileoverview Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n * robust as jquery's, so there's probably some differences.\n */\n\n/**\n * Add an event listener to element\n * It stores the handler function in a separate cache object\n * and adds a generic handler to the element's event,\n * along with a unique id (guid) to the element.\n * @param  {Element|Object}   elem Element or object to bind listeners to\n * @param  {String|Array}   type Type of event to bind to.\n * @param  {Function} fn   Event listener.\n * @private\n */\nvjs.on = function(elem, type, fn){\n  if (vjs.obj.isArray(type)) {\n    return _handleMultipleEvents(vjs.on, elem, type, fn);\n  }\n\n  var data = vjs.getData(elem);\n\n  // We need a place to store all our handler data\n  if (!data.handlers) data.handlers = {};\n\n  if (!data.handlers[type]) data.handlers[type] = [];\n\n  if (!fn.guid) fn.guid = vjs.guid++;\n\n  data.handlers[type].push(fn);\n\n  if (!data.dispatcher) {\n    data.disabled = false;\n\n    data.dispatcher = function (event){\n\n      if (data.disabled) return;\n      event = vjs.fixEvent(event);\n\n      var handlers = data.handlers[event.type];\n\n      if (handlers) {\n        // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n        var handlersCopy = handlers.slice(0);\n\n        for (var m = 0, n = handlersCopy.length; m < n; m++) {\n          if (event.isImmediatePropagationStopped()) {\n            break;\n          } else {\n            handlersCopy[m].call(elem, event);\n          }\n        }\n      }\n    };\n  }\n\n  if (data.handlers[type].length == 1) {\n    if (elem.addEventListener) {\n      elem.addEventListener(type, data.dispatcher, false);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + type, data.dispatcher);\n    }\n  }\n};\n\n/**\n * Removes event listeners from an element\n * @param  {Element|Object}   elem Object to remove listeners from\n * @param  {String|Array=}   type Type of listener to remove. Don't include to remove all events from element.\n * @param  {Function} fn   Specific listener to remove. Don't include to remove listeners for an event type.\n * @private\n */\nvjs.off = function(elem, type, fn) {\n  // Don't want to add a cache object through getData if not needed\n  if (!vjs.hasData(elem)) return;\n\n  var data = vjs.getData(elem);\n\n  // If no events exist, nothing to unbind\n  if (!data.handlers) { return; }\n\n  if (vjs.obj.isArray(type)) {\n    return _handleMultipleEvents(vjs.off, elem, type, fn);\n  }\n\n  // Utility function\n  var removeType = function(t){\n     data.handlers[t] = [];\n     vjs.cleanUpEvents(elem,t);\n  };\n\n  // Are we removing all bound events?\n  if (!type) {\n    for (var t in data.handlers) removeType(t);\n    return;\n  }\n\n  var handlers = data.handlers[type];\n\n  // If no handlers exist, nothing to unbind\n  if (!handlers) return;\n\n  // If no listener was provided, remove all listeners for type\n  if (!fn) {\n    removeType(type);\n    return;\n  }\n\n  // We're only removing a single handler\n  if (fn.guid) {\n    for (var n = 0; n < handlers.length; n++) {\n      if (handlers[n].guid === fn.guid) {\n        handlers.splice(n--, 1);\n      }\n    }\n  }\n\n  vjs.cleanUpEvents(elem, type);\n};\n\n/**\n * Clean up the listener cache and dispatchers\n * @param  {Element|Object} elem Element to clean up\n * @param  {String} type Type of event to clean up\n * @private\n */\nvjs.cleanUpEvents = function(elem, type) {\n  var data = vjs.getData(elem);\n\n  // Remove the events of a particular type if there are none left\n  if (data.handlers[type].length === 0) {\n    delete data.handlers[type];\n    // data.handlers[type] = null;\n    // Setting to null was causing an error with data.handlers\n\n    // Remove the meta-handler from the element\n    if (elem.removeEventListener) {\n      elem.removeEventListener(type, data.dispatcher, false);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + type, data.dispatcher);\n    }\n  }\n\n  // Remove the events object if there are no types left\n  if (vjs.isEmpty(data.handlers)) {\n    delete data.handlers;\n    delete data.dispatcher;\n    delete data.disabled;\n\n    // data.handlers = null;\n    // data.dispatcher = null;\n    // data.disabled = null;\n  }\n\n  // Finally remove the expando if there is no data left\n  if (vjs.isEmpty(data)) {\n    vjs.removeData(elem);\n  }\n};\n\n/**\n * Fix a native event to have standard property values\n * @param  {Object} event Event object to fix\n * @return {Object}\n * @private\n */\nvjs.fixEvent = function(event) {\n\n  function returnTrue() { return true; }\n  function returnFalse() { return false; }\n\n  // Test if fixing up is needed\n  // Used to check if !event.stopPropagation instead of isPropagationStopped\n  // But native events return true for stopPropagation, but don't have\n  // other expected methods like isPropagationStopped. Seems to be a problem\n  // with the Javascript Ninja code. So we're just overriding all events now.\n  if (!event || !event.isPropagationStopped) {\n    var old = event || window.event;\n\n    event = {};\n    // Clone the old object so that we can modify the values event = {};\n    // IE8 Doesn't like when you mess with native event properties\n    // Firefox returns false for event.hasOwnProperty('type') and other props\n    //  which makes copying more difficult.\n    // TODO: Probably best to create a whitelist of event props\n    for (var key in old) {\n      // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n      // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n      if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation') {\n        // Chrome 32+ warns if you try to copy deprecated returnValue, but\n        // we still want to if preventDefault isn't supported (IE8).\n        if (!(key == 'returnValue' && old.preventDefault)) {\n          event[key] = old[key];\n        }\n      }\n    }\n\n    // The event occurred on this element\n    if (!event.target) {\n      event.target = event.srcElement || document;\n    }\n\n    // Handle which other element the event is related to\n    event.relatedTarget = event.fromElement === event.target ?\n      event.toElement :\n      event.fromElement;\n\n    // Stop the default browser action\n    event.preventDefault = function () {\n      if (old.preventDefault) {\n        old.preventDefault();\n      }\n      event.returnValue = false;\n      event.isDefaultPrevented = returnTrue;\n      event.defaultPrevented = true;\n    };\n\n    event.isDefaultPrevented = returnFalse;\n    event.defaultPrevented = false;\n\n    // Stop the event from bubbling\n    event.stopPropagation = function () {\n      if (old.stopPropagation) {\n        old.stopPropagation();\n      }\n      event.cancelBubble = true;\n      event.isPropagationStopped = returnTrue;\n    };\n\n    event.isPropagationStopped = returnFalse;\n\n    // Stop the event from bubbling and executing other handlers\n    event.stopImmediatePropagation = function () {\n      if (old.stopImmediatePropagation) {\n        old.stopImmediatePropagation();\n      }\n      event.isImmediatePropagationStopped = returnTrue;\n      event.stopPropagation();\n    };\n\n    event.isImmediatePropagationStopped = returnFalse;\n\n    // Handle mouse position\n    if (event.clientX != null) {\n      var doc = document.documentElement, body = document.body;\n\n      event.pageX = event.clientX +\n        (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n        (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = event.clientY +\n        (doc && doc.scrollTop || body && body.scrollTop || 0) -\n        (doc && doc.clientTop || body && body.clientTop || 0);\n    }\n\n    // Handle key presses\n    event.which = event.charCode || event.keyCode;\n\n    // Fix button for mouse clicks:\n    // 0 == left; 1 == middle; 2 == right\n    if (event.button != null) {\n      event.button = (event.button & 1 ? 0 :\n        (event.button & 4 ? 1 :\n          (event.button & 2 ? 2 : 0)));\n    }\n  }\n\n  // Returns fixed-up instance\n  return event;\n};\n\n/**\n * Trigger an event for an element\n * @param  {Element|Object}      elem  Element to trigger an event on\n * @param  {Event|Object|String} event A string (the type) or an event object with a type attribute\n * @private\n */\nvjs.trigger = function(elem, event) {\n  // Fetches element data and a reference to the parent (for bubbling).\n  // Don't want to add a data object to cache for every parent,\n  // so checking hasData first.\n  var elemData = (vjs.hasData(elem)) ? vjs.getData(elem) : {};\n  var parent = elem.parentNode || elem.ownerDocument;\n      // type = event.type || event,\n      // handler;\n\n  // If an event name was passed as a string, creates an event out of it\n  if (typeof event === 'string') {\n    event = { type:event, target:elem };\n  }\n  // Normalizes the event properties.\n  event = vjs.fixEvent(event);\n\n  // If the passed element has a dispatcher, executes the established handlers.\n  if (elemData.dispatcher) {\n    elemData.dispatcher.call(elem, event);\n  }\n\n  // Unless explicitly stopped or the event does not bubble (e.g. media events)\n    // recursively calls this function to bubble the event up the DOM.\n    if (parent && !event.isPropagationStopped() && event.bubbles !== false) {\n    vjs.trigger(parent, event);\n\n  // If at the top of the DOM, triggers the default action unless disabled.\n  } else if (!parent && !event.defaultPrevented) {\n    var targetData = vjs.getData(event.target);\n\n    // Checks if the target has a default action for this event.\n    if (event.target[event.type]) {\n      // Temporarily disables event dispatching on the target as we have already executed the handler.\n      targetData.disabled = true;\n      // Executes the default action.\n      if (typeof event.target[event.type] === 'function') {\n        event.target[event.type]();\n      }\n      // Re-enables event dispatching.\n      targetData.disabled = false;\n    }\n  }\n\n  // Inform the triggerer if the default was prevented by returning false\n  return !event.defaultPrevented;\n  /* Original version of js ninja events wasn't complete.\n   * We've since updated to the latest version, but keeping this around\n   * for now just in case.\n   */\n  // // Added in addition to book. Book code was broke.\n  // event = typeof event === 'object' ?\n  //   event[vjs.expando] ?\n  //     event :\n  //     new vjs.Event(type, event) :\n  //   new vjs.Event(type);\n\n  // event.type = type;\n  // if (handler) {\n  //   handler.call(elem, event);\n  // }\n\n  // // Clean up the event in case it is being reused\n  // event.result = undefined;\n  // event.target = elem;\n};\n\n/**\n * Trigger a listener only once for an event\n * @param  {Element|Object}   elem Element or object to\n * @param  {String|Array}   type\n * @param  {Function} fn\n * @private\n */\nvjs.one = function(elem, type, fn) {\n  if (vjs.obj.isArray(type)) {\n    return _handleMultipleEvents(vjs.one, elem, type, fn);\n  }\n  var func = function(){\n    vjs.off(elem, type, func);\n    fn.apply(this, arguments);\n  };\n  // copy the guid to the new function so it can removed using the original function's ID\n  func.guid = fn.guid = fn.guid || vjs.guid++;\n  vjs.on(elem, type, func);\n};\n\n/**\n * Loops through an array of event types and calls the requested method for each type.\n * @param  {Function} fn   The event method we want to use.\n * @param  {Element|Object} elem Element or object to bind listeners to\n * @param  {String}   type Type of event to bind to.\n * @param  {Function} callback   Event listener.\n * @private\n */\nfunction _handleMultipleEvents(fn, elem, type, callback) {\n  vjs.arr.forEach(type, function(type) {\n    fn(elem, type, callback); //Call the event method for each one of the types\n  });\n}\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n\n/**\n * Creates an element and applies properties.\n * @param  {String=} tagName    Name of tag to be created.\n * @param  {Object=} properties Element properties to be applied.\n * @return {Element}\n * @private\n */\nvjs.createEl = function(tagName, properties){\n  var el;\n\n  tagName = tagName || 'div';\n  properties = properties || {};\n\n  el = document.createElement(tagName);\n\n  vjs.obj.each(properties, function(propName, val){\n    // Not remembering why we were checking for dash\n    // but using setAttribute means you have to use getAttribute\n\n    // The check for dash checks for the aria-* attributes, like aria-label, aria-valuemin.\n    // The additional check for \"role\" is because the default method for adding attributes does not\n    // add the attribute \"role\". My guess is because it's not a valid attribute in some namespaces, although\n    // browsers handle the attribute just fine. The W3C allows for aria-* attributes to be used in pre-HTML5 docs.\n    // http://www.w3.org/TR/wai-aria-primer/#ariahtml. Using setAttribute gets around this problem.\n    if (propName.indexOf('aria-') !== -1 || propName == 'role') {\n     el.setAttribute(propName, val);\n    } else {\n     el[propName] = val;\n    }\n  });\n\n  return el;\n};\n\n/**\n * Uppercase the first letter of a string\n * @param  {String} string String to be uppercased\n * @return {String}\n * @private\n */\nvjs.capitalize = function(string){\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\n/**\n * Object functions container\n * @type {Object}\n * @private\n */\nvjs.obj = {};\n\n/**\n * Object.create shim for prototypal inheritance\n *\n * https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create\n *\n * @function\n * @param  {Object}   obj Object to use as prototype\n * @private\n */\nvjs.obj.create = Object.create || function(obj){\n  //Create a new function called 'F' which is just an empty object.\n  function F() {}\n\n  //the prototype of the 'F' function should point to the\n  //parameter of the anonymous function.\n  F.prototype = obj;\n\n  //create a new constructor function based off of the 'F' function.\n  return new F();\n};\n\n/**\n * Loop through each property in an object and call a function\n * whose arguments are (key,value)\n * @param  {Object}   obj Object of properties\n * @param  {Function} fn  Function to be called on each property.\n * @this {*}\n * @private\n */\nvjs.obj.each = function(obj, fn, context){\n  for (var key in obj) {\n    if (hasOwnProp.call(obj, key)) {\n      fn.call(context || this, key, obj[key]);\n    }\n  }\n};\n\n/**\n * Merge two objects together and return the original.\n * @param  {Object} obj1\n * @param  {Object} obj2\n * @return {Object}\n * @private\n */\nvjs.obj.merge = function(obj1, obj2){\n  if (!obj2) { return obj1; }\n  for (var key in obj2){\n    if (hasOwnProp.call(obj2, key)) {\n      obj1[key] = obj2[key];\n    }\n  }\n  return obj1;\n};\n\n/**\n * Merge two objects, and merge any properties that are objects\n * instead of just overwriting one. Uses to merge options hashes\n * where deeper default settings are important.\n * @param  {Object} obj1 Object to override\n * @param  {Object} obj2 Overriding object\n * @return {Object}      New object. Obj1 and Obj2 will be untouched.\n * @private\n */\nvjs.obj.deepMerge = function(obj1, obj2){\n  var key, val1, val2;\n\n  // make a copy of obj1 so we're not overwriting original values.\n  // like prototype.options_ and all sub options objects\n  obj1 = vjs.obj.copy(obj1);\n\n  for (key in obj2){\n    if (hasOwnProp.call(obj2, key)) {\n      val1 = obj1[key];\n      val2 = obj2[key];\n\n      // Check if both properties are pure objects and do a deep merge if so\n      if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n        obj1[key] = vjs.obj.deepMerge(val1, val2);\n      } else {\n        obj1[key] = obj2[key];\n      }\n    }\n  }\n  return obj1;\n};\n\n/**\n * Make a copy of the supplied object\n * @param  {Object} obj Object to copy\n * @return {Object}     Copy of object\n * @private\n */\nvjs.obj.copy = function(obj){\n  return vjs.obj.merge({}, obj);\n};\n\n/**\n * Check if an object is plain, and not a dom node or any object sub-instance\n * @param  {Object} obj Object to check\n * @return {Boolean}     True if plain, false otherwise\n * @private\n */\nvjs.obj.isPlain = function(obj){\n  return !!obj\n    && typeof obj === 'object'\n    && obj.toString() === '[object Object]'\n    && obj.constructor === Object;\n};\n\n/**\n * Check if an object is Array\n*  Since instanceof Array will not work on arrays created in another frame we need to use Array.isArray, but since IE8 does not support Array.isArray we need this shim\n * @param  {Object} obj Object to check\n * @return {Boolean}     True if plain, false otherwise\n * @private\n */\nvjs.obj.isArray = Array.isArray || function(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n};\n\n/**\n * Check to see whether the input is NaN or not.\n * NaN is the only JavaScript construct that isn't equal to itself\n * @param {Number} num Number to check\n * @return {Boolean} True if NaN, false otherwise\n * @private\n */\nvjs.isNaN = function(num) {\n  return num !== num;\n};\n\n/**\n * Bind (a.k.a proxy or Context). A simple method for changing the context of a function\n   It also stores a unique id on the function so it can be easily removed from events\n * @param  {*}   context The object to bind as scope\n * @param  {Function} fn      The function to be bound to a scope\n * @param  {Number=}   uid     An optional unique ID for the function to be set\n * @return {Function}\n * @private\n */\nvjs.bind = function(context, fn, uid) {\n  // Make sure the function has a unique ID\n  if (!fn.guid) { fn.guid = vjs.guid++; }\n\n  // Create the new function that changes the context\n  var ret = function() {\n    return fn.apply(context, arguments);\n  };\n\n  // Allow for the ability to individualize this function\n  // Needed in the case where multiple objects might share the same prototype\n  // IF both items add an event listener with the same function, then you try to remove just one\n  // it will remove both because they both have the same guid.\n  // when using this, you need to use the bind method when you remove the listener as well.\n  // currently used in text tracks\n  ret.guid = (uid) ? uid + '_' + fn.guid : fn.guid;\n\n  return ret;\n};\n\n/**\n * Element Data Store. Allows for binding data to an element without putting it directly on the element.\n * Ex. Event listeners are stored here.\n * (also from jsninja.com, slightly modified and updated for closure compiler)\n * @type {Object}\n * @private\n */\nvjs.cache = {};\n\n/**\n * Unique ID for an element or function\n * @type {Number}\n * @private\n */\nvjs.guid = 1;\n\n/**\n * Unique attribute name to store an element's guid in\n * @type {String}\n * @constant\n * @private\n */\nvjs.expando = 'vdata' + (new Date()).getTime();\n\n/**\n * Returns the cache object where data for an element is stored\n * @param  {Element} el Element to store data for.\n * @return {Object}\n * @private\n */\nvjs.getData = function(el){\n  var id = el[vjs.expando];\n  if (!id) {\n    id = el[vjs.expando] = vjs.guid++;\n  }\n  if (!vjs.cache[id]) {\n    vjs.cache[id] = {};\n  }\n  return vjs.cache[id];\n};\n\n/**\n * Returns the cache object where data for an element is stored\n * @param  {Element} el Element to store data for.\n * @return {Object}\n * @private\n */\nvjs.hasData = function(el){\n  var id = el[vjs.expando];\n  return !(!id || vjs.isEmpty(vjs.cache[id]));\n};\n\n/**\n * Delete data for the element from the cache and the guid attr from getElementById\n * @param  {Element} el Remove data for an element\n * @private\n */\nvjs.removeData = function(el){\n  var id = el[vjs.expando];\n  if (!id) { return; }\n  // Remove all stored data\n  // Changed to = null\n  // http://coding.smashingmagazine.com/2012/11/05/writing-fast-memory-efficient-javascript/\n  // vjs.cache[id] = null;\n  delete vjs.cache[id];\n\n  // Remove the expando property from the DOM node\n  try {\n    delete el[vjs.expando];\n  } catch(e) {\n    if (el.removeAttribute) {\n      el.removeAttribute(vjs.expando);\n    } else {\n      // IE doesn't appear to support removeAttribute on the document element\n      el[vjs.expando] = null;\n    }\n  }\n};\n\n/**\n * Check if an object is empty\n * @param  {Object}  obj The object to check for emptiness\n * @return {Boolean}\n * @private\n */\nvjs.isEmpty = function(obj) {\n  for (var prop in obj) {\n    // Inlude null properties as empty.\n    if (obj[prop] !== null) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Check if an element has a CSS class\n * @param {Element} element Element to check\n * @param {String} classToCheck Classname to check\n * @private\n */\nvjs.hasClass = function(element, classToCheck){\n  return ((' ' + element.className + ' ').indexOf(' ' + classToCheck + ' ') !== -1);\n};\n\n\n/**\n * Add a CSS class name to an element\n * @param {Element} element    Element to add class name to\n * @param {String} classToAdd Classname to add\n * @private\n */\nvjs.addClass = function(element, classToAdd){\n  if (!vjs.hasClass(element, classToAdd)) {\n    element.className = element.className === '' ? classToAdd : element.className + ' ' + classToAdd;\n  }\n};\n\n/**\n * Remove a CSS class name from an element\n * @param {Element} element    Element to remove from class name\n * @param {String} classToAdd Classname to remove\n * @private\n */\nvjs.removeClass = function(element, classToRemove){\n  var classNames, i;\n\n  if (!vjs.hasClass(element, classToRemove)) {return;}\n\n  classNames = element.className.split(' ');\n\n  // no arr.indexOf in ie8, and we don't want to add a big shim\n  for (i = classNames.length - 1; i >= 0; i--) {\n    if (classNames[i] === classToRemove) {\n      classNames.splice(i,1);\n    }\n  }\n\n  element.className = classNames.join(' ');\n};\n\n/**\n * Element for testing browser HTML5 video capabilities\n * @type {Element}\n * @constant\n * @private\n */\nvjs.TEST_VID = vjs.createEl('video');\n(function() {\n  var track = document.createElement('track');\n  track.kind = 'captions';\n  track.srclang = 'en';\n  track.label = 'English';\n  vjs.TEST_VID.appendChild(track);\n})();\n\n/**\n * Useragent for browser testing.\n * @type {String}\n * @constant\n * @private\n */\nvjs.USER_AGENT = navigator.userAgent;\n\n/**\n * Device is an iPhone\n * @type {Boolean}\n * @constant\n * @private\n */\nvjs.IS_IPHONE = (/iPhone/i).test(vjs.USER_AGENT);\nvjs.IS_IPAD = (/iPad/i).test(vjs.USER_AGENT);\nvjs.IS_IPOD = (/iPod/i).test(vjs.USER_AGENT);\nvjs.IS_IOS = vjs.IS_IPHONE || vjs.IS_IPAD || vjs.IS_IPOD;\n\nvjs.IOS_VERSION = (function(){\n  var match = vjs.USER_AGENT.match(/OS (\\d+)_/i);\n  if (match && match[1]) { return match[1]; }\n})();\n\nvjs.IS_ANDROID = (/Android/i).test(vjs.USER_AGENT);\nvjs.ANDROID_VERSION = (function() {\n  // This matches Android Major.Minor.Patch versions\n  // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n  var match = vjs.USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i),\n    major,\n    minor;\n\n  if (!match) {\n    return null;\n  }\n\n  major = match[1] && parseFloat(match[1]);\n  minor = match[2] && parseFloat(match[2]);\n\n  if (major && minor) {\n    return parseFloat(match[1] + '.' + match[2]);\n  } else if (major) {\n    return major;\n  } else {\n    return null;\n  }\n})();\n// Old Android is defined as Version older than 2.3, and requiring a webkit version of the android browser\nvjs.IS_OLD_ANDROID = vjs.IS_ANDROID && (/webkit/i).test(vjs.USER_AGENT) && vjs.ANDROID_VERSION < 2.3;\n\nvjs.IS_FIREFOX = (/Firefox/i).test(vjs.USER_AGENT);\nvjs.IS_CHROME = (/Chrome/i).test(vjs.USER_AGENT);\nvjs.IS_IE8 = (/MSIE\\s8\\.0/).test(vjs.USER_AGENT);\n\nvjs.TOUCH_ENABLED = !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof window.DocumentTouch);\nvjs.BACKGROUND_SIZE_SUPPORTED = 'backgroundSize' in vjs.TEST_VID.style;\n\n/**\n * Apply attributes to an HTML element.\n * @param  {Element} el         Target element.\n * @param  {Object=} attributes Element attributes to be applied.\n * @private\n */\nvjs.setElementAttributes = function(el, attributes){\n  vjs.obj.each(attributes, function(attrName, attrValue) {\n    if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n      el.removeAttribute(attrName);\n    } else {\n      el.setAttribute(attrName, (attrValue === true ? '' : attrValue));\n    }\n  });\n};\n\n/**\n * Get an element's attribute values, as defined on the HTML tag\n * Attributes are not the same as properties. They're defined on the tag\n * or with setAttribute (which shouldn't be used with HTML)\n * This will return true or false for boolean attributes.\n * @param  {Element} tag Element from which to get tag attributes\n * @return {Object}\n * @private\n */\nvjs.getElementAttributes = function(tag){\n  var obj, knownBooleans, attrs, attrName, attrVal;\n\n  obj = {};\n\n  // known boolean attributes\n  // we can check for matching boolean properties, but older browsers\n  // won't know about HTML5 boolean attributes that we still read from\n  knownBooleans = ','+'autoplay,controls,loop,muted,default'+',';\n\n  if (tag && tag.attributes && tag.attributes.length > 0) {\n    attrs = tag.attributes;\n\n    for (var i = attrs.length - 1; i >= 0; i--) {\n      attrName = attrs[i].name;\n      attrVal = attrs[i].value;\n\n      // check for known booleans\n      // the matching element property will return a value for typeof\n      if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(','+attrName+',') !== -1) {\n        // the value of an included boolean attribute is typically an empty\n        // string ('') which would equal false if we just check for a false value.\n        // we also don't want support bad code like autoplay='false'\n        attrVal = (attrVal !== null) ? true : false;\n      }\n\n      obj[attrName] = attrVal;\n    }\n  }\n\n  return obj;\n};\n\n/**\n * Get the computed style value for an element\n * From http://robertnyman.com/2006/04/24/get-the-rendered-style-of-an-element/\n * @param  {Element} el        Element to get style value for\n * @param  {String} strCssRule Style name\n * @return {String}            Style value\n * @private\n */\nvjs.getComputedDimension = function(el, strCssRule){\n  var strValue = '';\n  if(document.defaultView && document.defaultView.getComputedStyle){\n    strValue = document.defaultView.getComputedStyle(el, '').getPropertyValue(strCssRule);\n\n  } else if(el.currentStyle){\n    // IE8 Width/Height support\n    strValue = el['client'+strCssRule.substr(0,1).toUpperCase() + strCssRule.substr(1)] + 'px';\n  }\n  return strValue;\n};\n\n/**\n * Insert an element as the first child node of another\n * @param  {Element} child   Element to insert\n * @param  {[type]} parent Element to insert child into\n * @private\n */\nvjs.insertFirst = function(child, parent){\n  if (parent.firstChild) {\n    parent.insertBefore(child, parent.firstChild);\n  } else {\n    parent.appendChild(child);\n  }\n};\n\n/**\n * Object to hold browser support information\n * @type {Object}\n * @private\n */\nvjs.browser = {};\n\n/**\n * Shorthand for document.getElementById()\n * Also allows for CSS (jQuery) ID syntax. But nothing other than IDs.\n * @param  {String} id  Element ID\n * @return {Element}    Element with supplied ID\n * @private\n */\nvjs.el = function(id){\n  if (id.indexOf('#') === 0) {\n    id = id.slice(1);\n  }\n\n  return document.getElementById(id);\n};\n\n/**\n * Format seconds as a time string, H:MM:SS or M:SS\n * Supplying a guide (in seconds) will force a number of leading zeros\n * to cover the length of the guide\n * @param  {Number} seconds Number of seconds to be turned into a string\n * @param  {Number} guide   Number (in seconds) to model the string after\n * @return {String}         Time formatted as H:MM:SS or M:SS\n * @private\n */\nvjs.formatTime = function(seconds, guide) {\n  // Default to using seconds as guide\n  guide = guide || seconds;\n  var s = Math.floor(seconds % 60),\n      m = Math.floor(seconds / 60 % 60),\n      h = Math.floor(seconds / 3600),\n      gm = Math.floor(guide / 60 % 60),\n      gh = Math.floor(guide / 3600);\n\n  // handle invalid times\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = m = s = '-';\n  }\n\n  // Check if we need to show hours\n  h = (h > 0 || gh > 0) ? h + ':' : '';\n\n  // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n  m = (((h || gm >= 10) && m < 10) ? '0' + m : m) + ':';\n\n  // Check if leading zero is need for seconds\n  s = (s < 10) ? '0' + s : s;\n\n  return h + m + s;\n};\n\n// Attempt to block the ability to select text while dragging controls\nvjs.blockTextSelection = function(){\n  document.body.focus();\n  document.onselectstart = function () { return false; };\n};\n// Turn off text selection blocking\nvjs.unblockTextSelection = function(){ document.onselectstart = function () { return true; }; };\n\n/**\n * Trim whitespace from the ends of a string.\n * @param  {String} string String to trim\n * @return {String}        Trimmed string\n * @private\n */\nvjs.trim = function(str){\n  return (str+'').replace(/^\\s+|\\s+$/g, '');\n};\n\n/**\n * Should round off a number to a decimal place\n * @param  {Number} num Number to round\n * @param  {Number} dec Number of decimal places to round to\n * @return {Number}     Rounded number\n * @private\n */\nvjs.round = function(num, dec) {\n  if (!dec) { dec = 0; }\n  return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec);\n};\n\n/**\n * Should create a fake TimeRange object\n * Mimics an HTML5 time range instance, which has functions that\n * return the start and end times for a range\n * TimeRanges are returned by the buffered() method\n * @param  {Number} start Start time in seconds\n * @param  {Number} end   End time in seconds\n * @return {Object}       Fake TimeRange object\n * @private\n */\nvjs.createTimeRange = function(start, end){\n  if (start === undefined && end === undefined) {\n    return {\n      length: 0,\n      start: function() {\n        throw new Error('This TimeRanges object is empty');\n      },\n      end: function() {\n        throw new Error('This TimeRanges object is empty');\n      }\n    };\n  }\n\n  return {\n    length: 1,\n    start: function() { return start; },\n    end: function() { return end; }\n  };\n};\n\n/**\n * Add to local storage (may removable)\n * @private\n */\nvjs.setLocalStorage = function(key, value){\n  try {\n    // IE was throwing errors referencing the var anywhere without this\n    var localStorage = window.localStorage || false;\n    if (!localStorage) { return; }\n    localStorage[key] = value;\n  } catch(e) {\n    if (e.code == 22 || e.code == 1014) { // Webkit == 22 / Firefox == 1014\n      vjs.log('LocalStorage Full (VideoJS)', e);\n    } else {\n      if (e.code == 18) {\n        vjs.log('LocalStorage not allowed (VideoJS)', e);\n      } else {\n        vjs.log('LocalStorage Error (VideoJS)', e);\n      }\n    }\n  }\n};\n\n/**\n * Get absolute version of relative URL. Used to tell flash correct URL.\n * http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n * @param  {String} url URL to make absolute\n * @return {String}     Absolute URL\n * @private\n */\nvjs.getAbsoluteURL = function(url){\n\n  // Check if absolute URL\n  if (!url.match(/^https?:\\/\\//)) {\n    // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n    url = vjs.createEl('div', {\n      innerHTML: '<a href=\"'+url+'\">x</a>'\n    }).firstChild.href;\n  }\n\n  return url;\n};\n\n\n/**\n * Resolve and parse the elements of a URL\n * @param  {String} url The url to parse\n * @return {Object}     An object of url details\n */\nvjs.parseUrl = function(url) {\n  var div, a, addToBody, props, details;\n\n  props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host'];\n\n  // add the url to an anchor and let the browser parse the URL\n  a = vjs.createEl('a', { href: url });\n\n  // IE8 (and 9?) Fix\n  // ie8 doesn't parse the URL correctly until the anchor is actually\n  // added to the body, and an innerHTML is needed to trigger the parsing\n  addToBody = (a.host === '' && a.protocol !== 'file:');\n  if (addToBody) {\n    div = vjs.createEl('div');\n    div.innerHTML = '<a href=\"'+url+'\"></a>';\n    a = div.firstChild;\n    // prevent the div from affecting layout\n    div.setAttribute('style', 'display:none; position:absolute;');\n    document.body.appendChild(div);\n  }\n\n  // Copy the specific URL properties to a new object\n  // This is also needed for IE8 because the anchor loses its\n  // properties when it's removed from the dom\n  details = {};\n  for (var i = 0; i < props.length; i++) {\n    details[props[i]] = a[props[i]];\n  }\n\n  // IE9 adds the port to the host property unlike everyone else. If\n  // a port identifier is added for standard ports, strip it.\n  if (details.protocol === 'http:') {\n    details.host = details.host.replace(/:80$/, '');\n  }\n  if (details.protocol === 'https:') {\n    details.host = details.host.replace(/:443$/, '');\n  }\n\n  if (addToBody) {\n    document.body.removeChild(div);\n  }\n\n  return details;\n};\n\n/**\n * Log messages to the console and history based on the type of message\n *\n * @param  {String} type The type of message, or `null` for `log`\n * @param  {[type]} args The args to be passed to the log\n * @private\n */\nfunction _logType(type, args){\n  var argsArray, noop, console;\n\n  // convert args to an array to get array functions\n  argsArray = Array.prototype.slice.call(args);\n  // if there's no console then don't try to output messages\n  // they will still be stored in vjs.log.history\n  // Was setting these once outside of this function, but containing them\n  // in the function makes it easier to test cases where console doesn't exist\n  noop = function(){};\n  console = window['console'] || {\n    'log': noop,\n    'warn': noop,\n    'error': noop\n  };\n\n  if (type) {\n    // add the type to the front of the message\n    argsArray.unshift(type.toUpperCase()+':');\n  } else {\n    // default to log with no prefix\n    type = 'log';\n  }\n\n  // add to history\n  vjs.log.history.push(argsArray);\n\n  // add console prefix after adding to history\n  argsArray.unshift('VIDEOJS:');\n\n  // call appropriate log function\n  if (console[type].apply) {\n    console[type].apply(console, argsArray);\n  } else {\n    // ie8 doesn't allow error.apply, but it will just join() the array anyway\n    console[type](argsArray.join(' '));\n  }\n}\n\n/**\n * Log plain debug messages\n */\nvjs.log = function(){\n  _logType(null, arguments);\n};\n\n/**\n * Keep a history of log messages\n * @type {Array}\n */\nvjs.log.history = [];\n\n/**\n * Log error messages\n */\nvjs.log.error = function(){\n  _logType('error', arguments);\n};\n\n/**\n * Log warning messages\n */\nvjs.log.warn = function(){\n  _logType('warn', arguments);\n};\n\n// Offset Left\n// getBoundingClientRect technique from John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\nvjs.findPosition = function(el) {\n  var box, docEl, body, clientLeft, scrollLeft, left, clientTop, scrollTop, top;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  docEl = document.documentElement;\n  body = document.body;\n\n  clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  scrollLeft = window.pageXOffset || body.scrollLeft;\n  left = box.left + scrollLeft - clientLeft;\n\n  clientTop = docEl.clientTop || body.clientTop || 0;\n  scrollTop = window.pageYOffset || body.scrollTop;\n  top = box.top + scrollTop - clientTop;\n\n  // Android sometimes returns slightly off decimal values, so need to round\n  return {\n    left: vjs.round(left),\n    top: vjs.round(top)\n  };\n};\n\n/**\n * Array functions container\n * @type {Object}\n * @private\n */\nvjs.arr = {};\n\n/*\n * Loops through an array and runs a function for each item inside it.\n * @param  {Array}    array       The array\n * @param  {Function} callback    The function to be run for each item\n * @param  {*}        thisArg     The `this` binding of callback\n * @returns {Array}               The array\n * @private\n */\nvjs.arr.forEach = function(array, callback, thisArg) {\n  if (vjs.obj.isArray(array) && callback instanceof Function) {\n    for (var i = 0, len = array.length; i < len; ++i) {\n      callback.call(thisArg || vjs, array[i], i, array);\n    }\n  }\n\n  return array;\n};\n/**\n * Simple http request for retrieving external files (e.g. text tracks)\n *\n * ##### Example\n *\n *     // using url string\n *     videojs.xhr('http://example.com/myfile.vtt', function(error, response, responseBody){});\n *\n *     // or options block\n *     videojs.xhr({\n *       uri: 'http://example.com/myfile.vtt',\n *       method: 'GET',\n *       responseType: 'text'\n *     }, function(error, response, responseBody){\n *       if (error) {\n *         // log the error\n *       } else {\n *         // successful, do something with the response\n *       }\n *     });\n *\n *\n * API is modeled after the Raynos/xhr, which we hope to use after\n * getting browserify implemented.\n * https://github.com/Raynos/xhr/blob/master/index.js\n *\n * @param  {Object|String}  options   Options block or URL string\n * @param  {Function}       callback  The callback function\n * @returns {Object}                  The request\n */\nvjs.xhr = function(options, callback){\n  var XHR, request, urlInfo, winLoc, fileUrl, crossOrigin, abortTimeout, successHandler, errorHandler;\n\n  // If options is a string it's the url\n  if (typeof options === 'string') {\n    options = {\n      uri: options\n    };\n  }\n\n  // Merge with default options\n  videojs.util.mergeOptions({\n    method: 'GET',\n    timeout: 45 * 1000\n  }, options);\n\n  callback = callback || function(){};\n\n  successHandler = function(){\n    window.clearTimeout(abortTimeout);\n    callback(null, request, request.response || request.responseText);\n  };\n\n  errorHandler = function(err){\n    window.clearTimeout(abortTimeout);\n\n    if (!err || typeof err === 'string') {\n      err = new Error(err);\n    }\n\n    callback(err, request);\n  };\n\n  XHR = window.XMLHttpRequest;\n\n  if (typeof XHR === 'undefined') {\n    // Shim XMLHttpRequest for older IEs\n    XHR = function () {\n      try { return new window.ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch (e) {}\n      try { return new window.ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch (f) {}\n      try { return new window.ActiveXObject('Msxml2.XMLHTTP'); } catch (g) {}\n      throw new Error('This browser does not support XMLHttpRequest.');\n    };\n  }\n\n  request = new XHR();\n  // Store a reference to the url on the request instance\n  request.uri = options.uri;\n\n  urlInfo = vjs.parseUrl(options.uri);\n  winLoc = window.location;\n  // Check if url is for another domain/origin\n  // IE8 doesn't know location.origin, so we won't rely on it here\n  crossOrigin = (urlInfo.protocol + urlInfo.host) !== (winLoc.protocol + winLoc.host);\n\n  // XDomainRequest -- Use for IE if XMLHTTPRequest2 isn't available\n  // 'withCredentials' is only available in XMLHTTPRequest2\n  // Also XDomainRequest has a lot of gotchas, so only use if cross domain\n  if (crossOrigin && window.XDomainRequest && !('withCredentials' in request)) {\n    request = new window.XDomainRequest();\n    request.onload = successHandler;\n    request.onerror = errorHandler;\n    // These blank handlers need to be set to fix ie9\n    // http://cypressnorth.com/programming/internet-explorer-aborting-ajax-requests-fixed/\n    request.onprogress = function(){};\n    request.ontimeout = function(){};\n\n  // XMLHTTPRequest\n  } else {\n    fileUrl = (urlInfo.protocol == 'file:' || winLoc.protocol == 'file:');\n\n    request.onreadystatechange = function() {\n      if (request.readyState === 4) {\n        if (request.timedout) {\n          return errorHandler('timeout');\n        }\n\n        if (request.status === 200 || fileUrl && request.status === 0) {\n          successHandler();\n        } else {\n          errorHandler();\n        }\n      }\n    };\n\n    if (options.timeout) {\n      abortTimeout = window.setTimeout(function() {\n        if (request.readyState !== 4) {\n          request.timedout = true;\n          request.abort();\n        }\n      }, options.timeout);\n    }\n  }\n\n  // open the connection\n  try {\n    // Third arg is async, or ignored by XDomainRequest\n    request.open(options.method || 'GET', options.uri, true);\n  } catch(err) {\n    return errorHandler(err);\n  }\n\n  // withCredentials only supported by XMLHttpRequest2\n  if(options.withCredentials) {\n    request.withCredentials = true;\n  }\n\n  if (options.responseType) {\n    request.responseType = options.responseType;\n  }\n\n  // send the request\n  try {\n    request.send();\n  } catch(err) {\n    return errorHandler(err);\n  }\n\n  return request;\n};\n/**\n * Utility functions namespace\n * @namespace\n * @type {Object}\n */\nvjs.util = {};\n\n/**\n * Merge two options objects, recursively merging any plain object properties as\n * well.  Previously `deepMerge`\n *\n * @param  {Object} obj1 Object to override values in\n * @param  {Object} obj2 Overriding object\n * @return {Object}      New object -- obj1 and obj2 will be untouched\n */\nvjs.util.mergeOptions = function(obj1, obj2){\n  var key, val1, val2;\n\n  // make a copy of obj1 so we're not overwriting original values.\n  // like prototype.options_ and all sub options objects\n  obj1 = vjs.obj.copy(obj1);\n\n  for (key in obj2){\n    if (obj2.hasOwnProperty(key)) {\n      val1 = obj1[key];\n      val2 = obj2[key];\n\n      // Check if both properties are pure objects and do a deep merge if so\n      if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n        obj1[key] = vjs.util.mergeOptions(val1, val2);\n      } else {\n        obj1[key] = obj2[key];\n      }\n    }\n  }\n  return obj1;\n};vjs.EventEmitter = function() {\n};\n\nvjs.EventEmitter.prototype.allowedEvents_ = {\n};\n\nvjs.EventEmitter.prototype.on = function(type, fn) {\n  // Remove the addEventListener alias before calling vjs.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n  this.addEventListener = Function.prototype;\n  vjs.on(this, type, fn);\n  this.addEventListener = ael;\n};\nvjs.EventEmitter.prototype.addEventListener = vjs.EventEmitter.prototype.on;\n\nvjs.EventEmitter.prototype.off = function(type, fn) {\n  vjs.off(this, type, fn);\n};\nvjs.EventEmitter.prototype.removeEventListener = vjs.EventEmitter.prototype.off;\n\nvjs.EventEmitter.prototype.one = function(type, fn) {\n  vjs.one(this, type, fn);\n};\n\nvjs.EventEmitter.prototype.trigger = function(event) {\n  var type = event.type || event;\n\n  if (typeof event === 'string') {\n    event = {\n      type: type\n    };\n  }\n  event = vjs.fixEvent(event);\n\n  if (this.allowedEvents_[type] && this['on' + type]) {\n    this['on' + type](event);\n  }\n\n  vjs.trigger(this, event);\n};\n// The standard DOM EventTarget.dispatchEvent() is aliased to trigger()\nvjs.EventEmitter.prototype.dispatchEvent = vjs.EventEmitter.prototype.trigger;\n/**\n * @fileoverview Player Component - Base class for all UI objects\n *\n */\n\n/**\n * Base UI Component class\n *\n * Components are embeddable UI objects that are represented by both a\n * javascript object and an element in the DOM. They can be children of other\n * components, and can have many children themselves.\n *\n *     // adding a button to the player\n *     var button = player.addChild('button');\n *     button.el(); // -> button element\n *\n *     <div class=\"video-js\">\n *       <div class=\"vjs-button\">Button</div>\n *     </div>\n *\n * Components are also event emitters.\n *\n *     button.on('click', function(){\n *       console.log('Button Clicked!');\n *     });\n *\n *     button.trigger('customevent');\n *\n * @param {Object} player  Main Player\n * @param {Object=} options\n * @class\n * @constructor\n * @extends vjs.CoreObject\n */\nvjs.Component = vjs.CoreObject.extend({\n  /**\n   * the constructor function for the class\n   *\n   * @constructor\n   */\n  init: function(player, options, ready){\n    this.player_ = player;\n\n    // Make a copy of prototype.options_ to protect against overriding global defaults\n    this.options_ = vjs.obj.copy(this.options_);\n\n    // Updated options with supplied options\n    options = this.options(options);\n\n    // Get ID from options or options element if one is supplied\n    this.id_ = options['id'] || (options['el'] && options['el']['id']);\n\n    // If there was no ID from the options, generate one\n    if (!this.id_) {\n      // Don't require the player ID function in the case of mock players\n      this.id_ = ((player.id && player.id()) || 'no_player') + '_component_' + vjs.guid++;\n    }\n\n    this.name_ = options['name'] || null;\n\n    // Create element if one wasn't provided in options\n    this.el_ = options['el'] || this.createEl();\n\n    this.children_ = [];\n    this.childIndex_ = {};\n    this.childNameIndex_ = {};\n\n    // Add any child components in options\n    this.initChildren();\n\n    this.ready(ready);\n    // Don't want to trigger ready here or it will before init is actually\n    // finished for all children that run this constructor\n\n    if (options.reportTouchActivity !== false) {\n      this.enableTouchActivity();\n    }\n  }\n});\n\n/**\n * Dispose of the component and all child components\n */\nvjs.Component.prototype.dispose = function(){\n  this.trigger({ type: 'dispose', 'bubbles': false });\n\n  // Dispose all children.\n  if (this.children_) {\n    for (var i = this.children_.length - 1; i >= 0; i--) {\n      if (this.children_[i].dispose) {\n        this.children_[i].dispose();\n      }\n    }\n  }\n\n  // Delete child references\n  this.children_ = null;\n  this.childIndex_ = null;\n  this.childNameIndex_ = null;\n\n  // Remove all event listeners.\n  this.off();\n\n  // Remove element from DOM\n  if (this.el_.parentNode) {\n    this.el_.parentNode.removeChild(this.el_);\n  }\n\n  vjs.removeData(this.el_);\n  this.el_ = null;\n};\n\n/**\n * Reference to main player instance\n *\n * @type {vjs.Player}\n * @private\n */\nvjs.Component.prototype.player_ = true;\n\n/**\n * Return the component's player\n *\n * @return {vjs.Player}\n */\nvjs.Component.prototype.player = function(){\n  return this.player_;\n};\n\n/**\n * The component's options object\n *\n * @type {Object}\n * @private\n */\nvjs.Component.prototype.options_;\n\n/**\n * Deep merge of options objects\n *\n * Whenever a property is an object on both options objects\n * the two properties will be merged using vjs.obj.deepMerge.\n *\n * This is used for merging options for child components. We\n * want it to be easy to override individual options on a child\n * component without having to rewrite all the other default options.\n *\n *     Parent.prototype.options_ = {\n *       children: {\n *         'childOne': { 'foo': 'bar', 'asdf': 'fdsa' },\n *         'childTwo': {},\n *         'childThree': {}\n *       }\n *     }\n *     newOptions = {\n *       children: {\n *         'childOne': { 'foo': 'baz', 'abc': '123' }\n *         'childTwo': null,\n *         'childFour': {}\n *       }\n *     }\n *\n *     this.options(newOptions);\n *\n * RESULT\n *\n *     {\n *       children: {\n *         'childOne': { 'foo': 'baz', 'asdf': 'fdsa', 'abc': '123' },\n *         'childTwo': null, // Disabled. Won't be initialized.\n *         'childThree': {},\n *         'childFour': {}\n *       }\n *     }\n *\n * @param  {Object} obj Object of new option values\n * @return {Object}     A NEW object of this.options_ and obj merged\n */\nvjs.Component.prototype.options = function(obj){\n  if (obj === undefined) return this.options_;\n\n  return this.options_ = vjs.util.mergeOptions(this.options_, obj);\n};\n\n/**\n * The DOM element for the component\n *\n * @type {Element}\n * @private\n */\nvjs.Component.prototype.el_;\n\n/**\n * Create the component's DOM element\n *\n * @param  {String=} tagName  Element's node type. e.g. 'div'\n * @param  {Object=} attributes An object of element attributes that should be set on the element\n * @return {Element}\n */\nvjs.Component.prototype.createEl = function(tagName, attributes){\n  return vjs.createEl(tagName, attributes);\n};\n\nvjs.Component.prototype.localize = function(string){\n  var lang = this.player_.language(),\n      languages = this.player_.languages();\n  if (languages && languages[lang] && languages[lang][string]) {\n    return languages[lang][string];\n  }\n  return string;\n};\n\n/**\n * Get the component's DOM element\n *\n *     var domEl = myComponent.el();\n *\n * @return {Element}\n */\nvjs.Component.prototype.el = function(){\n  return this.el_;\n};\n\n/**\n * An optional element where, if defined, children will be inserted instead of\n * directly in `el_`\n *\n * @type {Element}\n * @private\n */\nvjs.Component.prototype.contentEl_;\n\n/**\n * Return the component's DOM element for embedding content.\n * Will either be el_ or a new element defined in createEl.\n *\n * @return {Element}\n */\nvjs.Component.prototype.contentEl = function(){\n  return this.contentEl_ || this.el_;\n};\n\n/**\n * The ID for the component\n *\n * @type {String}\n * @private\n */\nvjs.Component.prototype.id_;\n\n/**\n * Get the component's ID\n *\n *     var id = myComponent.id();\n *\n * @return {String}\n */\nvjs.Component.prototype.id = function(){\n  return this.id_;\n};\n\n/**\n * The name for the component. Often used to reference the component.\n *\n * @type {String}\n * @private\n */\nvjs.Component.prototype.name_;\n\n/**\n * Get the component's name. The name is often used to reference the component.\n *\n *     var name = myComponent.name();\n *\n * @return {String}\n */\nvjs.Component.prototype.name = function(){\n  return this.name_;\n};\n\n/**\n * Array of child components\n *\n * @type {Array}\n * @private\n */\nvjs.Component.prototype.children_;\n\n/**\n * Get an array of all child components\n *\n *     var kids = myComponent.children();\n *\n * @return {Array} The children\n */\nvjs.Component.prototype.children = function(){\n  return this.children_;\n};\n\n/**\n * Object of child components by ID\n *\n * @type {Object}\n * @private\n */\nvjs.Component.prototype.childIndex_;\n\n/**\n * Returns a child component with the provided ID\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.getChildById = function(id){\n  return this.childIndex_[id];\n};\n\n/**\n * Object of child components by name\n *\n * @type {Object}\n * @private\n */\nvjs.Component.prototype.childNameIndex_;\n\n/**\n * Returns a child component with the provided name\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.getChild = function(name){\n  return this.childNameIndex_[name];\n};\n\n/**\n * Adds a child component inside this component\n *\n *     myComponent.el();\n *     // -> <div class='my-component'></div>\n *     myComonent.children();\n *     // [empty array]\n *\n *     var myButton = myComponent.addChild('MyButton');\n *     // -> <div class='my-component'><div class=\"my-button\">myButton<div></div>\n *     // -> myButton === myComonent.children()[0];\n *\n * Pass in options for child constructors and options for children of the child\n *\n *     var myButton = myComponent.addChild('MyButton', {\n *       text: 'Press Me',\n *       children: {\n *         buttonChildExample: {\n *           buttonChildOption: true\n *         }\n *       }\n *     });\n *\n * @param {String|vjs.Component} child The class name or instance of a child to add\n * @param {Object=} options Options, including options to be passed to children of the child.\n * @return {vjs.Component} The child component (created by this process if a string was used)\n * @suppress {accessControls|checkRegExp|checkTypes|checkVars|const|constantProperty|deprecated|duplicate|es5Strict|fileoverviewTags|globalThis|invalidCasts|missingProperties|nonStandardJsDocs|strictModuleDepCheck|undefinedNames|undefinedVars|unknownDefines|uselessCode|visibility}\n */\nvjs.Component.prototype.addChild = function(child, options){\n  var component, componentClass, componentName;\n\n  // If child is a string, create new component with options\n  if (typeof child === 'string') {\n    componentName = child;\n\n    // Make sure options is at least an empty object to protect against errors\n    options = options || {};\n\n    // If no componentClass in options, assume componentClass is the name lowercased\n    // (e.g. playButton)\n    componentClass = options['componentClass'] || vjs.capitalize(componentName);\n\n    // Set name through options\n    options['name'] = componentName;\n\n    // Create a new object & element for this controls set\n    // If there's no .player_, this is a player\n    // Closure Compiler throws an 'incomplete alias' warning if we use the vjs variable directly.\n    // Every class should be exported, so this should never be a problem here.\n    component = new window['videojs'][componentClass](this.player_ || this, options);\n\n  // child is a component instance\n  } else {\n    component = child;\n  }\n\n  this.children_.push(component);\n\n  if (typeof component.id === 'function') {\n    this.childIndex_[component.id()] = component;\n  }\n\n  // If a name wasn't used to create the component, check if we can use the\n  // name function of the component\n  componentName = componentName || (component.name && component.name());\n\n  if (componentName) {\n    this.childNameIndex_[componentName] = component;\n  }\n\n  // Add the UI object's element to the container div (box)\n  // Having an element is not required\n  if (typeof component['el'] === 'function' && component['el']()) {\n    this.contentEl().appendChild(component['el']());\n  }\n\n  // Return so it can stored on parent object if desired.\n  return component;\n};\n\n/**\n * Remove a child component from this component's list of children, and the\n * child component's element from this component's element\n *\n * @param  {vjs.Component} component Component to remove\n */\nvjs.Component.prototype.removeChild = function(component){\n  if (typeof component === 'string') {\n    component = this.getChild(component);\n  }\n\n  if (!component || !this.children_) return;\n\n  var childFound = false;\n  for (var i = this.children_.length - 1; i >= 0; i--) {\n    if (this.children_[i] === component) {\n      childFound = true;\n      this.children_.splice(i,1);\n      break;\n    }\n  }\n\n  if (!childFound) return;\n\n  this.childIndex_[component.id()] = null;\n  this.childNameIndex_[component.name()] = null;\n\n  var compEl = component.el();\n  if (compEl && compEl.parentNode === this.contentEl()) {\n    this.contentEl().removeChild(component.el());\n  }\n};\n\n/**\n * Add and initialize default child components from options\n *\n *     // when an instance of MyComponent is created, all children in options\n *     // will be added to the instance by their name strings and options\n *     MyComponent.prototype.options_.children = {\n *       myChildComponent: {\n *         myChildOption: true\n *       }\n *     }\n *\n *     // Or when creating the component\n *     var myComp = new MyComponent(player, {\n *       children: {\n *         myChildComponent: {\n *           myChildOption: true\n *         }\n *       }\n *     });\n *\n * The children option can also be an Array of child names or\n * child options objects (that also include a 'name' key).\n *\n *     var myComp = new MyComponent(player, {\n *       children: [\n *         'button',\n *         {\n *           name: 'button',\n *           someOtherOption: true\n *         }\n *       ]\n *     });\n *\n */\nvjs.Component.prototype.initChildren = function(){\n  var parent, parentOptions, children, child, name, opts, handleAdd;\n\n  parent = this;\n  parentOptions = parent.options();\n  children = parentOptions['children'];\n\n  if (children) {\n    handleAdd = function(name, opts){\n      // Allow options for children to be set at the parent options\n      // e.g. videojs(id, { controlBar: false });\n      // instead of videojs(id, { children: { controlBar: false });\n      if (parentOptions[name] !== undefined) {\n        opts = parentOptions[name];\n      }\n\n      // Allow for disabling default components\n      // e.g. vjs.options['children']['posterImage'] = false\n      if (opts === false) return;\n\n      // Create and add the child component.\n      // Add a direct reference to the child by name on the parent instance.\n      // If two of the same component are used, different names should be supplied\n      // for each\n      parent[name] = parent.addChild(name, opts);\n    };\n\n    // Allow for an array of children details to passed in the options\n    if (vjs.obj.isArray(children)) {\n      for (var i = 0; i < children.length; i++) {\n        child = children[i];\n\n        if (typeof child == 'string') {\n          // ['myComponent']\n          name = child;\n          opts = {};\n        } else {\n          // [{ name: 'myComponent', otherOption: true }]\n          name = child.name;\n          opts = child;\n        }\n\n        handleAdd(name, opts);\n      }\n    } else {\n      vjs.obj.each(children, handleAdd);\n    }\n  }\n};\n\n/**\n * Allows sub components to stack CSS class names\n *\n * @return {String} The constructed class name\n */\nvjs.Component.prototype.buildCSSClass = function(){\n    // Child classes can include a function that does:\n    // return 'CLASS NAME' + this._super();\n    return '';\n};\n\n/* Events\n============================================================================= */\n\n/**\n * Add an event listener to this component's element\n *\n *     var myFunc = function(){\n *       var myComponent = this;\n *       // Do something when the event is fired\n *     };\n *\n *     myComponent.on('eventType', myFunc);\n *\n * The context of myFunc will be myComponent unless previously bound.\n *\n * Alternatively, you can add a listener to another element or component.\n *\n *     myComponent.on(otherElement, 'eventName', myFunc);\n *     myComponent.on(otherComponent, 'eventName', myFunc);\n *\n * The benefit of using this over `vjs.on(otherElement, 'eventName', myFunc)`\n * and `otherComponent.on('eventName', myFunc)` is that this way the listeners\n * will be automatically cleaned up when either component is disposed.\n * It will also bind myComponent as the context of myFunc.\n *\n * **NOTE**: When using this on elements in the page other than window\n * and document (both permanent), if you remove the element from the DOM\n * you need to call `vjs.trigger(el, 'dispose')` on it to clean up\n * references to it and allow the browser to garbage collect it.\n *\n * @param  {String|vjs.Component} first   The event type or other component\n * @param  {Function|String}      second  The event handler or event type\n * @param  {Function}             third   The event handler\n * @return {vjs.Component}        self\n */\nvjs.Component.prototype.on = function(first, second, third){\n  var target, type, fn, removeOnDispose, cleanRemover, thisComponent;\n\n  if (typeof first === 'string' || vjs.obj.isArray(first)) {\n    vjs.on(this.el_, first, vjs.bind(this, second));\n\n  // Targeting another component or element\n  } else {\n    target = first;\n    type = second;\n    fn = vjs.bind(this, third);\n    thisComponent = this;\n\n    // When this component is disposed, remove the listener from the other component\n    removeOnDispose = function(){\n      thisComponent.off(target, type, fn);\n    };\n    // Use the same function ID so we can remove it later it using the ID\n    // of the original listener\n    removeOnDispose.guid = fn.guid;\n    this.on('dispose', removeOnDispose);\n\n    // If the other component is disposed first we need to clean the reference\n    // to the other component in this component's removeOnDispose listener\n    // Otherwise we create a memory leak.\n    cleanRemover = function(){\n      thisComponent.off('dispose', removeOnDispose);\n    };\n    // Add the same function ID so we can easily remove it later\n    cleanRemover.guid = fn.guid;\n\n    // Check if this is a DOM node\n    if (first.nodeName) {\n      // Add the listener to the other element\n      vjs.on(target, type, fn);\n      vjs.on(target, 'dispose', cleanRemover);\n\n    // Should be a component\n    // Not using `instanceof vjs.Component` because it makes mock players difficult\n    } else if (typeof first.on === 'function') {\n      // Add the listener to the other component\n      target.on(type, fn);\n      target.on('dispose', cleanRemover);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Remove an event listener from this component's element\n *\n *     myComponent.off('eventType', myFunc);\n *\n * If myFunc is excluded, ALL listeners for the event type will be removed.\n * If eventType is excluded, ALL listeners will be removed from the component.\n *\n * Alternatively you can use `off` to remove listeners that were added to other\n * elements or components using `myComponent.on(otherComponent...`.\n * In this case both the event type and listener function are REQUIRED.\n *\n *     myComponent.off(otherElement, 'eventType', myFunc);\n *     myComponent.off(otherComponent, 'eventType', myFunc);\n *\n * @param  {String=|vjs.Component}  first  The event type or other component\n * @param  {Function=|String}       second The listener function or event type\n * @param  {Function=}              third  The listener for other component\n * @return {vjs.Component}\n */\nvjs.Component.prototype.off = function(first, second, third){\n  var target, otherComponent, type, fn, otherEl;\n\n  if (!first || typeof first === 'string' || vjs.obj.isArray(first)) {\n    vjs.off(this.el_, first, second);\n  } else {\n    target = first;\n    type = second;\n    // Ensure there's at least a guid, even if the function hasn't been used\n    fn = vjs.bind(this, third);\n\n    // Remove the dispose listener on this component,\n    // which was given the same guid as the event listener\n    this.off('dispose', fn);\n\n    if (first.nodeName) {\n      // Remove the listener\n      vjs.off(target, type, fn);\n      // Remove the listener for cleaning the dispose listener\n      vjs.off(target, 'dispose', fn);\n    } else {\n      target.off(type, fn);\n      target.off('dispose', fn);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Add an event listener to be triggered only once and then removed\n *\n *     myComponent.one('eventName', myFunc);\n *\n * Alternatively you can add a listener to another element or component\n * that will be triggered only once.\n *\n *     myComponent.one(otherElement, 'eventName', myFunc);\n *     myComponent.one(otherComponent, 'eventName', myFunc);\n *\n * @param  {String|vjs.Component}  first   The event type or other component\n * @param  {Function|String}       second  The listener function or event type\n * @param  {Function=}             third   The listener function for other component\n * @return {vjs.Component}\n */\nvjs.Component.prototype.one = function(first, second, third) {\n  var target, type, fn, thisComponent, newFunc;\n\n  if (typeof first === 'string' || vjs.obj.isArray(first)) {\n    vjs.one(this.el_, first, vjs.bind(this, second));\n  } else {\n    target = first;\n    type = second;\n    fn = vjs.bind(this, third);\n    thisComponent = this;\n\n    newFunc = function(){\n      thisComponent.off(target, type, newFunc);\n      fn.apply(this, arguments);\n    };\n    // Keep the same function ID so we can remove it later\n    newFunc.guid = fn.guid;\n\n    this.on(target, type, newFunc);\n  }\n\n  return this;\n};\n\n/**\n * Trigger an event on an element\n *\n *     myComponent.trigger('eventName');\n *     myComponent.trigger({'type':'eventName'});\n *\n * @param  {Event|Object|String} event  A string (the type) or an event object with a type attribute\n * @return {vjs.Component}       self\n */\nvjs.Component.prototype.trigger = function(event){\n  vjs.trigger(this.el_, event);\n  return this;\n};\n\n/* Ready\n================================================================================ */\n/**\n * Is the component loaded\n * This can mean different things depending on the component.\n *\n * @private\n * @type {Boolean}\n */\nvjs.Component.prototype.isReady_;\n\n/**\n * Trigger ready as soon as initialization is finished\n *\n * Allows for delaying ready. Override on a sub class prototype.\n * If you set this.isReadyOnInitFinish_ it will affect all components.\n * Specially used when waiting for the Flash player to asynchronously load.\n *\n * @type {Boolean}\n * @private\n */\nvjs.Component.prototype.isReadyOnInitFinish_ = true;\n\n/**\n * List of ready listeners\n *\n * @type {Array}\n * @private\n */\nvjs.Component.prototype.readyQueue_;\n\n/**\n * Bind a listener to the component's ready state\n *\n * Different from event listeners in that if the ready event has already happened\n * it will trigger the function immediately.\n *\n * @param  {Function} fn Ready listener\n * @return {vjs.Component}\n */\nvjs.Component.prototype.ready = function(fn){\n  if (fn) {\n    if (this.isReady_) {\n      fn.call(this);\n    } else {\n      if (this.readyQueue_ === undefined) {\n        this.readyQueue_ = [];\n      }\n      this.readyQueue_.push(fn);\n    }\n  }\n  return this;\n};\n\n/**\n * Trigger the ready listeners\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.triggerReady = function(){\n  this.isReady_ = true;\n\n  var readyQueue = this.readyQueue_;\n\n  if (readyQueue && readyQueue.length > 0) {\n\n    for (var i = 0, j = readyQueue.length; i < j; i++) {\n      readyQueue[i].call(this);\n    }\n\n    // Reset Ready Queue\n    this.readyQueue_ = [];\n\n    // Allow for using event listeners also, in case you want to do something everytime a source is ready.\n    this.trigger('ready');\n  }\n};\n\n/* Display\n============================================================================= */\n\n/**\n * Check if a component's element has a CSS class name\n *\n * @param {String} classToCheck Classname to check\n * @return {vjs.Component}\n */\nvjs.Component.prototype.hasClass = function(classToCheck){\n  return vjs.hasClass(this.el_, classToCheck);\n};\n\n/**\n * Add a CSS class name to the component's element\n *\n * @param {String} classToAdd Classname to add\n * @return {vjs.Component}\n */\nvjs.Component.prototype.addClass = function(classToAdd){\n  vjs.addClass(this.el_, classToAdd);\n  return this;\n};\n\n/**\n * Remove a CSS class name from the component's element\n *\n * @param {String} classToRemove Classname to remove\n * @return {vjs.Component}\n */\nvjs.Component.prototype.removeClass = function(classToRemove){\n  vjs.removeClass(this.el_, classToRemove);\n  return this;\n};\n\n/**\n * Show the component element if hidden\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.show = function(){\n  this.removeClass('vjs-hidden');\n  return this;\n};\n\n/**\n * Hide the component element if currently showing\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.hide = function(){\n  this.addClass('vjs-hidden');\n  return this;\n};\n\n/**\n * Lock an item in its visible state\n * To be used with fadeIn/fadeOut.\n *\n * @return {vjs.Component}\n * @private\n */\nvjs.Component.prototype.lockShowing = function(){\n  this.addClass('vjs-lock-showing');\n  return this;\n};\n\n/**\n * Unlock an item to be hidden\n * To be used with fadeIn/fadeOut.\n *\n * @return {vjs.Component}\n * @private\n */\nvjs.Component.prototype.unlockShowing = function(){\n  this.removeClass('vjs-lock-showing');\n  return this;\n};\n\n/**\n * Disable component by making it unshowable\n *\n * Currently private because we're moving towards more css-based states.\n * @private\n */\nvjs.Component.prototype.disable = function(){\n  this.hide();\n  this.show = function(){};\n};\n\n/**\n * Set or get the width of the component (CSS values)\n *\n * Setting the video tag dimension values only works with values in pixels.\n * Percent values will not work.\n * Some percents can be used, but width()/height() will return the number + %,\n * not the actual computed width/height.\n *\n * @param  {Number|String=} num   Optional width number\n * @param  {Boolean} skipListeners Skip the 'resize' event trigger\n * @return {vjs.Component} This component, when setting the width\n * @return {Number|String} The width, when getting\n */\nvjs.Component.prototype.width = function(num, skipListeners){\n  return this.dimension('width', num, skipListeners);\n};\n\n/**\n * Get or set the height of the component (CSS values)\n *\n * Setting the video tag dimension values only works with values in pixels.\n * Percent values will not work.\n * Some percents can be used, but width()/height() will return the number + %,\n * not the actual computed width/height.\n *\n * @param  {Number|String=} num     New component height\n * @param  {Boolean=} skipListeners Skip the resize event trigger\n * @return {vjs.Component} This component, when setting the height\n * @return {Number|String} The height, when getting\n */\nvjs.Component.prototype.height = function(num, skipListeners){\n  return this.dimension('height', num, skipListeners);\n};\n\n/**\n * Set both width and height at the same time\n *\n * @param  {Number|String} width\n * @param  {Number|String} height\n * @return {vjs.Component} The component\n */\nvjs.Component.prototype.dimensions = function(width, height){\n  // Skip resize listeners on width for optimization\n  return this.width(width, true).height(height);\n};\n\n/**\n * Get or set width or height\n *\n * This is the shared code for the width() and height() methods.\n * All for an integer, integer + 'px' or integer + '%';\n *\n * Known issue: Hidden elements officially have a width of 0. We're defaulting\n * to the style.width value and falling back to computedStyle which has the\n * hidden element issue. Info, but probably not an efficient fix:\n * http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/\n *\n * @param  {String} widthOrHeight  'width' or 'height'\n * @param  {Number|String=} num     New dimension\n * @param  {Boolean=} skipListeners Skip resize event trigger\n * @return {vjs.Component} The component if a dimension was set\n * @return {Number|String} The dimension if nothing was set\n * @private\n */\nvjs.Component.prototype.dimension = function(widthOrHeight, num, skipListeners){\n  if (num !== undefined) {\n    if (num === null || vjs.isNaN(num)) {\n      num = 0;\n    }\n\n    // Check if using css width/height (% or px) and adjust\n    if ((''+num).indexOf('%') !== -1 || (''+num).indexOf('px') !== -1) {\n      this.el_.style[widthOrHeight] = num;\n    } else if (num === 'auto') {\n      this.el_.style[widthOrHeight] = '';\n    } else {\n      this.el_.style[widthOrHeight] = num+'px';\n    }\n\n    // skipListeners allows us to avoid triggering the resize event when setting both width and height\n    if (!skipListeners) { this.trigger('resize'); }\n\n    // Return component\n    return this;\n  }\n\n  // Not setting a value, so getting it\n  // Make sure element exists\n  if (!this.el_) return 0;\n\n  // Get dimension value from style\n  var val = this.el_.style[widthOrHeight];\n  var pxIndex = val.indexOf('px');\n  if (pxIndex !== -1) {\n    // Return the pixel value with no 'px'\n    return parseInt(val.slice(0,pxIndex), 10);\n\n  // No px so using % or no style was set, so falling back to offsetWidth/height\n  // If component has display:none, offset will return 0\n  // TODO: handle display:none and no dimension style using px\n  } else {\n\n    return parseInt(this.el_['offset'+vjs.capitalize(widthOrHeight)], 10);\n\n    // ComputedStyle version.\n    // Only difference is if the element is hidden it will return\n    // the percent value (e.g. '100%'')\n    // instead of zero like offsetWidth returns.\n    // var val = vjs.getComputedStyleValue(this.el_, widthOrHeight);\n    // var pxIndex = val.indexOf('px');\n\n    // if (pxIndex !== -1) {\n    //   return val.slice(0, pxIndex);\n    // } else {\n    //   return val;\n    // }\n  }\n};\n\n/**\n * Fired when the width and/or height of the component changes\n * @event resize\n */\nvjs.Component.prototype.onResize;\n\n/**\n * Emit 'tap' events when touch events are supported\n *\n * This is used to support toggling the controls through a tap on the video.\n *\n * We're requiring them to be enabled because otherwise every component would\n * have this extra overhead unnecessarily, on mobile devices where extra\n * overhead is especially bad.\n * @private\n */\nvjs.Component.prototype.emitTapEvents = function(){\n  var touchStart, firstTouch, touchTime, couldBeTap, noTap,\n      xdiff, ydiff, touchDistance, tapMovementThreshold, touchTimeThreshold;\n\n  // Track the start time so we can determine how long the touch lasted\n  touchStart = 0;\n  firstTouch = null;\n\n  // Maximum movement allowed during a touch event to still be considered a tap\n  // Other popular libs use anywhere from 2 (hammer.js) to 15, so 10 seems like a nice, round number.\n  tapMovementThreshold = 10;\n\n  // The maximum length a touch can be while still being considered a tap\n  touchTimeThreshold = 200;\n\n  this.on('touchstart', function(event) {\n    // If more than one finger, don't consider treating this as a click\n    if (event.touches.length === 1) {\n      firstTouch = vjs.obj.copy(event.touches[0]);\n      // Record start time so we can detect a tap vs. \"touch and hold\"\n      touchStart = new Date().getTime();\n      // Reset couldBeTap tracking\n      couldBeTap = true;\n    }\n  });\n\n  this.on('touchmove', function(event) {\n    // If more than one finger, don't consider treating this as a click\n    if (event.touches.length > 1) {\n      couldBeTap = false;\n    } else if (firstTouch) {\n      // Some devices will throw touchmoves for all but the slightest of taps.\n      // So, if we moved only a small distance, this could still be a tap\n      xdiff = event.touches[0].pageX - firstTouch.pageX;\n      ydiff = event.touches[0].pageY - firstTouch.pageY;\n      touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n      if (touchDistance > tapMovementThreshold) {\n        couldBeTap = false;\n      }\n    }\n  });\n\n  noTap = function(){\n    couldBeTap = false;\n  };\n  // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n  this.on('touchleave', noTap);\n  this.on('touchcancel', noTap);\n\n  // When the touch ends, measure how long it took and trigger the appropriate\n  // event\n  this.on('touchend', function(event) {\n    firstTouch = null;\n    // Proceed only if the touchmove/leave/cancel event didn't happen\n    if (couldBeTap === true) {\n      // Measure how long the touch lasted\n      touchTime = new Date().getTime() - touchStart;\n      // Make sure the touch was less than the threshold to be considered a tap\n      if (touchTime < touchTimeThreshold) {\n        event.preventDefault(); // Don't let browser turn this into a click\n        this.trigger('tap');\n        // It may be good to copy the touchend event object and change the\n        // type to tap, if the other event properties aren't exact after\n        // vjs.fixEvent runs (e.g. event.target)\n      }\n    }\n  });\n};\n\n/**\n * Report user touch activity when touch events occur\n *\n * User activity is used to determine when controls should show/hide. It's\n * relatively simple when it comes to mouse events, because any mouse event\n * should show the controls. So we capture mouse events that bubble up to the\n * player and report activity when that happens.\n *\n * With touch events it isn't as easy. We can't rely on touch events at the\n * player level, because a tap (touchstart + touchend) on the video itself on\n * mobile devices is meant to turn controls off (and on). User activity is\n * checked asynchronously, so what could happen is a tap event on the video\n * turns the controls off, then the touchend event bubbles up to the player,\n * which if it reported user activity, would turn the controls right back on.\n * (We also don't want to completely block touch events from bubbling up)\n *\n * Also a touchmove, touch+hold, and anything other than a tap is not supposed\n * to turn the controls back on on a mobile device.\n *\n * Here we're setting the default component behavior to report user activity\n * whenever touch events happen, and this can be turned off by components that\n * want touch events to act differently.\n */\nvjs.Component.prototype.enableTouchActivity = function() {\n  var report, touchHolding, touchEnd;\n\n  // Don't continue if the root player doesn't support reporting user activity\n  if (!this.player().reportUserActivity) {\n    return;\n  }\n\n  // listener for reporting that the user is active\n  report = vjs.bind(this.player(), this.player().reportUserActivity);\n\n  this.on('touchstart', function() {\n    report();\n    // For as long as the they are touching the device or have their mouse down,\n    // we consider them active even if they're not moving their finger or mouse.\n    // So we want to continue to update that they are active\n    this.clearInterval(touchHolding);\n    // report at the same interval as activityCheck\n    touchHolding = this.setInterval(report, 250);\n  });\n\n  touchEnd = function(event) {\n    report();\n    // stop the interval that maintains activity if the touch is holding\n    this.clearInterval(touchHolding);\n  };\n\n  this.on('touchmove', report);\n  this.on('touchend', touchEnd);\n  this.on('touchcancel', touchEnd);\n};\n\n/**\n * Creates timeout and sets up disposal automatically.\n * @param {Function} fn The function to run after the timeout.\n * @param {Number} timeout Number of ms to delay before executing specified function.\n * @return {Number} Returns the timeout ID\n */\nvjs.Component.prototype.setTimeout = function(fn, timeout) {\n  fn = vjs.bind(this, fn);\n\n  // window.setTimeout would be preferable here, but due to some bizarre issue with Sinon and/or Phantomjs, we can't.\n  var timeoutId = setTimeout(fn, timeout);\n\n  var disposeFn = function() {\n    this.clearTimeout(timeoutId);\n  };\n\n  disposeFn.guid = 'vjs-timeout-'+ timeoutId;\n\n  this.on('dispose', disposeFn);\n\n  return timeoutId;\n};\n\n\n/**\n * Clears a timeout and removes the associated dispose listener\n * @param {Number} timeoutId The id of the timeout to clear\n * @return {Number} Returns the timeout ID\n */\nvjs.Component.prototype.clearTimeout = function(timeoutId) {\n  clearTimeout(timeoutId);\n\n  var disposeFn = function(){};\n  disposeFn.guid = 'vjs-timeout-'+ timeoutId;\n\n  this.off('dispose', disposeFn);\n\n  return timeoutId;\n};\n\n/**\n * Creates an interval and sets up disposal automatically.\n * @param {Function} fn The function to run every N seconds.\n * @param {Number} interval Number of ms to delay before executing specified function.\n * @return {Number} Returns the interval ID\n */\nvjs.Component.prototype.setInterval = function(fn, interval) {\n  fn = vjs.bind(this, fn);\n\n  var intervalId = setInterval(fn, interval);\n\n  var disposeFn = function() {\n    this.clearInterval(intervalId);\n  };\n\n  disposeFn.guid = 'vjs-interval-'+ intervalId;\n\n  this.on('dispose', disposeFn);\n\n  return intervalId;\n};\n\n/**\n * Clears an interval and removes the associated dispose listener\n * @param {Number} intervalId The id of the interval to clear\n * @return {Number} Returns the interval ID\n */\nvjs.Component.prototype.clearInterval = function(intervalId) {\n  clearInterval(intervalId);\n\n  var disposeFn = function(){};\n  disposeFn.guid = 'vjs-interval-'+ intervalId;\n\n  this.off('dispose', disposeFn);\n\n  return intervalId;\n};\n/* Button - Base class for all buttons\n================================================================================ */\n/**\n * Base class for all buttons\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.Button = vjs.Component.extend({\n  /**\n   * @constructor\n   * @inheritDoc\n   */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.emitTapEvents();\n\n    this.on('tap', this.onClick);\n    this.on('click', this.onClick);\n    this.on('focus', this.onFocus);\n    this.on('blur', this.onBlur);\n  }\n});\n\nvjs.Button.prototype.createEl = function(type, props){\n  var el;\n\n  // Add standard Aria and Tabindex info\n  props = vjs.obj.merge({\n    className: this.buildCSSClass(),\n    'role': 'button',\n    'aria-live': 'polite', // let the screen reader user know that the text of the button may change\n    tabIndex: 0\n  }, props);\n\n  el = vjs.Component.prototype.createEl.call(this, type, props);\n\n  // if innerHTML hasn't been overridden (bigPlayButton), add content elements\n  if (!props.innerHTML) {\n    this.contentEl_ = vjs.createEl('div', {\n      className: 'vjs-control-content'\n    });\n\n    this.controlText_ = vjs.createEl('span', {\n      className: 'vjs-control-text',\n      innerHTML: this.localize(this.buttonText) || 'Need Text'\n    });\n\n    this.contentEl_.appendChild(this.controlText_);\n    el.appendChild(this.contentEl_);\n  }\n\n  return el;\n};\n\nvjs.Button.prototype.buildCSSClass = function(){\n  // TODO: Change vjs-control to vjs-button?\n  return 'vjs-control ' + vjs.Component.prototype.buildCSSClass.call(this);\n};\n\n  // Click - Override with specific functionality for button\nvjs.Button.prototype.onClick = function(){};\n\n  // Focus - Add keyboard functionality to element\nvjs.Button.prototype.onFocus = function(){\n  vjs.on(document, 'keydown', vjs.bind(this, this.onKeyPress));\n};\n\n  // KeyPress (document level) - Trigger click when keys are pressed\nvjs.Button.prototype.onKeyPress = function(event){\n  // Check for space bar (32) or enter (13) keys\n  if (event.which == 32 || event.which == 13) {\n    event.preventDefault();\n    this.onClick();\n  }\n};\n\n// Blur - Remove keyboard triggers\nvjs.Button.prototype.onBlur = function(){\n  vjs.off(document, 'keydown', vjs.bind(this, this.onKeyPress));\n};\n/* Slider\n================================================================================ */\n/**\n * The base functionality for sliders like the volume bar and seek bar\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.Slider = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // Set property names to bar and handle to match with the child Slider class is looking for\n    this.bar = this.getChild(this.options_['barName']);\n    this.handle = this.getChild(this.options_['handleName']);\n\n    this.on('mousedown', this.onMouseDown);\n    this.on('touchstart', this.onMouseDown);\n    this.on('focus', this.onFocus);\n    this.on('blur', this.onBlur);\n    this.on('click', this.onClick);\n\n    this.on(player, 'controlsvisible', this.update);\n    this.on(player, this.playerEvent, this.update);\n  }\n});\n\nvjs.Slider.prototype.createEl = function(type, props) {\n  props = props || {};\n  // Add the slider element class to all sub classes\n  props.className = props.className + ' vjs-slider';\n  props = vjs.obj.merge({\n    'role': 'slider',\n    'aria-valuenow': 0,\n    'aria-valuemin': 0,\n    'aria-valuemax': 100,\n    tabIndex: 0\n  }, props);\n\n  return vjs.Component.prototype.createEl.call(this, type, props);\n};\n\nvjs.Slider.prototype.onMouseDown = function(event){\n  event.preventDefault();\n  vjs.blockTextSelection();\n  this.addClass('vjs-sliding');\n\n  this.on(document, 'mousemove', this.onMouseMove);\n  this.on(document, 'mouseup', this.onMouseUp);\n  this.on(document, 'touchmove', this.onMouseMove);\n  this.on(document, 'touchend', this.onMouseUp);\n\n  this.onMouseMove(event);\n};\n\n// To be overridden by a subclass\nvjs.Slider.prototype.onMouseMove = function(){};\n\nvjs.Slider.prototype.onMouseUp = function() {\n  vjs.unblockTextSelection();\n  this.removeClass('vjs-sliding');\n\n  this.off(document, 'mousemove', this.onMouseMove);\n  this.off(document, 'mouseup', this.onMouseUp);\n  this.off(document, 'touchmove', this.onMouseMove);\n  this.off(document, 'touchend', this.onMouseUp);\n\n  this.update();\n};\n\nvjs.Slider.prototype.update = function(){\n  // In VolumeBar init we have a setTimeout for update that pops and update to the end of the\n  // execution stack. The player is destroyed before then update will cause an error\n  if (!this.el_) return;\n\n  // If scrubbing, we could use a cached value to make the handle keep up with the user's mouse.\n  // On HTML5 browsers scrubbing is really smooth, but some flash players are slow, so we might want to utilize this later.\n  // var progress =  (this.player_.scrubbing) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n  var barProgress,\n      progress = this.getPercent(),\n      handle = this.handle,\n      bar = this.bar;\n\n  // Protect against no duration and other division issues\n  if (typeof progress !== 'number' ||\n      progress !== progress ||\n      progress < 0 ||\n      progress === Infinity) {\n        progress = 0;\n  }\n\n  barProgress = progress;\n\n  // If there is a handle, we need to account for the handle in our calculation for progress bar\n  // so that it doesn't fall short of or extend past the handle.\n  if (handle) {\n\n    var box = this.el_,\n        boxWidth = box.offsetWidth,\n\n        handleWidth = handle.el().offsetWidth,\n\n        // The width of the handle in percent of the containing box\n        // In IE, widths may not be ready yet causing NaN\n        handlePercent = (handleWidth) ? handleWidth / boxWidth : 0,\n\n        // Get the adjusted size of the box, considering that the handle's center never touches the left or right side.\n        // There is a margin of half the handle's width on both sides.\n        boxAdjustedPercent = 1 - handlePercent,\n\n        // Adjust the progress that we'll use to set widths to the new adjusted box width\n        adjustedProgress = progress * boxAdjustedPercent;\n\n    // The bar does reach the left side, so we need to account for this in the bar's width\n    barProgress = adjustedProgress + (handlePercent / 2);\n\n    // Move the handle from the left based on the adjected progress\n    handle.el().style.left = vjs.round(adjustedProgress * 100, 2) + '%';\n  }\n\n  // Set the new bar width\n  if (bar) {\n    bar.el().style.width = vjs.round(barProgress * 100, 2) + '%';\n  }\n};\n\nvjs.Slider.prototype.calculateDistance = function(event){\n  var el, box, boxX, boxY, boxW, boxH, handle, pageX, pageY;\n\n  el = this.el_;\n  box = vjs.findPosition(el);\n  boxW = boxH = el.offsetWidth;\n  handle = this.handle;\n\n  if (this.options()['vertical']) {\n    boxY = box.top;\n\n    if (event.changedTouches) {\n      pageY = event.changedTouches[0].pageY;\n    } else {\n      pageY = event.pageY;\n    }\n\n    if (handle) {\n      var handleH = handle.el().offsetHeight;\n      // Adjusted X and Width, so handle doesn't go outside the bar\n      boxY = boxY + (handleH / 2);\n      boxH = boxH - handleH;\n    }\n\n    // Percent that the click is through the adjusted area\n    return Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n\n  } else {\n    boxX = box.left;\n\n    if (event.changedTouches) {\n      pageX = event.changedTouches[0].pageX;\n    } else {\n      pageX = event.pageX;\n    }\n\n    if (handle) {\n      var handleW = handle.el().offsetWidth;\n\n      // Adjusted X and Width, so handle doesn't go outside the bar\n      boxX = boxX + (handleW / 2);\n      boxW = boxW - handleW;\n    }\n\n    // Percent that the click is through the adjusted area\n    return Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n  }\n};\n\nvjs.Slider.prototype.onFocus = function(){\n  this.on(document, 'keydown', this.onKeyPress);\n};\n\nvjs.Slider.prototype.onKeyPress = function(event){\n  if (event.which == 37 || event.which == 40) { // Left and Down Arrows\n    event.preventDefault();\n    this.stepBack();\n  } else if (event.which == 38 || event.which == 39) { // Up and Right Arrows\n    event.preventDefault();\n    this.stepForward();\n  }\n};\n\nvjs.Slider.prototype.onBlur = function(){\n  this.off(document, 'keydown', this.onKeyPress);\n};\n\n/**\n * Listener for click events on slider, used to prevent clicks\n *   from bubbling up to parent elements like button menus.\n * @param  {Object} event Event object\n */\nvjs.Slider.prototype.onClick = function(event){\n  event.stopImmediatePropagation();\n  event.preventDefault();\n};\n\n/**\n * SeekBar Behavior includes play progress bar, and seek handle\n * Needed so it can determine seek position based on handle position/size\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.SliderHandle = vjs.Component.extend();\n\n/**\n * Default value of the slider\n *\n * @type {Number}\n * @private\n */\nvjs.SliderHandle.prototype.defaultValue = 0;\n\n/** @inheritDoc */\nvjs.SliderHandle.prototype.createEl = function(type, props) {\n  props = props || {};\n  // Add the slider element class to all sub classes\n  props.className = props.className + ' vjs-slider-handle';\n  props = vjs.obj.merge({\n    innerHTML: '<span class=\"vjs-control-text\">'+this.defaultValue+'</span>'\n  }, props);\n\n  return vjs.Component.prototype.createEl.call(this, 'div', props);\n};\n/* Menu\n================================================================================ */\n/**\n * The Menu component is used to build pop up menus, including subtitle and\n * captions selection menus.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.Menu = vjs.Component.extend();\n\n/**\n * Add a menu item to the menu\n * @param {Object|String} component Component or component type to add\n */\nvjs.Menu.prototype.addItem = function(component){\n  this.addChild(component);\n  component.on('click', vjs.bind(this, function(){\n    this.unlockShowing();\n  }));\n};\n\n/** @inheritDoc */\nvjs.Menu.prototype.createEl = function(){\n  var contentElType = this.options().contentElType || 'ul';\n  this.contentEl_ = vjs.createEl(contentElType, {\n    className: 'vjs-menu-content'\n  });\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    append: this.contentEl_,\n    className: 'vjs-menu'\n  });\n  el.appendChild(this.contentEl_);\n\n  // Prevent clicks from bubbling up. Needed for Menu Buttons,\n  // where a click on the parent is significant\n  vjs.on(el, 'click', function(event){\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  });\n\n  return el;\n};\n\n/**\n * The component for a menu item. `<li>`\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.MenuItem = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n    this.selected(options['selected']);\n  }\n});\n\n/** @inheritDoc */\nvjs.MenuItem.prototype.createEl = function(type, props){\n  return vjs.Button.prototype.createEl.call(this, 'li', vjs.obj.merge({\n    className: 'vjs-menu-item',\n    innerHTML: this.localize(this.options_['label'])\n  }, props));\n};\n\n/**\n * Handle a click on the menu item, and set it to selected\n */\nvjs.MenuItem.prototype.onClick = function(){\n  this.selected(true);\n};\n\n/**\n * Set this menu item as selected or not\n * @param  {Boolean} selected\n */\nvjs.MenuItem.prototype.selected = function(selected){\n  if (selected) {\n    this.addClass('vjs-selected');\n    this.el_.setAttribute('aria-selected',true);\n  } else {\n    this.removeClass('vjs-selected');\n    this.el_.setAttribute('aria-selected',false);\n  }\n};\n\n\n/**\n * A button class with a popup menu\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.MenuButton = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.update();\n\n    this.on('keydown', this.onKeyPress);\n    this.el_.setAttribute('aria-haspopup', true);\n    this.el_.setAttribute('role', 'button');\n  }\n});\n\nvjs.MenuButton.prototype.update = function() {\n  var menu = this.createMenu();\n\n  if (this.menu) {\n    this.removeChild(this.menu);\n  }\n\n  this.menu = menu;\n  this.addChild(menu);\n\n  if (this.items && this.items.length === 0) {\n    this.hide();\n  } else if (this.items && this.items.length > 1) {\n    this.show();\n  }\n};\n\n/**\n * Track the state of the menu button\n * @type {Boolean}\n * @private\n */\nvjs.MenuButton.prototype.buttonPressed_ = false;\n\nvjs.MenuButton.prototype.createMenu = function(){\n  var menu = new vjs.Menu(this.player_);\n\n  // Add a title list item to the top\n  if (this.options().title) {\n    menu.contentEl().appendChild(vjs.createEl('li', {\n      className: 'vjs-menu-title',\n      innerHTML: vjs.capitalize(this.options().title),\n      tabindex: -1\n    }));\n  }\n\n  this.items = this['createItems']();\n\n  if (this.items) {\n    // Add menu items to the menu\n    for (var i = 0; i < this.items.length; i++) {\n      menu.addItem(this.items[i]);\n    }\n  }\n\n  return menu;\n};\n\n/**\n * Create the list of menu items. Specific to each subclass.\n */\nvjs.MenuButton.prototype.createItems = function(){};\n\n/** @inheritDoc */\nvjs.MenuButton.prototype.buildCSSClass = function(){\n  return this.className + ' vjs-menu-button ' + vjs.Button.prototype.buildCSSClass.call(this);\n};\n\n// Focus - Add keyboard functionality to element\n// This function is not needed anymore. Instead, the keyboard functionality is handled by\n// treating the button as triggering a submenu. When the button is pressed, the submenu\n// appears. Pressing the button again makes the submenu disappear.\nvjs.MenuButton.prototype.onFocus = function(){};\n// Can't turn off list display that we turned on with focus, because list would go away.\nvjs.MenuButton.prototype.onBlur = function(){};\n\nvjs.MenuButton.prototype.onClick = function(){\n  // When you click the button it adds focus, which will show the menu indefinitely.\n  // So we'll remove focus when the mouse leaves the button.\n  // Focus is needed for tab navigation.\n  this.one('mouseout', vjs.bind(this, function(){\n    this.menu.unlockShowing();\n    this.el_.blur();\n  }));\n  if (this.buttonPressed_){\n    this.unpressButton();\n  } else {\n    this.pressButton();\n  }\n};\n\nvjs.MenuButton.prototype.onKeyPress = function(event){\n\n  // Check for space bar (32) or enter (13) keys\n  if (event.which == 32 || event.which == 13) {\n    if (this.buttonPressed_){\n      this.unpressButton();\n    } else {\n      this.pressButton();\n    }\n    event.preventDefault();\n  // Check for escape (27) key\n  } else if (event.which == 27){\n    if (this.buttonPressed_){\n      this.unpressButton();\n    }\n    event.preventDefault();\n  }\n};\n\nvjs.MenuButton.prototype.pressButton = function(){\n  this.buttonPressed_ = true;\n  this.menu.lockShowing();\n  this.el_.setAttribute('aria-pressed', true);\n  if (this.items && this.items.length > 0) {\n    this.items[0].el().focus(); // set the focus to the title of the submenu\n  }\n};\n\nvjs.MenuButton.prototype.unpressButton = function(){\n  this.buttonPressed_ = false;\n  this.menu.unlockShowing();\n  this.el_.setAttribute('aria-pressed', false);\n};\n/**\n * Custom MediaError to mimic the HTML5 MediaError\n * @param {Number} code The media error code\n */\nvjs.MediaError = function(code){\n  if (typeof code === 'number') {\n    this.code = code;\n  } else if (typeof code === 'string') {\n    // default code is zero, so this is a custom error\n    this.message = code;\n  } else if (typeof code === 'object') { // object\n    vjs.obj.merge(this, code);\n  }\n\n  if (!this.message) {\n    this.message = vjs.MediaError.defaultMessages[this.code] || '';\n  }\n};\n\n/**\n * The error code that refers two one of the defined\n * MediaError types\n * @type {Number}\n */\nvjs.MediaError.prototype.code = 0;\n\n/**\n * An optional message to be shown with the error.\n * Message is not part of the HTML5 video spec\n * but allows for more informative custom errors.\n * @type {String}\n */\nvjs.MediaError.prototype.message = '';\n\n/**\n * An optional status code that can be set by plugins\n * to allow even more detail about the error.\n * For example the HLS plugin might provide the specific\n * HTTP status code that was returned when the error\n * occurred, then allowing a custom error overlay\n * to display more information.\n * @type {[type]}\n */\nvjs.MediaError.prototype.status = null;\n\nvjs.MediaError.errorTypes = [\n  'MEDIA_ERR_CUSTOM',            // = 0\n  'MEDIA_ERR_ABORTED',           // = 1\n  'MEDIA_ERR_NETWORK',           // = 2\n  'MEDIA_ERR_DECODE',            // = 3\n  'MEDIA_ERR_SRC_NOT_SUPPORTED', // = 4\n  'MEDIA_ERR_ENCRYPTED'          // = 5\n];\n\nvjs.MediaError.defaultMessages = {\n  1: 'You aborted the video playback',\n  2: 'A network error caused the video download to fail part-way.',\n  3: 'The video playback was aborted due to a corruption problem or because the video used features your browser did not support.',\n  4: 'The video could not be loaded, either because the server or network failed or because the format is not supported.',\n  5: 'The video is encrypted and we do not have the keys to decrypt it.'\n};\n\n// Add types as properties on MediaError\n// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\nfor (var errNum = 0; errNum < vjs.MediaError.errorTypes.length; errNum++) {\n  vjs.MediaError[vjs.MediaError.errorTypes[errNum]] = errNum;\n  // values should be accessible on both the class and instance\n  vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]] = errNum;\n}\n(function(){\n  var apiMap, specApi, browserApi, i;\n\n  /**\n   * Store the browser-specific methods for the fullscreen API\n   * @type {Object|undefined}\n   * @private\n   */\n  vjs.browser.fullscreenAPI;\n\n  // browser API methods\n  // map approach from Screenful.js - https://github.com/sindresorhus/screenfull.js\n  apiMap = [\n    // Spec: https://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html\n    [\n      'requestFullscreen',\n      'exitFullscreen',\n      'fullscreenElement',\n      'fullscreenEnabled',\n      'fullscreenchange',\n      'fullscreenerror'\n    ],\n    // WebKit\n    [\n      'webkitRequestFullscreen',\n      'webkitExitFullscreen',\n      'webkitFullscreenElement',\n      'webkitFullscreenEnabled',\n      'webkitfullscreenchange',\n      'webkitfullscreenerror'\n    ],\n    // Old WebKit (Safari 5.1)\n    [\n      'webkitRequestFullScreen',\n      'webkitCancelFullScreen',\n      'webkitCurrentFullScreenElement',\n      'webkitCancelFullScreen',\n      'webkitfullscreenchange',\n      'webkitfullscreenerror'\n    ],\n    // Mozilla\n    [\n      'mozRequestFullScreen',\n      'mozCancelFullScreen',\n      'mozFullScreenElement',\n      'mozFullScreenEnabled',\n      'mozfullscreenchange',\n      'mozfullscreenerror'\n    ],\n    // Microsoft\n    [\n      'msRequestFullscreen',\n      'msExitFullscreen',\n      'msFullscreenElement',\n      'msFullscreenEnabled',\n      'MSFullscreenChange',\n      'MSFullscreenError'\n    ]\n  ];\n\n  specApi = apiMap[0];\n\n  // determine the supported set of functions\n  for (i=0; i<apiMap.length; i++) {\n    // check for exitFullscreen function\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  }\n\n  // map the browser API names to the spec API names\n  // or leave vjs.browser.fullscreenAPI undefined\n  if (browserApi) {\n    vjs.browser.fullscreenAPI = {};\n\n    for (i=0; i<browserApi.length; i++) {\n      vjs.browser.fullscreenAPI[specApi[i]] = browserApi[i];\n    }\n  }\n\n})();\n/**\n * An instance of the `vjs.Player` class is created when any of the Video.js setup methods are used to initialize a video.\n *\n * ```js\n * var myPlayer = videojs('example_video_1');\n * ```\n *\n * In the following example, the `data-setup` attribute tells the Video.js library to create a player instance when the library is ready.\n *\n * ```html\n * <video id=\"example_video_1\" data-setup='{}' controls>\n *   <source src=\"my-source.mp4\" type=\"video/mp4\">\n * </video>\n * ```\n *\n * After an instance has been created it can be accessed globally using `Video('example_video_1')`.\n *\n * @class\n * @extends vjs.Component\n */\nvjs.Player = vjs.Component.extend({\n\n  /**\n   * player's constructor function\n   *\n   * @constructs\n   * @method init\n   * @param {Element} tag        The original video tag used for configuring options\n   * @param {Object=} options    Player options\n   * @param {Function=} ready    Ready callback function\n   */\n  init: function(tag, options, ready){\n    this.tag = tag; // Store the original tag used to set options\n\n    // Make sure tag ID exists\n    tag.id = tag.id || 'vjs_video_' + vjs.guid++;\n\n    // Store the tag attributes used to restore html5 element\n    this.tagAttributes = tag && vjs.getElementAttributes(tag);\n\n    // Set Options\n    // The options argument overrides options set in the video tag\n    // which overrides globally set options.\n    // This latter part coincides with the load order\n    // (tag must exist before Player)\n    options = vjs.obj.merge(this.getTagSettings(tag), options);\n\n    // Update Current Language\n    this.language_ = options['language'] || vjs.options['language'];\n\n    // Update Supported Languages\n    this.languages_ = options['languages'] || vjs.options['languages'];\n\n    // Cache for video property values.\n    this.cache_ = {};\n\n    // Set poster\n    this.poster_ = options['poster'] || '';\n\n    // Set controls\n    this.controls_ = !!options['controls'];\n    // Original tag settings stored in options\n    // now remove immediately so native controls don't flash.\n    // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n    tag.controls = false;\n\n    // we don't want the player to report touch activity on itself\n    // see enableTouchActivity in Component\n    options.reportTouchActivity = false;\n\n    // Set isAudio based on whether or not an audio tag was used\n    this.isAudio(this.tag.nodeName.toLowerCase() === 'audio');\n\n    // Run base component initializing with new options.\n    // Builds the element through createEl()\n    // Inits and embeds any child components in opts\n    vjs.Component.call(this, this, options, ready);\n\n    // Update controls className. Can't do this when the controls are initially\n    // set because the element doesn't exist yet.\n    if (this.controls()) {\n      this.addClass('vjs-controls-enabled');\n    } else {\n      this.addClass('vjs-controls-disabled');\n    }\n\n    if (this.isAudio()) {\n      this.addClass('vjs-audio');\n    }\n\n    // TODO: Make this smarter. Toggle user state between touching/mousing\n    // using events, since devices can have both touch and mouse events.\n    // if (vjs.TOUCH_ENABLED) {\n    //   this.addClass('vjs-touch-enabled');\n    // }\n\n    // Make player easily findable by ID\n    vjs.players[this.id_] = this;\n\n    if (options['plugins']) {\n      vjs.obj.each(options['plugins'], function(key, val){\n        this[key](val);\n      }, this);\n    }\n\n    this.listenForUserActivity();\n  }\n});\n\n/**\n * The player's stored language code\n *\n * @type {String}\n * @private\n */\nvjs.Player.prototype.language_;\n\n/**\n * The player's language code\n * @param  {String} languageCode  The locale string\n * @return {String}             The locale string when getting\n * @return {vjs.Player}         self, when setting\n */\nvjs.Player.prototype.language = function (languageCode) {\n  if (languageCode === undefined) {\n    return this.language_;\n  }\n\n  this.language_ = languageCode;\n  return this;\n};\n\n/**\n * The player's stored language dictionary\n *\n * @type {Object}\n * @private\n */\nvjs.Player.prototype.languages_;\n\nvjs.Player.prototype.languages = function(){\n  return this.languages_;\n};\n\n/**\n * Player instance options, surfaced using vjs.options\n * vjs.options = vjs.Player.prototype.options_\n * Make changes in vjs.options, not here.\n * All options should use string keys so they avoid\n * renaming by closure compiler\n * @type {Object}\n * @private\n */\nvjs.Player.prototype.options_ = vjs.options;\n\n/**\n * Destroys the video player and does any necessary cleanup\n *\n *     myPlayer.dispose();\n *\n * This is especially helpful if you are dynamically adding and removing videos\n * to/from the DOM.\n */\nvjs.Player.prototype.dispose = function(){\n  this.trigger('dispose');\n  // prevent dispose from being called twice\n  this.off('dispose');\n\n  // Kill reference to this player\n  vjs.players[this.id_] = null;\n  if (this.tag && this.tag['player']) { this.tag['player'] = null; }\n  if (this.el_ && this.el_['player']) { this.el_['player'] = null; }\n\n  if (this.tech) { this.tech.dispose(); }\n\n  // Component dispose\n  vjs.Component.prototype.dispose.call(this);\n};\n\nvjs.Player.prototype.getTagSettings = function(tag){\n  var tagOptions,\n      dataSetup,\n      options = {\n        'sources': [],\n        'tracks': []\n      };\n\n  tagOptions = vjs.getElementAttributes(tag);\n  dataSetup = tagOptions['data-setup'];\n\n  // Check if data-setup attr exists.\n  if (dataSetup !== null){\n    // Parse options JSON\n    // If empty string, make it a parsable json object.\n    vjs.obj.merge(tagOptions, vjs.JSON.parse(dataSetup || '{}'));\n  }\n\n  vjs.obj.merge(options, tagOptions);\n\n  // Get tag children settings\n  if (tag.hasChildNodes()) {\n    var children, child, childName, i, j;\n\n    children = tag.childNodes;\n\n    for (i=0,j=children.length; i<j; i++) {\n      child = children[i];\n      // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n      childName = child.nodeName.toLowerCase();\n      if (childName === 'source') {\n        options['sources'].push(vjs.getElementAttributes(child));\n      } else if (childName === 'track') {\n        options['tracks'].push(vjs.getElementAttributes(child));\n      }\n    }\n  }\n\n  return options;\n};\n\nvjs.Player.prototype.createEl = function(){\n  var\n    el = this.el_ = vjs.Component.prototype.createEl.call(this, 'div'),\n    tag = this.tag,\n    attrs;\n\n  // Remove width/height attrs from tag so CSS can make it 100% width/height\n  tag.removeAttribute('width');\n  tag.removeAttribute('height');\n\n  // Copy over all the attributes from the tag, including ID and class\n  // ID will now reference player box, not the video tag\n  attrs = vjs.getElementAttributes(tag);\n  vjs.obj.each(attrs, function(attr) {\n    // workaround so we don't totally break IE7\n    // http://stackoverflow.com/questions/3653444/css-styles-not-applied-on-dynamic-elements-in-internet-explorer-7\n    if (attr == 'class') {\n      el.className = attrs[attr];\n    } else {\n      el.setAttribute(attr, attrs[attr]);\n    }\n  });\n\n  // Update tag id/class for use as HTML5 playback tech\n  // Might think we should do this after embedding in container so .vjs-tech class\n  // doesn't flash 100% width/height, but class only applies with .video-js parent\n  tag.id += '_html5_api';\n  tag.className = 'vjs-tech';\n\n  // Make player findable on elements\n  tag['player'] = el['player'] = this;\n  // Default state of video is paused\n  this.addClass('vjs-paused');\n\n  // Make box use width/height of tag, or rely on default implementation\n  // Enforce with CSS since width/height attrs don't work on divs\n  this.width(this.options_['width'], true); // (true) Skip resize listener on load\n  this.height(this.options_['height'], true);\n\n  // vjs.insertFirst seems to cause the networkState to flicker from 3 to 2, so\n  // keep track of the original for later so we can know if the source originally failed\n  tag.initNetworkState_ = tag.networkState;\n\n  // Wrap video tag in div (el/box) container\n  if (tag.parentNode) {\n    tag.parentNode.insertBefore(el, tag);\n  }\n  vjs.insertFirst(tag, el); // Breaks iPhone, fixed in HTML5 setup.\n\n  // The event listeners need to be added before the children are added\n  // in the component init because the tech (loaded with mediaLoader) may\n  // fire events, like loadstart, that these events need to capture.\n  // Long term it might be better to expose a way to do this in component.init\n  // like component.initEventListeners() that runs between el creation and\n  // adding children\n  this.el_ = el;\n  this.on('loadstart', this.onLoadStart);\n  this.on('waiting', this.onWaiting);\n  this.on(['canplay', 'canplaythrough', 'playing', 'ended'], this.onWaitEnd);\n  this.on('seeking', this.onSeeking);\n  this.on('seeked', this.onSeeked);\n  this.on('ended', this.onEnded);\n  this.on('play', this.onPlay);\n  this.on('firstplay', this.onFirstPlay);\n  this.on('pause', this.onPause);\n  this.on('progress', this.onProgress);\n  this.on('durationchange', this.onDurationChange);\n  this.on('fullscreenchange', this.onFullscreenChange);\n\n  return el;\n};\n\n// /* Media Technology (tech)\n// ================================================================================ */\n// Load/Create an instance of playback technology including element and API methods\n// And append playback element in player div.\nvjs.Player.prototype.loadTech = function(techName, source){\n\n  // Pause and remove current playback technology\n  if (this.tech) {\n    this.unloadTech();\n  }\n\n  // get rid of the HTML5 video tag as soon as we are using another tech\n  if (techName !== 'Html5' && this.tag) {\n    vjs.Html5.disposeMediaElement(this.tag);\n    this.tag = null;\n  }\n\n  this.techName = techName;\n\n  // Turn off API access because we're loading a new tech that might load asynchronously\n  this.isReady_ = false;\n\n  var techReady = function(){\n    this.player_.triggerReady();\n  };\n\n  // Grab tech-specific options from player options and add source and parent element to use.\n  var techOptions = vjs.obj.merge({ 'source': source, 'parentEl': this.el_ }, this.options_[techName.toLowerCase()]);\n\n  if (source) {\n    this.currentType_ = source.type;\n    if (source.src == this.cache_.src && this.cache_.currentTime > 0) {\n      techOptions['startTime'] = this.cache_.currentTime;\n    }\n\n    this.cache_.src = source.src;\n  }\n\n  // Initialize tech instance\n  this.tech = new window['videojs'][techName](this, techOptions);\n\n  this.tech.ready(techReady);\n};\n\nvjs.Player.prototype.unloadTech = function(){\n  this.isReady_ = false;\n\n  this.tech.dispose();\n\n  this.tech = false;\n};\n\n// There's many issues around changing the size of a Flash (or other plugin) object.\n// First is a plugin reload issue in Firefox that has been around for 11 years: https://bugzilla.mozilla.org/show_bug.cgi?id=90268\n// Then with the new fullscreen API, Mozilla and webkit browsers will reload the flash object after going to fullscreen.\n// To get around this, we're unloading the tech, caching source and currentTime values, and reloading the tech once the plugin is resized.\n// reloadTech: function(betweenFn){\n//   vjs.log('unloadingTech')\n//   this.unloadTech();\n//   vjs.log('unloadedTech')\n//   if (betweenFn) { betweenFn.call(); }\n//   vjs.log('LoadingTech')\n//   this.loadTech(this.techName, { src: this.cache_.src })\n//   vjs.log('loadedTech')\n// },\n\n// /* Player event handlers (how the player reacts to certain events)\n// ================================================================================ */\n\n/**\n * Fired when the user agent begins looking for media data\n * @event loadstart\n */\nvjs.Player.prototype.onLoadStart = function() {\n  // TODO: Update to use `emptied` event instead. See #1277.\n\n  this.removeClass('vjs-ended');\n\n  // reset the error state\n  this.error(null);\n\n  // If it's already playing we want to trigger a firstplay event now.\n  // The firstplay event relies on both the play and loadstart events\n  // which can happen in any order for a new source\n  if (!this.paused()) {\n    this.trigger('firstplay');\n  } else {\n    // reset the hasStarted state\n    this.hasStarted(false);\n  }\n};\n\nvjs.Player.prototype.hasStarted_ = false;\n\nvjs.Player.prototype.hasStarted = function(hasStarted){\n  if (hasStarted !== undefined) {\n    // only update if this is a new value\n    if (this.hasStarted_ !== hasStarted) {\n      this.hasStarted_ = hasStarted;\n      if (hasStarted) {\n        this.addClass('vjs-has-started');\n        // trigger the firstplay event if this newly has played\n        this.trigger('firstplay');\n      } else {\n        this.removeClass('vjs-has-started');\n      }\n    }\n    return this;\n  }\n  return this.hasStarted_;\n};\n\n/**\n * Fired when the player has initial duration and dimension information\n * @event loadedmetadata\n */\nvjs.Player.prototype.onLoadedMetaData;\n\n/**\n * Fired when the player has downloaded data at the current playback position\n * @event loadeddata\n */\nvjs.Player.prototype.onLoadedData;\n\n/**\n * Fired when the player has finished downloading the source data\n * @event loadedalldata\n */\nvjs.Player.prototype.onLoadedAllData;\n\n/**\n * Fired whenever the media begins or resumes playback\n * @event play\n */\nvjs.Player.prototype.onPlay = function(){\n  this.removeClass('vjs-ended');\n  this.removeClass('vjs-paused');\n  this.addClass('vjs-playing');\n\n  // hide the poster when the user hits play\n  // https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play\n  this.hasStarted(true);\n};\n\n/**\n * Fired whenever the media begins waiting\n * @event waiting\n */\nvjs.Player.prototype.onWaiting = function(){\n  this.addClass('vjs-waiting');\n};\n\n/**\n * A handler for events that signal that waiting has ended\n * which is not consistent between browsers. See #1351\n * @private\n */\nvjs.Player.prototype.onWaitEnd = function(){\n  this.removeClass('vjs-waiting');\n};\n\n/**\n * Fired whenever the player is jumping to a new time\n * @event seeking\n */\nvjs.Player.prototype.onSeeking = function(){\n  this.addClass('vjs-seeking');\n};\n\n/**\n * Fired when the player has finished jumping to a new time\n * @event seeked\n */\nvjs.Player.prototype.onSeeked = function(){\n  this.removeClass('vjs-seeking');\n};\n\n/**\n * Fired the first time a video is played\n *\n * Not part of the HLS spec, and we're not sure if this is the best\n * implementation yet, so use sparingly. If you don't have a reason to\n * prevent playback, use `myPlayer.one('play');` instead.\n *\n * @event firstplay\n */\nvjs.Player.prototype.onFirstPlay = function(){\n    //If the first starttime attribute is specified\n    //then we will start at the given offset in seconds\n    if(this.options_['starttime']){\n      this.currentTime(this.options_['starttime']);\n    }\n\n    this.addClass('vjs-has-started');\n};\n\n/**\n * Fired whenever the media has been paused\n * @event pause\n */\nvjs.Player.prototype.onPause = function(){\n  this.removeClass('vjs-playing');\n  this.addClass('vjs-paused');\n};\n\n/**\n * Fired when the current playback position has changed\n *\n * During playback this is fired every 15-250 milliseconds, depending on the\n * playback technology in use.\n * @event timeupdate\n */\nvjs.Player.prototype.onTimeUpdate;\n\n/**\n * Fired while the user agent is downloading media data\n * @event progress\n */\nvjs.Player.prototype.onProgress = function(){\n  // Add custom event for when source is finished downloading.\n  if (this.bufferedPercent() == 1) {\n    this.trigger('loadedalldata');\n  }\n};\n\n/**\n * Fired when the end of the media resource is reached (currentTime == duration)\n * @event ended\n */\nvjs.Player.prototype.onEnded = function(){\n  this.addClass('vjs-ended');\n  if (this.options_['loop']) {\n    this.currentTime(0);\n    this.play();\n  } else if (!this.paused()) {\n    this.pause();\n  }\n};\n\n/**\n * Fired when the duration of the media resource is first known or changed\n * @event durationchange\n */\nvjs.Player.prototype.onDurationChange = function(){\n  // Allows for caching value instead of asking player each time.\n  // We need to get the techGet response and check for a value so we don't\n  // accidentally cause the stack to blow up.\n  var duration = this.techGet('duration');\n  if (duration) {\n    if (duration < 0) {\n      duration = Infinity;\n    }\n    this.duration(duration);\n    // Determine if the stream is live and propagate styles down to UI.\n    if (duration === Infinity) {\n      this.addClass('vjs-live');\n    } else {\n      this.removeClass('vjs-live');\n    }\n  }\n};\n\n/**\n * Fired when the volume changes\n * @event volumechange\n */\nvjs.Player.prototype.onVolumeChange;\n\n/**\n * Fired when the player switches in or out of fullscreen mode\n * @event fullscreenchange\n */\nvjs.Player.prototype.onFullscreenChange = function() {\n  if (this.isFullscreen()) {\n    this.addClass('vjs-fullscreen');\n  } else {\n    this.removeClass('vjs-fullscreen');\n  }\n};\n\n/**\n * Fired when an error occurs\n * @event error\n */\nvjs.Player.prototype.onError;\n\n// /* Player API\n// ================================================================================ */\n\n/**\n * Object for cached values.\n * @private\n */\nvjs.Player.prototype.cache_;\n\nvjs.Player.prototype.getCache = function(){\n  return this.cache_;\n};\n\n// Pass values to the playback tech\nvjs.Player.prototype.techCall = function(method, arg){\n  // If it's not ready yet, call method when it is\n  if (this.tech && !this.tech.isReady_) {\n    this.tech.ready(function(){\n      this[method](arg);\n    });\n\n  // Otherwise call method now\n  } else {\n    try {\n      this.tech[method](arg);\n    } catch(e) {\n      vjs.log(e);\n      throw e;\n    }\n  }\n};\n\n// Get calls can't wait for the tech, and sometimes don't need to.\nvjs.Player.prototype.techGet = function(method){\n  if (this.tech && this.tech.isReady_) {\n\n    // Flash likes to die and reload when you hide or reposition it.\n    // In these cases the object methods go away and we get errors.\n    // When that happens we'll catch the errors and inform tech that it's not ready any more.\n    try {\n      return this.tech[method]();\n    } catch(e) {\n      // When building additional tech libs, an expected method may not be defined yet\n      if (this.tech[method] === undefined) {\n        vjs.log('Video.js: ' + method + ' method not defined for '+this.techName+' playback technology.', e);\n      } else {\n        // When a method isn't available on the object it throws a TypeError\n        if (e.name == 'TypeError') {\n          vjs.log('Video.js: ' + method + ' unavailable on '+this.techName+' playback technology element.', e);\n          this.tech.isReady_ = false;\n        } else {\n          vjs.log(e);\n        }\n      }\n      throw e;\n    }\n  }\n\n  return;\n};\n\n/**\n * start media playback\n *\n *     myPlayer.play();\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.play = function(){\n  this.techCall('play');\n  return this;\n};\n\n/**\n * Pause the video playback\n *\n *     myPlayer.pause();\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.pause = function(){\n  this.techCall('pause');\n  return this;\n};\n\n/**\n * Check if the player is paused\n *\n *     var isPaused = myPlayer.paused();\n *     var isPlaying = !myPlayer.paused();\n *\n * @return {Boolean} false if the media is currently playing, or true otherwise\n */\nvjs.Player.prototype.paused = function(){\n  // The initial state of paused should be true (in Safari it's actually false)\n  return (this.techGet('paused') === false) ? false : true;\n};\n\n/**\n * Get or set the current time (in seconds)\n *\n *     // get\n *     var whereYouAt = myPlayer.currentTime();\n *\n *     // set\n *     myPlayer.currentTime(120); // 2 minutes into the video\n *\n * @param  {Number|String=} seconds The time to seek to\n * @return {Number}        The time in seconds, when not setting\n * @return {vjs.Player}    self, when the current time is set\n */\nvjs.Player.prototype.currentTime = function(seconds){\n  if (seconds !== undefined) {\n\n    this.techCall('setCurrentTime', seconds);\n\n    return this;\n  }\n\n  // cache last currentTime and return. default to 0 seconds\n  //\n  // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n  // currentTime when scrubbing, but may not provide much performance benefit afterall.\n  // Should be tested. Also something has to read the actual current time or the cache will\n  // never get updated.\n  return this.cache_.currentTime = (this.techGet('currentTime') || 0);\n};\n\n/**\n * Get the length in time of the video in seconds\n *\n *     var lengthOfVideo = myPlayer.duration();\n *\n * **NOTE**: The video must have started loading before the duration can be\n * known, and in the case of Flash, may not be known until the video starts\n * playing.\n *\n * @return {Number} The duration of the video in seconds\n */\nvjs.Player.prototype.duration = function(seconds){\n  if (seconds !== undefined) {\n\n    // cache the last set value for optimized scrubbing (esp. Flash)\n    this.cache_.duration = parseFloat(seconds);\n\n    return this;\n  }\n\n  if (this.cache_.duration === undefined) {\n    this.onDurationChange();\n  }\n\n  return this.cache_.duration || 0;\n};\n\n/**\n * Calculates how much time is left.\n *\n *     var timeLeft = myPlayer.remainingTime();\n *\n * Not a native video element function, but useful\n * @return {Number} The time remaining in seconds\n */\nvjs.Player.prototype.remainingTime = function(){\n  return this.duration() - this.currentTime();\n};\n\n// http://dev.w3.org/html5/spec/video.html#dom-media-buffered\n// Buffered returns a timerange object.\n// Kind of like an array of portions of the video that have been downloaded.\n\n/**\n * Get a TimeRange object with the times of the video that have been downloaded\n *\n * If you just want the percent of the video that's been downloaded,\n * use bufferedPercent.\n *\n *     // Number of different ranges of time have been buffered. Usually 1.\n *     numberOfRanges = bufferedTimeRange.length,\n *\n *     // Time in seconds when the first range starts. Usually 0.\n *     firstRangeStart = bufferedTimeRange.start(0),\n *\n *     // Time in seconds when the first range ends\n *     firstRangeEnd = bufferedTimeRange.end(0),\n *\n *     // Length in seconds of the first time range\n *     firstRangeLength = firstRangeEnd - firstRangeStart;\n *\n * @return {Object} A mock TimeRange object (following HTML spec)\n */\nvjs.Player.prototype.buffered = function(){\n  var buffered = this.techGet('buffered');\n\n  if (!buffered || !buffered.length) {\n    buffered = vjs.createTimeRange(0,0);\n  }\n\n  return buffered;\n};\n\n/**\n * Get the percent (as a decimal) of the video that's been downloaded\n *\n *     var howMuchIsDownloaded = myPlayer.bufferedPercent();\n *\n * 0 means none, 1 means all.\n * (This method isn't in the HTML5 spec, but it's very convenient)\n *\n * @return {Number} A decimal between 0 and 1 representing the percent\n */\nvjs.Player.prototype.bufferedPercent = function(){\n  var duration = this.duration(),\n      buffered = this.buffered(),\n      bufferedDuration = 0,\n      start, end;\n\n  if (!duration) {\n    return 0;\n  }\n\n  for (var i=0; i<buffered.length; i++){\n    start = buffered.start(i);\n    end   = buffered.end(i);\n\n    // buffered end can be bigger than duration by a very small fraction\n    if (end > duration) {\n      end = duration;\n    }\n\n    bufferedDuration += end - start;\n  }\n\n  return bufferedDuration / duration;\n};\n\n/**\n * Get the ending time of the last buffered time range\n *\n * This is used in the progress bar to encapsulate all time ranges.\n * @return {Number} The end of the last buffered time range\n */\nvjs.Player.prototype.bufferedEnd = function(){\n  var buffered = this.buffered(),\n      duration = this.duration(),\n      end = buffered.end(buffered.length-1);\n\n  if (end > duration) {\n    end = duration;\n  }\n\n  return end;\n};\n\n/**\n * Get or set the current volume of the media\n *\n *     // get\n *     var howLoudIsIt = myPlayer.volume();\n *\n *     // set\n *     myPlayer.volume(0.5); // Set volume to half\n *\n * 0 is off (muted), 1.0 is all the way up, 0.5 is half way.\n *\n * @param  {Number} percentAsDecimal The new volume as a decimal percent\n * @return {Number}                  The current volume, when getting\n * @return {vjs.Player}              self, when setting\n */\nvjs.Player.prototype.volume = function(percentAsDecimal){\n  var vol;\n\n  if (percentAsDecimal !== undefined) {\n    vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal))); // Force value to between 0 and 1\n    this.cache_.volume = vol;\n    this.techCall('setVolume', vol);\n    vjs.setLocalStorage('volume', vol);\n    return this;\n  }\n\n  // Default to 1 when returning current volume.\n  vol = parseFloat(this.techGet('volume'));\n  return (isNaN(vol)) ? 1 : vol;\n};\n\n\n/**\n * Get the current muted state, or turn mute on or off\n *\n *     // get\n *     var isVolumeMuted = myPlayer.muted();\n *\n *     // set\n *     myPlayer.muted(true); // mute the volume\n *\n * @param  {Boolean=} muted True to mute, false to unmute\n * @return {Boolean} True if mute is on, false if not, when getting\n * @return {vjs.Player} self, when setting mute\n */\nvjs.Player.prototype.muted = function(muted){\n  if (muted !== undefined) {\n    this.techCall('setMuted', muted);\n    return this;\n  }\n  return this.techGet('muted') || false; // Default to false\n};\n\n// Check if current tech can support native fullscreen\n// (e.g. with built in controls like iOS, so not our flash swf)\nvjs.Player.prototype.supportsFullScreen = function(){\n  return this.techGet('supportsFullScreen') || false;\n};\n\n/**\n * is the player in fullscreen\n * @type {Boolean}\n * @private\n */\nvjs.Player.prototype.isFullscreen_ = false;\n\n/**\n * Check if the player is in fullscreen mode\n *\n *     // get\n *     var fullscreenOrNot = myPlayer.isFullscreen();\n *\n *     // set\n *     myPlayer.isFullscreen(true); // tell the player it's in fullscreen\n *\n * NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n * property and instead document.fullscreenElement is used. But isFullscreen is\n * still a valuable property for internal player workings.\n *\n * @param  {Boolean=} isFS Update the player's fullscreen state\n * @return {Boolean} true if fullscreen, false if not\n * @return {vjs.Player} self, when setting\n */\nvjs.Player.prototype.isFullscreen = function(isFS){\n  if (isFS !== undefined) {\n    this.isFullscreen_ = !!isFS;\n    return this;\n  }\n  return this.isFullscreen_;\n};\n\n/**\n * Old naming for isFullscreen()\n * @deprecated for lowercase 's' version\n */\nvjs.Player.prototype.isFullScreen = function(isFS){\n  vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase \"s\")');\n  return this.isFullscreen(isFS);\n};\n\n/**\n * Increase the size of the video to full screen\n *\n *     myPlayer.requestFullscreen();\n *\n * In some browsers, full screen is not supported natively, so it enters\n * \"full window mode\", where the video fills the browser window.\n * In browsers and devices that support native full screen, sometimes the\n * browser's default controls will be shown, and not the Video.js custom skin.\n * This includes most mobile devices (iOS, Android) and older versions of\n * Safari.\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.requestFullscreen = function(){\n  var fsApi = vjs.browser.fullscreenAPI;\n\n  this.isFullscreen(true);\n\n  if (fsApi) {\n    // the browser supports going fullscreen at the element level so we can\n    // take the controls fullscreen as well as the video\n\n    // Trigger fullscreenchange event after change\n    // We have to specifically add this each time, and remove\n    // when canceling fullscreen. Otherwise if there's multiple\n    // players on a page, they would all be reacting to the same fullscreen\n    // events\n    vjs.on(document, fsApi['fullscreenchange'], vjs.bind(this, function(e){\n      this.isFullscreen(document[fsApi.fullscreenElement]);\n\n      // If cancelling fullscreen, remove event listener.\n      if (this.isFullscreen() === false) {\n        vjs.off(document, fsApi['fullscreenchange'], arguments.callee);\n      }\n\n      this.trigger('fullscreenchange');\n    }));\n\n    this.el_[fsApi.requestFullscreen]();\n\n  } else if (this.tech.supportsFullScreen()) {\n    // we can't take the video.js controls fullscreen but we can go fullscreen\n    // with native controls\n    this.techCall('enterFullScreen');\n  } else {\n    // fullscreen isn't supported so we'll just stretch the video element to\n    // fill the viewport\n    this.enterFullWindow();\n    this.trigger('fullscreenchange');\n  }\n\n  return this;\n};\n\n/**\n * Old naming for requestFullscreen\n * @deprecated for lower case 's' version\n */\nvjs.Player.prototype.requestFullScreen = function(){\n  vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase \"s\")');\n  return this.requestFullscreen();\n};\n\n\n/**\n * Return the video to its normal size after having been in full screen mode\n *\n *     myPlayer.exitFullscreen();\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.exitFullscreen = function(){\n  var fsApi = vjs.browser.fullscreenAPI;\n  this.isFullscreen(false);\n\n  // Check for browser element fullscreen support\n  if (fsApi) {\n    document[fsApi.exitFullscreen]();\n  } else if (this.tech.supportsFullScreen()) {\n   this.techCall('exitFullScreen');\n  } else {\n   this.exitFullWindow();\n   this.trigger('fullscreenchange');\n  }\n\n  return this;\n};\n\n/**\n * Old naming for exitFullscreen\n * @deprecated for exitFullscreen\n */\nvjs.Player.prototype.cancelFullScreen = function(){\n  vjs.log.warn('player.cancelFullScreen() has been deprecated, use player.exitFullscreen()');\n  return this.exitFullscreen();\n};\n\n// When fullscreen isn't supported we can stretch the video container to as wide as the browser will let us.\nvjs.Player.prototype.enterFullWindow = function(){\n  this.isFullWindow = true;\n\n  // Storing original doc overflow value to return to when fullscreen is off\n  this.docOrigOverflow = document.documentElement.style.overflow;\n\n  // Add listener for esc key to exit fullscreen\n  vjs.on(document, 'keydown', vjs.bind(this, this.fullWindowOnEscKey));\n\n  // Hide any scroll bars\n  document.documentElement.style.overflow = 'hidden';\n\n  // Apply fullscreen styles\n  vjs.addClass(document.body, 'vjs-full-window');\n\n  this.trigger('enterFullWindow');\n};\nvjs.Player.prototype.fullWindowOnEscKey = function(event){\n  if (event.keyCode === 27) {\n    if (this.isFullscreen() === true) {\n      this.exitFullscreen();\n    } else {\n      this.exitFullWindow();\n    }\n  }\n};\n\nvjs.Player.prototype.exitFullWindow = function(){\n  this.isFullWindow = false;\n  vjs.off(document, 'keydown', this.fullWindowOnEscKey);\n\n  // Unhide scroll bars.\n  document.documentElement.style.overflow = this.docOrigOverflow;\n\n  // Remove fullscreen styles\n  vjs.removeClass(document.body, 'vjs-full-window');\n\n  // Resize the box, controller, and poster to original sizes\n  // this.positionAll();\n  this.trigger('exitFullWindow');\n};\n\nvjs.Player.prototype.selectSource = function(sources){\n  // Loop through each playback technology in the options order\n  for (var i=0,j=this.options_['techOrder'];i<j.length;i++) {\n    var techName = vjs.capitalize(j[i]),\n        tech = window['videojs'][techName];\n\n    // Check if the current tech is defined before continuing\n    if (!tech) {\n      vjs.log.error('The \"' + techName + '\" tech is undefined. Skipped browser support check for that tech.');\n      continue;\n    }\n\n    // Check if the browser supports this technology\n    if (tech.isSupported()) {\n      // Loop through each source object\n      for (var a=0,b=sources;a<b.length;a++) {\n        var source = b[a];\n\n        // Check if source can be played with this technology\n        if (tech['canPlaySource'](source)) {\n          return { source: source, tech: techName };\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\n/**\n * The source function updates the video source\n *\n * There are three types of variables you can pass as the argument.\n *\n * **URL String**: A URL to the the video file. Use this method if you are sure\n * the current playback technology (HTML5/Flash) can support the source you\n * provide. Currently only MP4 files can be used in both HTML5 and Flash.\n *\n *     myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n *\n * **Source Object (or element):** A javascript object containing information\n * about the source file. Use this method if you want the player to determine if\n * it can support the file using the type information.\n *\n *     myPlayer.src({ type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" });\n *\n * **Array of Source Objects:** To provide multiple versions of the source so\n * that it can be played using HTML5 across browsers you can use an array of\n * source objects. Video.js will detect which version is supported and load that\n * file.\n *\n *     myPlayer.src([\n *       { type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" },\n *       { type: \"video/webm\", src: \"http://www.example.com/path/to/video.webm\" },\n *       { type: \"video/ogg\", src: \"http://www.example.com/path/to/video.ogv\" }\n *     ]);\n *\n * @param  {String|Object|Array=} source The source URL, object, or array of sources\n * @return {String} The current video source when getting\n * @return {String} The player when setting\n */\nvjs.Player.prototype.src = function(source){\n  if (source === undefined) {\n    return this.techGet('src');\n  }\n\n  // case: Array of source objects to choose from and pick the best to play\n  if (vjs.obj.isArray(source)) {\n    this.sourceList_(source);\n\n  // case: URL String (http://myvideo...)\n  } else if (typeof source === 'string') {\n    // create a source object from the string\n    this.src({ src: source });\n\n  // case: Source object { src: '', type: '' ... }\n  } else if (source instanceof Object) {\n    // check if the source has a type and the loaded tech cannot play the source\n    // if there's no type we'll just try the current tech\n    if (source.type && !window['videojs'][this.techName]['canPlaySource'](source)) {\n      // create a source list with the current source and send through\n      // the tech loop to check for a compatible technology\n      this.sourceList_([source]);\n    } else {\n      this.cache_.src = source.src;\n      this.currentType_ = source.type || '';\n\n      // wait until the tech is ready to set the source\n      this.ready(function(){\n\n        // The setSource tech method was added with source handlers\n        // so older techs won't support it\n        // We need to check the direct prototype for the case where subclasses\n        // of the tech do not support source handlers\n        if (window['videojs'][this.techName].prototype.hasOwnProperty('setSource')) {\n          this.techCall('setSource', source);\n        } else {\n          this.techCall('src', source.src);\n        }\n\n        if (this.options_['preload'] == 'auto') {\n          this.load();\n        }\n\n        if (this.options_['autoplay']) {\n          this.play();\n        }\n      });\n    }\n  }\n\n  return this;\n};\n\n/**\n * Handle an array of source objects\n * @param  {[type]} sources Array of source objects\n * @private\n */\nvjs.Player.prototype.sourceList_ = function(sources){\n  var sourceTech = this.selectSource(sources);\n\n  if (sourceTech) {\n    if (sourceTech.tech === this.techName) {\n      // if this technology is already loaded, set the source\n      this.src(sourceTech.source);\n    } else {\n      // load this technology with the chosen source\n      this.loadTech(sourceTech.tech, sourceTech.source);\n    }\n  } else {\n    // We need to wrap this in a timeout to give folks a chance to add error event handlers\n    this.setTimeout( function() {\n      this.error({ code: 4, message: this.localize(this.options()['notSupportedMessage']) });\n    }, 0);\n\n    // we could not find an appropriate tech, but let's still notify the delegate that this is it\n    // this needs a better comment about why this is needed\n    this.triggerReady();\n  }\n};\n\n/**\n * Begin loading the src data.\n * @return {vjs.Player} Returns the player\n */\nvjs.Player.prototype.load = function(){\n  this.techCall('load');\n  return this;\n};\n\n/**\n * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n * Can be used in conjuction with `currentType` to assist in rebuilding the current source object.\n * @return {String} The current source\n */\nvjs.Player.prototype.currentSrc = function(){\n  return this.techGet('currentSrc') || this.cache_.src || '';\n};\n\n/**\n * Get the current source type e.g. video/mp4\n * This can allow you rebuild the current source object so that you could load the same\n * source and tech later\n * @return {String} The source MIME type\n */\nvjs.Player.prototype.currentType = function(){\n    return this.currentType_ || '';\n};\n\n/**\n * Get or set the preload attribute.\n * @return {String} The preload attribute value when getting\n * @return {vjs.Player} Returns the player when setting\n */\nvjs.Player.prototype.preload = function(value){\n  if (value !== undefined) {\n    this.techCall('setPreload', value);\n    this.options_['preload'] = value;\n    return this;\n  }\n  return this.techGet('preload');\n};\n\n/**\n * Get or set the autoplay attribute.\n * @return {String} The autoplay attribute value when getting\n * @return {vjs.Player} Returns the player when setting\n */\nvjs.Player.prototype.autoplay = function(value){\n  if (value !== undefined) {\n    this.techCall('setAutoplay', value);\n    this.options_['autoplay'] = value;\n    return this;\n  }\n  return this.techGet('autoplay', value);\n};\n\n/**\n * Get or set the loop attribute on the video element.\n * @return {String} The loop attribute value when getting\n * @return {vjs.Player} Returns the player when setting\n */\nvjs.Player.prototype.loop = function(value){\n  if (value !== undefined) {\n    this.techCall('setLoop', value);\n    this.options_['loop'] = value;\n    return this;\n  }\n  return this.techGet('loop');\n};\n\n/**\n * the url of the poster image source\n * @type {String}\n * @private\n */\nvjs.Player.prototype.poster_;\n\n/**\n * get or set the poster image source url\n *\n * ##### EXAMPLE:\n *\n *     // getting\n *     var currentPoster = myPlayer.poster();\n *\n *     // setting\n *     myPlayer.poster('http://example.com/myImage.jpg');\n *\n * @param  {String=} [src] Poster image source URL\n * @return {String} poster URL when getting\n * @return {vjs.Player} self when setting\n */\nvjs.Player.prototype.poster = function(src){\n  if (src === undefined) {\n    return this.poster_;\n  }\n\n  // The correct way to remove a poster is to set as an empty string\n  // other falsey values will throw errors\n  if (!src) {\n    src = '';\n  }\n\n  // update the internal poster variable\n  this.poster_ = src;\n\n  // update the tech's poster\n  this.techCall('setPoster', src);\n\n  // alert components that the poster has been set\n  this.trigger('posterchange');\n\n  return this;\n};\n\n/**\n * Whether or not the controls are showing\n * @type {Boolean}\n * @private\n */\nvjs.Player.prototype.controls_;\n\n/**\n * Get or set whether or not the controls are showing.\n * @param  {Boolean} controls Set controls to showing or not\n * @return {Boolean}    Controls are showing\n */\nvjs.Player.prototype.controls = function(bool){\n  if (bool !== undefined) {\n    bool = !!bool; // force boolean\n    // Don't trigger a change event unless it actually changed\n    if (this.controls_ !== bool) {\n      this.controls_ = bool;\n      if (bool) {\n        this.removeClass('vjs-controls-disabled');\n        this.addClass('vjs-controls-enabled');\n        this.trigger('controlsenabled');\n      } else {\n        this.removeClass('vjs-controls-enabled');\n        this.addClass('vjs-controls-disabled');\n        this.trigger('controlsdisabled');\n      }\n    }\n    return this;\n  }\n  return this.controls_;\n};\n\nvjs.Player.prototype.usingNativeControls_;\n\n/**\n * Toggle native controls on/off. Native controls are the controls built into\n * devices (e.g. default iPhone controls), Flash, or other techs\n * (e.g. Vimeo Controls)\n *\n * **This should only be set by the current tech, because only the tech knows\n * if it can support native controls**\n *\n * @param  {Boolean} bool    True signals that native controls are on\n * @return {vjs.Player}      Returns the player\n * @private\n */\nvjs.Player.prototype.usingNativeControls = function(bool){\n  if (bool !== undefined) {\n    bool = !!bool; // force boolean\n    // Don't trigger a change event unless it actually changed\n    if (this.usingNativeControls_ !== bool) {\n      this.usingNativeControls_ = bool;\n      if (bool) {\n        this.addClass('vjs-using-native-controls');\n\n        /**\n         * player is using the native device controls\n         *\n         * @event usingnativecontrols\n         * @memberof vjs.Player\n         * @instance\n         * @private\n         */\n        this.trigger('usingnativecontrols');\n      } else {\n        this.removeClass('vjs-using-native-controls');\n\n        /**\n         * player is using the custom HTML controls\n         *\n         * @event usingcustomcontrols\n         * @memberof vjs.Player\n         * @instance\n         * @private\n         */\n        this.trigger('usingcustomcontrols');\n      }\n    }\n    return this;\n  }\n  return this.usingNativeControls_;\n};\n\n/**\n * Store the current media error\n * @type {Object}\n * @private\n */\nvjs.Player.prototype.error_ = null;\n\n/**\n * Set or get the current MediaError\n * @param  {*} err A MediaError or a String/Number to be turned into a MediaError\n * @return {vjs.MediaError|null}     when getting\n * @return {vjs.Player}              when setting\n */\nvjs.Player.prototype.error = function(err){\n  if (err === undefined) {\n    return this.error_;\n  }\n\n  // restoring to default\n  if (err === null) {\n    this.error_ = err;\n    this.removeClass('vjs-error');\n    return this;\n  }\n\n  // error instance\n  if (err instanceof vjs.MediaError) {\n    this.error_ = err;\n  } else {\n    this.error_ = new vjs.MediaError(err);\n  }\n\n  // fire an error event on the player\n  this.trigger('error');\n\n  // add the vjs-error classname to the player\n  this.addClass('vjs-error');\n\n  // log the name of the error type and any message\n  // ie8 just logs \"[object object]\" if you just log the error object\n  vjs.log.error('(CODE:'+this.error_.code+' '+vjs.MediaError.errorTypes[this.error_.code]+')', this.error_.message, this.error_);\n\n  return this;\n};\n\n/**\n * Returns whether or not the player is in the \"ended\" state.\n * @return {Boolean} True if the player is in the ended state, false if not.\n */\nvjs.Player.prototype.ended = function(){ return this.techGet('ended'); };\n\n/**\n * Returns whether or not the player is in the \"seeking\" state.\n * @return {Boolean} True if the player is in the seeking state, false if not.\n */\nvjs.Player.prototype.seeking = function(){ return this.techGet('seeking'); };\n\n/**\n * Returns the TimeRanges of the media that are currently available\n * for seeking to.\n * @return {TimeRanges} the seekable intervals of the media timeline\n */\nvjs.Player.prototype.seekable = function(){ return this.techGet('seekable'); };\n\n// When the player is first initialized, trigger activity so components\n// like the control bar show themselves if needed\nvjs.Player.prototype.userActivity_ = true;\nvjs.Player.prototype.reportUserActivity = function(event){\n  this.userActivity_ = true;\n};\n\nvjs.Player.prototype.userActive_ = true;\nvjs.Player.prototype.userActive = function(bool){\n  if (bool !== undefined) {\n    bool = !!bool;\n    if (bool !== this.userActive_) {\n      this.userActive_ = bool;\n      if (bool) {\n        // If the user was inactive and is now active we want to reset the\n        // inactivity timer\n        this.userActivity_ = true;\n        this.removeClass('vjs-user-inactive');\n        this.addClass('vjs-user-active');\n        this.trigger('useractive');\n      } else {\n        // We're switching the state to inactive manually, so erase any other\n        // activity\n        this.userActivity_ = false;\n\n        // Chrome/Safari/IE have bugs where when you change the cursor it can\n        // trigger a mousemove event. This causes an issue when you're hiding\n        // the cursor when the user is inactive, and a mousemove signals user\n        // activity. Making it impossible to go into inactive mode. Specifically\n        // this happens in fullscreen when we really need to hide the cursor.\n        //\n        // When this gets resolved in ALL browsers it can be removed\n        // https://code.google.com/p/chromium/issues/detail?id=103041\n        if(this.tech) {\n          this.tech.one('mousemove', function(e){\n            e.stopPropagation();\n            e.preventDefault();\n          });\n        }\n\n        this.removeClass('vjs-user-active');\n        this.addClass('vjs-user-inactive');\n        this.trigger('userinactive');\n      }\n    }\n    return this;\n  }\n  return this.userActive_;\n};\n\nvjs.Player.prototype.listenForUserActivity = function(){\n  var onActivity, onMouseMove, onMouseDown, mouseInProgress, onMouseUp,\n      activityCheck, inactivityTimeout, lastMoveX, lastMoveY;\n\n  onActivity = vjs.bind(this, this.reportUserActivity);\n\n  onMouseMove = function(e) {\n    // #1068 - Prevent mousemove spamming\n    // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n    if(e.screenX != lastMoveX || e.screenY != lastMoveY) {\n      lastMoveX = e.screenX;\n      lastMoveY = e.screenY;\n      onActivity();\n    }\n  };\n\n  onMouseDown = function() {\n    onActivity();\n    // For as long as the they are touching the device or have their mouse down,\n    // we consider them active even if they're not moving their finger or mouse.\n    // So we want to continue to update that they are active\n    this.clearInterval(mouseInProgress);\n    // Setting userActivity=true now and setting the interval to the same time\n    // as the activityCheck interval (250) should ensure we never miss the\n    // next activityCheck\n    mouseInProgress = this.setInterval(onActivity, 250);\n  };\n\n  onMouseUp = function(event) {\n    onActivity();\n    // Stop the interval that maintains activity if the mouse/touch is down\n    this.clearInterval(mouseInProgress);\n  };\n\n  // Any mouse movement will be considered user activity\n  this.on('mousedown', onMouseDown);\n  this.on('mousemove', onMouseMove);\n  this.on('mouseup', onMouseUp);\n\n  // Listen for keyboard navigation\n  // Shouldn't need to use inProgress interval because of key repeat\n  this.on('keydown', onActivity);\n  this.on('keyup', onActivity);\n\n  // Run an interval every 250 milliseconds instead of stuffing everything into\n  // the mousemove/touchmove function itself, to prevent performance degradation.\n  // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n  // then gets picked up by this loop\n  // http://ejohn.org/blog/learning-from-twitter/\n  activityCheck = this.setInterval(function() {\n    // Check to see if mouse/touch activity has happened\n    if (this.userActivity_) {\n      // Reset the activity tracker\n      this.userActivity_ = false;\n\n      // If the user state was inactive, set the state to active\n      this.userActive(true);\n\n      // Clear any existing inactivity timeout to start the timer over\n      this.clearTimeout(inactivityTimeout);\n\n      var timeout = this.options()['inactivityTimeout'];\n      if (timeout > 0) {\n          // In <timeout> milliseconds, if no more activity has occurred the\n          // user will be considered inactive\n          inactivityTimeout = this.setTimeout(function () {\n              // Protect against the case where the inactivityTimeout can trigger just\n              // before the next user activity is picked up by the activityCheck loop\n              // causing a flicker\n              if (!this.userActivity_) {\n                  this.userActive(false);\n              }\n          }, timeout);\n      }\n    }\n  }, 250);\n};\n\n/**\n * Gets or sets the current playback rate.\n * @param  {Boolean} rate   New playback rate to set.\n * @return {Number}         Returns the new playback rate when setting\n * @return {Number}         Returns the current playback rate when getting\n */\nvjs.Player.prototype.playbackRate = function(rate) {\n  if (rate !== undefined) {\n    this.techCall('setPlaybackRate', rate);\n    return this;\n  }\n\n  if (this.tech && this.tech['featuresPlaybackRate']) {\n    return this.techGet('playbackRate');\n  } else {\n    return 1.0;\n  }\n\n};\n\n/**\n * Store the current audio state\n * @type {Boolean}\n * @private\n */\nvjs.Player.prototype.isAudio_ = false;\n\n/**\n * Gets or sets the audio flag\n *\n * @param  {Boolean} bool    True signals that this is an audio player.\n * @return {Boolean}         Returns true if player is audio, false if not when getting\n * @return {vjs.Player}      Returns the player if setting\n * @private\n */\nvjs.Player.prototype.isAudio = function(bool) {\n  if (bool !== undefined) {\n    this.isAudio_ = !!bool;\n    return this;\n  }\n\n  return this.isAudio_;\n};\n\n/**\n * Returns the current state of network activity for the element, from\n * the codes in the list below.\n * - NETWORK_EMPTY (numeric value 0)\n *   The element has not yet been initialised. All attributes are in\n *   their initial states.\n * - NETWORK_IDLE (numeric value 1)\n *   The element's resource selection algorithm is active and has\n *   selected a resource, but it is not actually using the network at\n *   this time.\n * - NETWORK_LOADING (numeric value 2)\n *   The user agent is actively trying to download data.\n * - NETWORK_NO_SOURCE (numeric value 3)\n *   The element's resource selection algorithm is active, but it has\n *   not yet found a resource to use.\n * @return {Number} the current network activity state\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n */\nvjs.Player.prototype.networkState = function(){\n  return this.techGet('networkState');\n};\n\n/**\n * Returns a value that expresses the current state of the element\n * with respect to rendering the current playback position, from the\n * codes in the list below.\n * - HAVE_NOTHING (numeric value 0)\n *   No information regarding the media resource is available.\n * - HAVE_METADATA (numeric value 1)\n *   Enough of the resource has been obtained that the duration of the\n *   resource is available.\n * - HAVE_CURRENT_DATA (numeric value 2)\n *   Data for the immediate current playback position is available.\n * - HAVE_FUTURE_DATA (numeric value 3)\n *   Data for the immediate current playback position is available, as\n *   well as enough data for the user agent to advance the current\n *   playback position in the direction of playback.\n * - HAVE_ENOUGH_DATA (numeric value 4)\n *   The user agent estimates that enough data is available for\n *   playback to proceed uninterrupted.\n * @return {Number} the current playback rendering state\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n */\nvjs.Player.prototype.readyState = function(){\n  return this.techGet('readyState');\n};\n\n/**\n * Text tracks are tracks of timed text events.\n * Captions - text displayed over the video for the hearing impaired\n * Subtitles - text displayed over the video for those who don't understand language in the video\n * Chapters - text displayed in a menu allowing the user to jump to particular points (chapters) in the video\n * Descriptions (not supported yet) - audio descriptions that are read back to the user by a screen reading device\n */\n\n/**\n * Get an array of associated text tracks. captions, subtitles, chapters, descriptions\n * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n * @return {Array}           Array of track objects\n */\nvjs.Player.prototype.textTracks = function(){\n  // cannot use techGet directly because it checks to see whether the tech is ready.\n  // Flash is unlikely to be ready in time but textTracks should still work.\n  return this.tech && this.tech['textTracks']();\n};\n\nvjs.Player.prototype.remoteTextTracks = function() {\n  return this.tech && this.tech['remoteTextTracks']();\n};\n\n/**\n * Add a text track\n * In addition to the W3C settings we allow adding additional info through options.\n * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n * @param {String}  kind        Captions, subtitles, chapters, descriptions, or metadata\n * @param {String=} label       Optional label\n * @param {String=} language    Optional language\n */\nvjs.Player.prototype.addTextTrack = function(kind, label, language) {\n  return this.tech && this.tech['addTextTrack'](kind, label, language);\n};\n\nvjs.Player.prototype.addRemoteTextTrack = function(options) {\n  return this.tech && this.tech['addRemoteTextTrack'](options);\n};\n\nvjs.Player.prototype.removeRemoteTextTrack = function(track) {\n  this.tech && this.tech['removeRemoteTextTrack'](track);\n};\n\n// Methods to add support for\n// initialTime: function(){ return this.techCall('initialTime'); },\n// startOffsetTime: function(){ return this.techCall('startOffsetTime'); },\n// played: function(){ return this.techCall('played'); },\n// seekable: function(){ return this.techCall('seekable'); },\n// videoTracks: function(){ return this.techCall('videoTracks'); },\n// audioTracks: function(){ return this.techCall('audioTracks'); },\n// videoWidth: function(){ return this.techCall('videoWidth'); },\n// videoHeight: function(){ return this.techCall('videoHeight'); },\n// defaultPlaybackRate: function(){ return this.techCall('defaultPlaybackRate'); },\n// mediaGroup: function(){ return this.techCall('mediaGroup'); },\n// controller: function(){ return this.techCall('controller'); },\n// defaultMuted: function(){ return this.techCall('defaultMuted'); }\n\n// TODO\n// currentSrcList: the array of sources including other formats and bitrates\n// playList: array of source lists in order of playback\n/**\n * Container of main controls\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n * @extends vjs.Component\n */\nvjs.ControlBar = vjs.Component.extend();\n\nvjs.ControlBar.prototype.options_ = {\n  loadEvent: 'play',\n  children: {\n    'playToggle': {},\n    'currentTimeDisplay': {},\n    'timeDivider': {},\n    'durationDisplay': {},\n    'remainingTimeDisplay': {},\n    'liveDisplay': {},\n    'progressControl': {},\n    'fullscreenToggle': {},\n    'volumeControl': {},\n    'muteToggle': {},\n    // 'volumeMenuButton': {},\n    'playbackRateMenuButton': {},\n    'subtitlesButton': {},\n    'captionsButton': {},\n    'chaptersButton': {}\n  }\n};\n\nvjs.ControlBar.prototype.createEl = function(){\n  return vjs.createEl('div', {\n    className: 'vjs-control-bar'\n  });\n};\n/**\n * Displays the live indicator\n * TODO - Future make it click to snap to live\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.LiveDisplay = vjs.Component.extend({\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.LiveDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-live-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-live-display',\n    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Stream Type') + '</span>' + this.localize('LIVE'),\n    'aria-live': 'off'\n  });\n\n  el.appendChild(this.contentEl_);\n\n  return el;\n};\n/**\n * Button to toggle between play and pause\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.PlayToggle = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.on(player, 'play', this.onPlay);\n    this.on(player, 'pause', this.onPause);\n  }\n});\n\nvjs.PlayToggle.prototype.buttonText = 'Play';\n\nvjs.PlayToggle.prototype.buildCSSClass = function(){\n  return 'vjs-play-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n};\n\n// OnClick - Toggle between play and pause\nvjs.PlayToggle.prototype.onClick = function(){\n  if (this.player_.paused()) {\n    this.player_.play();\n  } else {\n    this.player_.pause();\n  }\n};\n\n  // OnPlay - Add the vjs-playing class to the element so it can change appearance\nvjs.PlayToggle.prototype.onPlay = function(){\n  this.removeClass('vjs-paused');\n  this.addClass('vjs-playing');\n  this.el_.children[0].children[0].innerHTML = this.localize('Pause'); // change the button text to \"Pause\"\n};\n\n  // OnPause - Add the vjs-paused class to the element so it can change appearance\nvjs.PlayToggle.prototype.onPause = function(){\n  this.removeClass('vjs-playing');\n  this.addClass('vjs-paused');\n  this.el_.children[0].children[0].innerHTML = this.localize('Play'); // change the button text to \"Play\"\n};\n/**\n * Displays the current time\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.CurrentTimeDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.on(player, 'timeupdate', this.updateContent);\n  }\n});\n\nvjs.CurrentTimeDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-current-time vjs-time-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-current-time-display',\n    innerHTML: '<span class=\"vjs-control-text\">Current Time </span>' + '0:00', // label the current time for screen reader users\n    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n  });\n\n  el.appendChild(this.contentEl_);\n  return el;\n};\n\nvjs.CurrentTimeDisplay.prototype.updateContent = function(){\n  // Allows for smooth scrubbing, when player can't keep up.\n  var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n  this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Current Time') + '</span> ' + vjs.formatTime(time, this.player_.duration());\n};\n\n/**\n * Displays the duration\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.DurationDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // this might need to be changed to 'durationchange' instead of 'timeupdate' eventually,\n    // however the durationchange event fires before this.player_.duration() is set,\n    // so the value cannot be written out using this method.\n    // Once the order of durationchange and this.player_.duration() being set is figured out,\n    // this can be updated.\n    this.on(player, 'timeupdate', this.updateContent);\n    this.on(player, 'loadedmetadata', this.updateContent);\n  }\n});\n\nvjs.DurationDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-duration vjs-time-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-duration-display',\n    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> ' + '0:00', // label the duration time for screen reader users\n    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n  });\n\n  el.appendChild(this.contentEl_);\n  return el;\n};\n\nvjs.DurationDisplay.prototype.updateContent = function(){\n  var duration = this.player_.duration();\n  if (duration) {\n      this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> ' + vjs.formatTime(duration); // label the duration time for screen reader users\n  }\n};\n\n/**\n * The separator between the current time and duration\n *\n * Can be hidden if it's not needed in the design.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.TimeDivider = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.TimeDivider.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-time-divider',\n    innerHTML: '<div><span>/</span></div>'\n  });\n};\n\n/**\n * Displays the time left in the video\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.RemainingTimeDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.on(player, 'timeupdate', this.updateContent);\n  }\n});\n\nvjs.RemainingTimeDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-remaining-time vjs-time-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-remaining-time-display',\n    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> ' + '-0:00', // label the remaining time for screen reader users\n    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n  });\n\n  el.appendChild(this.contentEl_);\n  return el;\n};\n\nvjs.RemainingTimeDisplay.prototype.updateContent = function(){\n  if (this.player_.duration()) {\n    this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> ' + '-'+ vjs.formatTime(this.player_.remainingTime());\n  }\n\n  // Allows for smooth scrubbing, when player can't keep up.\n  // var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n  // this.contentEl_.innerHTML = vjs.formatTime(time, this.player_.duration());\n};\n/**\n * Toggle fullscreen video\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @extends vjs.Button\n */\nvjs.FullscreenToggle = vjs.Button.extend({\n  /**\n   * @constructor\n   * @memberof vjs.FullscreenToggle\n   * @instance\n   */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n  }\n});\n\nvjs.FullscreenToggle.prototype.buttonText = 'Fullscreen';\n\nvjs.FullscreenToggle.prototype.buildCSSClass = function(){\n  return 'vjs-fullscreen-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n};\n\nvjs.FullscreenToggle.prototype.onClick = function(){\n  if (!this.player_.isFullscreen()) {\n    this.player_.requestFullscreen();\n    this.controlText_.innerHTML = this.localize('Non-Fullscreen');\n  } else {\n    this.player_.exitFullscreen();\n    this.controlText_.innerHTML = this.localize('Fullscreen');\n  }\n};\n/**\n * The Progress Control component contains the seek bar, load progress,\n * and play progress\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.ProgressControl = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.ProgressControl.prototype.options_ = {\n  children: {\n    'seekBar': {}\n  }\n};\n\nvjs.ProgressControl.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-progress-control vjs-control'\n  });\n};\n\n/**\n * Seek Bar and holder for the progress bars\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.SeekBar = vjs.Slider.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Slider.call(this, player, options);\n    this.on(player, 'timeupdate', this.updateARIAAttributes);\n    player.ready(vjs.bind(this, this.updateARIAAttributes));\n  }\n});\n\nvjs.SeekBar.prototype.options_ = {\n  children: {\n    'loadProgressBar': {},\n    'playProgressBar': {},\n    'seekHandle': {}\n  },\n  'barName': 'playProgressBar',\n  'handleName': 'seekHandle'\n};\n\nvjs.SeekBar.prototype.playerEvent = 'timeupdate';\n\nvjs.SeekBar.prototype.createEl = function(){\n  return vjs.Slider.prototype.createEl.call(this, 'div', {\n    className: 'vjs-progress-holder',\n    'aria-label': 'video progress bar'\n  });\n};\n\nvjs.SeekBar.prototype.updateARIAAttributes = function(){\n    // Allows for smooth scrubbing, when player can't keep up.\n    var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n    this.el_.setAttribute('aria-valuenow',vjs.round(this.getPercent()*100, 2)); // machine readable value of progress bar (percentage complete)\n    this.el_.setAttribute('aria-valuetext',vjs.formatTime(time, this.player_.duration())); // human readable value of progress bar (time complete)\n};\n\nvjs.SeekBar.prototype.getPercent = function(){\n  return this.player_.currentTime() / this.player_.duration();\n};\n\nvjs.SeekBar.prototype.onMouseDown = function(event){\n  vjs.Slider.prototype.onMouseDown.call(this, event);\n\n  this.player_.scrubbing = true;\n  this.player_.addClass('vjs-scrubbing');\n\n  this.videoWasPlaying = !this.player_.paused();\n  this.player_.pause();\n};\n\nvjs.SeekBar.prototype.onMouseMove = function(event){\n  var newTime = this.calculateDistance(event) * this.player_.duration();\n\n  // Don't let video end while scrubbing.\n  if (newTime == this.player_.duration()) { newTime = newTime - 0.1; }\n\n  // Set new time (tell player to seek to new time)\n  this.player_.currentTime(newTime);\n};\n\nvjs.SeekBar.prototype.onMouseUp = function(event){\n  vjs.Slider.prototype.onMouseUp.call(this, event);\n\n  this.player_.scrubbing = false;\n  this.player_.removeClass('vjs-scrubbing');\n  if (this.videoWasPlaying) {\n    this.player_.play();\n  }\n};\n\nvjs.SeekBar.prototype.stepForward = function(){\n  this.player_.currentTime(this.player_.currentTime() + 5); // more quickly fast forward for keyboard-only users\n};\n\nvjs.SeekBar.prototype.stepBack = function(){\n  this.player_.currentTime(this.player_.currentTime() - 5); // more quickly rewind for keyboard-only users\n};\n\n/**\n * Shows load progress\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.LoadProgressBar = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n    this.on(player, 'progress', this.update);\n  }\n});\n\nvjs.LoadProgressBar.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-load-progress',\n    innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Loaded') + '</span>: 0%</span>'\n  });\n};\n\nvjs.LoadProgressBar.prototype.update = function(){\n  var i, start, end, part,\n      buffered = this.player_.buffered(),\n      duration = this.player_.duration(),\n      bufferedEnd = this.player_.bufferedEnd(),\n      children = this.el_.children,\n      // get the percent width of a time compared to the total end\n      percentify = function (time, end){\n        var percent = (time / end) || 0; // no NaN\n        return (percent * 100) + '%';\n      };\n\n  // update the width of the progress bar\n  this.el_.style.width = percentify(bufferedEnd, duration);\n\n  // add child elements to represent the individual buffered time ranges\n  for (i = 0; i < buffered.length; i++) {\n    start = buffered.start(i),\n    end = buffered.end(i),\n    part = children[i];\n\n    if (!part) {\n      part = this.el_.appendChild(vjs.createEl());\n    }\n\n    // set the percent based on the width of the progress bar (bufferedEnd)\n    part.style.left = percentify(start, bufferedEnd);\n    part.style.width = percentify(end - start, bufferedEnd);\n  }\n\n  // remove unused buffered range elements\n  for (i = children.length; i > buffered.length; i--) {\n    this.el_.removeChild(children[i-1]);\n  }\n};\n\n/**\n * Shows play progress\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.PlayProgressBar = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.PlayProgressBar.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-play-progress',\n    innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Progress') + '</span>: 0%</span>'\n  });\n};\n\n/**\n * The Seek Handle shows the current position of the playhead during playback,\n * and can be dragged to adjust the playhead.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.SeekHandle = vjs.SliderHandle.extend({\n  init: function(player, options) {\n    vjs.SliderHandle.call(this, player, options);\n    this.on(player, 'timeupdate', this.updateContent);\n  }\n});\n\n/**\n * The default value for the handle content, which may be read by screen readers\n *\n * @type {String}\n * @private\n */\nvjs.SeekHandle.prototype.defaultValue = '00:00';\n\n/** @inheritDoc */\nvjs.SeekHandle.prototype.createEl = function() {\n  return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n    className: 'vjs-seek-handle',\n    'aria-live': 'off'\n  });\n};\n\nvjs.SeekHandle.prototype.updateContent = function() {\n  var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n  this.el_.innerHTML = '<span class=\"vjs-control-text\">' + vjs.formatTime(time, this.player_.duration()) + '</span>';\n};\n/**\n * The component for controlling the volume level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.VolumeControl = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // hide volume controls when they're not supported by the current tech\n    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n      this.addClass('vjs-hidden');\n    }\n    this.on(player, 'loadstart', function(){\n      if (player.tech['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      } else {\n        this.removeClass('vjs-hidden');\n      }\n    });\n  }\n});\n\nvjs.VolumeControl.prototype.options_ = {\n  children: {\n    'volumeBar': {}\n  }\n};\n\nvjs.VolumeControl.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-control vjs-control'\n  });\n};\n\n/**\n * The bar that contains the volume level and can be clicked on to adjust the level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.VolumeBar = vjs.Slider.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Slider.call(this, player, options);\n    this.on(player, 'volumechange', this.updateARIAAttributes);\n    player.ready(vjs.bind(this, this.updateARIAAttributes));\n  }\n});\n\nvjs.VolumeBar.prototype.updateARIAAttributes = function(){\n  // Current value of volume bar as a percentage\n  this.el_.setAttribute('aria-valuenow',vjs.round(this.player_.volume()*100, 2));\n  this.el_.setAttribute('aria-valuetext',vjs.round(this.player_.volume()*100, 2)+'%');\n};\n\nvjs.VolumeBar.prototype.options_ = {\n  children: {\n    'volumeLevel': {},\n    'volumeHandle': {}\n  },\n  'barName': 'volumeLevel',\n  'handleName': 'volumeHandle'\n};\n\nvjs.VolumeBar.prototype.playerEvent = 'volumechange';\n\nvjs.VolumeBar.prototype.createEl = function(){\n  return vjs.Slider.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-bar',\n    'aria-label': 'volume level'\n  });\n};\n\nvjs.VolumeBar.prototype.onMouseMove = function(event) {\n  if (this.player_.muted()) {\n    this.player_.muted(false);\n  }\n\n  this.player_.volume(this.calculateDistance(event));\n};\n\nvjs.VolumeBar.prototype.getPercent = function(){\n  if (this.player_.muted()) {\n    return 0;\n  } else {\n    return this.player_.volume();\n  }\n};\n\nvjs.VolumeBar.prototype.stepForward = function(){\n  this.player_.volume(this.player_.volume() + 0.1);\n};\n\nvjs.VolumeBar.prototype.stepBack = function(){\n  this.player_.volume(this.player_.volume() - 0.1);\n};\n\n/**\n * Shows volume level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.VolumeLevel = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.VolumeLevel.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-level',\n    innerHTML: '<span class=\"vjs-control-text\"></span>'\n  });\n};\n\n/**\n * The volume handle can be dragged to adjust the volume level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\n vjs.VolumeHandle = vjs.SliderHandle.extend();\n\n vjs.VolumeHandle.prototype.defaultValue = '00:00';\n\n /** @inheritDoc */\n vjs.VolumeHandle.prototype.createEl = function(){\n   return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n     className: 'vjs-volume-handle'\n   });\n };\n/**\n * A button component for muting the audio\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.MuteToggle = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.on(player, 'volumechange', this.update);\n\n    // hide mute toggle if the current tech doesn't support volume control\n    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n      this.addClass('vjs-hidden');\n    }\n\n    this.on(player, 'loadstart', function(){\n      if (player.tech['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      } else {\n        this.removeClass('vjs-hidden');\n      }\n    });\n  }\n});\n\nvjs.MuteToggle.prototype.createEl = function(){\n  return vjs.Button.prototype.createEl.call(this, 'div', {\n    className: 'vjs-mute-control vjs-control',\n    innerHTML: '<div><span class=\"vjs-control-text\">' + this.localize('Mute') + '</span></div>'\n  });\n};\n\nvjs.MuteToggle.prototype.onClick = function(){\n  this.player_.muted( this.player_.muted() ? false : true );\n};\n\nvjs.MuteToggle.prototype.update = function(){\n  var vol = this.player_.volume(),\n      level = 3;\n\n  if (vol === 0 || this.player_.muted()) {\n    level = 0;\n  } else if (vol < 0.33) {\n    level = 1;\n  } else if (vol < 0.67) {\n    level = 2;\n  }\n\n  // Don't rewrite the button text if the actual text doesn't change.\n  // This causes unnecessary and confusing information for screen reader users.\n  // This check is needed because this function gets called every time the volume level is changed.\n  if(this.player_.muted()){\n      if(this.el_.children[0].children[0].innerHTML!=this.localize('Unmute')){\n          this.el_.children[0].children[0].innerHTML = this.localize('Unmute'); // change the button text to \"Unmute\"\n      }\n  } else {\n      if(this.el_.children[0].children[0].innerHTML!=this.localize('Mute')){\n          this.el_.children[0].children[0].innerHTML = this.localize('Mute'); // change the button text to \"Mute\"\n      }\n  }\n\n  /* TODO improve muted icon classes */\n  for (var i = 0; i < 4; i++) {\n    vjs.removeClass(this.el_, 'vjs-vol-'+i);\n  }\n  vjs.addClass(this.el_, 'vjs-vol-'+level);\n};\n/**\n * Menu button with a popup for showing the volume slider.\n * @constructor\n */\nvjs.VolumeMenuButton = vjs.MenuButton.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.MenuButton.call(this, player, options);\n\n    // Same listeners as MuteToggle\n    this.on(player, 'volumechange', this.volumeUpdate);\n\n    // hide mute toggle if the current tech doesn't support volume control\n    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n      this.addClass('vjs-hidden');\n    }\n    this.on(player, 'loadstart', function(){\n      if (player.tech['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      } else {\n        this.removeClass('vjs-hidden');\n      }\n    });\n    this.addClass('vjs-menu-button');\n  }\n});\n\nvjs.VolumeMenuButton.prototype.createMenu = function(){\n  var menu = new vjs.Menu(this.player_, {\n    contentElType: 'div'\n  });\n  var vc = new vjs.VolumeBar(this.player_, this.options_['volumeBar']);\n  vc.on('focus', function() {\n    menu.lockShowing();\n  });\n  vc.on('blur', function() {\n    menu.unlockShowing();\n  });\n  menu.addChild(vc);\n  return menu;\n};\n\nvjs.VolumeMenuButton.prototype.onClick = function(){\n  vjs.MuteToggle.prototype.onClick.call(this);\n  vjs.MenuButton.prototype.onClick.call(this);\n};\n\nvjs.VolumeMenuButton.prototype.createEl = function(){\n  return vjs.Button.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-menu-button vjs-menu-button vjs-control',\n    innerHTML: '<div><span class=\"vjs-control-text\">' + this.localize('Mute') + '</span></div>'\n  });\n};\nvjs.VolumeMenuButton.prototype.volumeUpdate = vjs.MuteToggle.prototype.update;\n/**\n * The component for controlling the playback rate\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.PlaybackRateMenuButton = vjs.MenuButton.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.MenuButton.call(this, player, options);\n\n    this.updateVisibility();\n    this.updateLabel();\n\n    this.on(player, 'loadstart', this.updateVisibility);\n    this.on(player, 'ratechange', this.updateLabel);\n  }\n});\n\nvjs.PlaybackRateMenuButton.prototype.buttonText = 'Playback Rate';\nvjs.PlaybackRateMenuButton.prototype.className = 'vjs-playback-rate';\n\nvjs.PlaybackRateMenuButton.prototype.createEl = function(){\n  var el = vjs.MenuButton.prototype.createEl.call(this);\n\n  this.labelEl_ = vjs.createEl('div', {\n    className: 'vjs-playback-rate-value',\n    innerHTML: 1.0\n  });\n\n  el.appendChild(this.labelEl_);\n\n  return el;\n};\n\n// Menu creation\nvjs.PlaybackRateMenuButton.prototype.createMenu = function(){\n  var menu = new vjs.Menu(this.player());\n  var rates = this.player().options()['playbackRates'];\n\n  if (rates) {\n    for (var i = rates.length - 1; i >= 0; i--) {\n      menu.addChild(\n        new vjs.PlaybackRateMenuItem(this.player(), { 'rate': rates[i] + 'x'})\n        );\n    }\n  }\n\n  return menu;\n};\n\nvjs.PlaybackRateMenuButton.prototype.updateARIAAttributes = function(){\n  // Current playback rate\n  this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n};\n\nvjs.PlaybackRateMenuButton.prototype.onClick = function(){\n  // select next rate option\n  var currentRate = this.player().playbackRate();\n  var rates = this.player().options()['playbackRates'];\n  // this will select first one if the last one currently selected\n  var newRate = rates[0];\n  for (var i = 0; i <rates.length ; i++) {\n    if (rates[i] > currentRate) {\n      newRate = rates[i];\n      break;\n    }\n  }\n  this.player().playbackRate(newRate);\n};\n\nvjs.PlaybackRateMenuButton.prototype.playbackRateSupported = function(){\n  return this.player().tech\n    && this.player().tech['featuresPlaybackRate']\n    && this.player().options()['playbackRates']\n    && this.player().options()['playbackRates'].length > 0\n  ;\n};\n\n/**\n * Hide playback rate controls when they're no playback rate options to select\n */\nvjs.PlaybackRateMenuButton.prototype.updateVisibility = function(){\n  if (this.playbackRateSupported()) {\n    this.removeClass('vjs-hidden');\n  } else {\n    this.addClass('vjs-hidden');\n  }\n};\n\n/**\n * Update button label when rate changed\n */\nvjs.PlaybackRateMenuButton.prototype.updateLabel = function(){\n  if (this.playbackRateSupported()) {\n    this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n  }\n};\n\n/**\n * The specific menu item type for selecting a playback rate\n *\n * @constructor\n */\nvjs.PlaybackRateMenuItem = vjs.MenuItem.extend({\n  contentElType: 'button',\n  /** @constructor */\n  init: function(player, options){\n    var label = this.label = options['rate'];\n    var rate = this.rate = parseFloat(label, 10);\n\n    // Modify options for parent MenuItem class's init.\n    options['label'] = label;\n    options['selected'] = rate === 1;\n    vjs.MenuItem.call(this, player, options);\n\n    this.on(player, 'ratechange', this.update);\n  }\n});\n\nvjs.PlaybackRateMenuItem.prototype.onClick = function(){\n  vjs.MenuItem.prototype.onClick.call(this);\n  this.player().playbackRate(this.rate);\n};\n\nvjs.PlaybackRateMenuItem.prototype.update = function(){\n  this.selected(this.player().playbackRate() == this.rate);\n};\n/* Poster Image\n================================================================================ */\n/**\n * The component that handles showing the poster image.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.PosterImage = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.update();\n    player.on('posterchange', vjs.bind(this, this.update));\n  }\n});\n\n/**\n * Clean up the poster image\n */\nvjs.PosterImage.prototype.dispose = function(){\n  this.player().off('posterchange', this.update);\n  vjs.Button.prototype.dispose.call(this);\n};\n\n/**\n * Create the poster image element\n * @return {Element}\n */\nvjs.PosterImage.prototype.createEl = function(){\n  var el = vjs.createEl('div', {\n    className: 'vjs-poster',\n\n    // Don't want poster to be tabbable.\n    tabIndex: -1\n  });\n\n  // To ensure the poster image resizes while maintaining its original aspect\n  // ratio, use a div with `background-size` when available. For browsers that\n  // do not support `background-size` (e.g. IE8), fall back on using a regular\n  // img element.\n  if (!vjs.BACKGROUND_SIZE_SUPPORTED) {\n    this.fallbackImg_ = vjs.createEl('img');\n    el.appendChild(this.fallbackImg_);\n  }\n\n  return el;\n};\n\n/**\n * Event handler for updates to the player's poster source\n */\nvjs.PosterImage.prototype.update = function(){\n  var url = this.player().poster();\n\n  this.setSrc(url);\n\n  // If there's no poster source we should display:none on this component\n  // so it's not still clickable or right-clickable\n  if (url) {\n    this.show();\n  } else {\n    this.hide();\n  }\n};\n\n/**\n * Set the poster source depending on the display method\n */\nvjs.PosterImage.prototype.setSrc = function(url){\n  var backgroundImage;\n\n  if (this.fallbackImg_) {\n    this.fallbackImg_.src = url;\n  } else {\n    backgroundImage = '';\n    // Any falsey values should stay as an empty string, otherwise\n    // this will throw an extra error\n    if (url) {\n      backgroundImage = 'url(\"' + url + '\")';\n    }\n\n    this.el_.style.backgroundImage = backgroundImage;\n  }\n};\n\n/**\n * Event handler for clicks on the poster image\n */\nvjs.PosterImage.prototype.onClick = function(){\n  // We don't want a click to trigger playback when controls are disabled\n  // but CSS should be hiding the poster to prevent that from happening\n  this.player_.play();\n};\n/* Loading Spinner\n================================================================================ */\n/**\n * Loading spinner for waiting events\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.LoadingSpinner = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // MOVING DISPLAY HANDLING TO CSS\n\n    // player.on('canplay', vjs.bind(this, this.hide));\n    // player.on('canplaythrough', vjs.bind(this, this.hide));\n    // player.on('playing', vjs.bind(this, this.hide));\n    // player.on('seeking', vjs.bind(this, this.show));\n\n    // in some browsers seeking does not trigger the 'playing' event,\n    // so we also need to trap 'seeked' if we are going to set a\n    // 'seeking' event\n    // player.on('seeked', vjs.bind(this, this.hide));\n\n    // player.on('ended', vjs.bind(this, this.hide));\n\n    // Not showing spinner on stalled any more. Browsers may stall and then not trigger any events that would remove the spinner.\n    // Checked in Chrome 16 and Safari 5.1.2. http://help.videojs.com/discussions/problems/883-why-is-the-download-progress-showing\n    // player.on('stalled', vjs.bind(this, this.show));\n\n    // player.on('waiting', vjs.bind(this, this.show));\n  }\n});\n\nvjs.LoadingSpinner.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-loading-spinner'\n  });\n};\n/* Big Play Button\n================================================================================ */\n/**\n * Initial play button. Shows before the video has played. The hiding of the\n * big play button is done via CSS and player states.\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.BigPlayButton = vjs.Button.extend();\n\nvjs.BigPlayButton.prototype.createEl = function(){\n  return vjs.Button.prototype.createEl.call(this, 'div', {\n    className: 'vjs-big-play-button',\n    innerHTML: '<span aria-hidden=\"true\"></span>',\n    'aria-label': 'play video'\n  });\n};\n\nvjs.BigPlayButton.prototype.onClick = function(){\n  this.player_.play();\n};\n/**\n * Display that an error has occurred making the video unplayable\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.ErrorDisplay = vjs.Component.extend({\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.update();\n    this.on(player, 'error', this.update);\n  }\n});\n\nvjs.ErrorDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-error-display'\n  });\n\n  this.contentEl_ = vjs.createEl('div');\n  el.appendChild(this.contentEl_);\n\n  return el;\n};\n\nvjs.ErrorDisplay.prototype.update = function(){\n  if (this.player().error()) {\n    this.contentEl_.innerHTML = this.localize(this.player().error().message);\n  }\n};\n(function() {\n  var createTrackHelper;\n/**\n * @fileoverview Media Technology Controller - Base class for media playback\n * technology controllers like Flash and HTML5\n */\n\n/**\n * Base class for media (HTML5 Video, Flash) controllers\n * @param {vjs.Player|Object} player  Central player instance\n * @param {Object=} options Options object\n * @constructor\n */\nvjs.MediaTechController = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    options = options || {};\n    // we don't want the tech to report user activity automatically.\n    // This is done manually in addControlsListeners\n    options.reportTouchActivity = false;\n    vjs.Component.call(this, player, options, ready);\n\n    // Manually track progress in cases where the browser/flash player doesn't report it.\n    if (!this['featuresProgressEvents']) {\n      this.manualProgressOn();\n    }\n\n    // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n    if (!this['featuresTimeupdateEvents']) {\n      this.manualTimeUpdatesOn();\n    }\n\n    this.initControlsListeners();\n\n    if (!this['featuresNativeTextTracks']) {\n      this.emulateTextTracks();\n    }\n\n    this.initTextTrackListeners();\n  }\n});\n\n/**\n * Set up click and touch listeners for the playback element\n * On desktops, a click on the video itself will toggle playback,\n * on a mobile device a click on the video toggles controls.\n * (toggling controls is done by toggling the user state between active and\n * inactive)\n *\n * A tap can signal that a user has become active, or has become inactive\n * e.g. a quick tap on an iPhone movie should reveal the controls. Another\n * quick tap should hide them again (signaling the user is in an inactive\n * viewing state)\n *\n * In addition to this, we still want the user to be considered inactive after\n * a few seconds of inactivity.\n *\n * Note: the only part of iOS interaction we can't mimic with this setup\n * is a touch and hold on the video element counting as activity in order to\n * keep the controls showing, but that shouldn't be an issue. A touch and hold on\n * any controls will still keep the user active\n */\nvjs.MediaTechController.prototype.initControlsListeners = function(){\n  var player, activateControls;\n\n  player = this.player();\n\n  activateControls = function(){\n    if (player.controls() && !player.usingNativeControls()) {\n      this.addControlsListeners();\n    }\n  };\n\n  // Set up event listeners once the tech is ready and has an element to apply\n  // listeners to\n  this.ready(activateControls);\n  this.on(player, 'controlsenabled', activateControls);\n  this.on(player, 'controlsdisabled', this.removeControlsListeners);\n\n  // if we're loading the playback object after it has started loading or playing the\n  // video (often with autoplay on) then the loadstart event has already fired and we\n  // need to fire it manually because many things rely on it.\n  // Long term we might consider how we would do this for other events like 'canplay'\n  // that may also have fired.\n  this.ready(function(){\n    if (this.networkState && this.networkState() > 0) {\n      this.player().trigger('loadstart');\n    }\n  });\n};\n\nvjs.MediaTechController.prototype.addControlsListeners = function(){\n  var userWasActive;\n\n  // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n  // trigger mousedown/up.\n  // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n  // Any touch events are set to block the mousedown event from happening\n  this.on('mousedown', this.onClick);\n\n  // If the controls were hidden we don't want that to change without a tap event\n  // so we'll check if the controls were already showing before reporting user\n  // activity\n  this.on('touchstart', function(event) {\n    userWasActive = this.player_.userActive();\n  });\n\n  this.on('touchmove', function(event) {\n    if (userWasActive){\n      this.player().reportUserActivity();\n    }\n  });\n\n  this.on('touchend', function(event) {\n    // Stop the mouse events from also happening\n    event.preventDefault();\n  });\n\n  // Turn on component tap events\n  this.emitTapEvents();\n\n  // The tap listener needs to come after the touchend listener because the tap\n  // listener cancels out any reportedUserActivity when setting userActive(false)\n  this.on('tap', this.onTap);\n};\n\n/**\n * Remove the listeners used for click and tap controls. This is needed for\n * toggling to controls disabled, where a tap/touch should do nothing.\n */\nvjs.MediaTechController.prototype.removeControlsListeners = function(){\n  // We don't want to just use `this.off()` because there might be other needed\n  // listeners added by techs that extend this.\n  this.off('tap');\n  this.off('touchstart');\n  this.off('touchmove');\n  this.off('touchleave');\n  this.off('touchcancel');\n  this.off('touchend');\n  this.off('click');\n  this.off('mousedown');\n};\n\n/**\n * Handle a click on the media element. By default will play/pause the media.\n */\nvjs.MediaTechController.prototype.onClick = function(event){\n  // We're using mousedown to detect clicks thanks to Flash, but mousedown\n  // will also be triggered with right-clicks, so we need to prevent that\n  if (event.button !== 0) return;\n\n  // When controls are disabled a click should not toggle playback because\n  // the click is considered a control\n  if (this.player().controls()) {\n    if (this.player().paused()) {\n      this.player().play();\n    } else {\n      this.player().pause();\n    }\n  }\n};\n\n/**\n * Handle a tap on the media element. By default it will toggle the user\n * activity state, which hides and shows the controls.\n */\nvjs.MediaTechController.prototype.onTap = function(){\n  this.player().userActive(!this.player().userActive());\n};\n\n/* Fallbacks for unsupported event types\n================================================================================ */\n// Manually trigger progress events based on changes to the buffered amount\n// Many flash players and older HTML5 browsers don't send progress or progress-like events\nvjs.MediaTechController.prototype.manualProgressOn = function(){\n  this.manualProgress = true;\n\n  // Trigger progress watching when a source begins loading\n  this.trackProgress();\n};\n\nvjs.MediaTechController.prototype.manualProgressOff = function(){\n  this.manualProgress = false;\n  this.stopTrackingProgress();\n};\n\nvjs.MediaTechController.prototype.trackProgress = function(){\n  this.progressInterval = this.setInterval(function(){\n    // Don't trigger unless buffered amount is greater than last time\n\n    var bufferedPercent = this.player().bufferedPercent();\n\n    if (this.bufferedPercent_ != bufferedPercent) {\n      this.player().trigger('progress');\n    }\n\n    this.bufferedPercent_ = bufferedPercent;\n\n    if (bufferedPercent === 1) {\n      this.stopTrackingProgress();\n    }\n  }, 500);\n};\nvjs.MediaTechController.prototype.stopTrackingProgress = function(){ this.clearInterval(this.progressInterval); };\n\n/*! Time Tracking -------------------------------------------------------------- */\nvjs.MediaTechController.prototype.manualTimeUpdatesOn = function(){\n  var player = this.player_;\n\n  this.manualTimeUpdates = true;\n\n  this.on(player, 'play', this.trackCurrentTime);\n  this.on(player, 'pause', this.stopTrackingCurrentTime);\n  // timeupdate is also called by .currentTime whenever current time is set\n\n  // Watch for native timeupdate event\n  this.one('timeupdate', function(){\n    // Update known progress support for this playback technology\n    this['featuresTimeupdateEvents'] = true;\n    // Turn off manual progress tracking\n    this.manualTimeUpdatesOff();\n  });\n};\n\nvjs.MediaTechController.prototype.manualTimeUpdatesOff = function(){\n  var player = this.player_;\n\n  this.manualTimeUpdates = false;\n  this.stopTrackingCurrentTime();\n  this.off(player, 'play', this.trackCurrentTime);\n  this.off(player, 'pause', this.stopTrackingCurrentTime);\n};\n\nvjs.MediaTechController.prototype.trackCurrentTime = function(){\n  if (this.currentTimeInterval) { this.stopTrackingCurrentTime(); }\n  this.currentTimeInterval = this.setInterval(function(){\n    this.player().trigger('timeupdate');\n  }, 250); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n};\n\n// Turn off play progress tracking (when paused or dragging)\nvjs.MediaTechController.prototype.stopTrackingCurrentTime = function(){\n  this.clearInterval(this.currentTimeInterval);\n\n  // #1002 - if the video ends right before the next timeupdate would happen,\n  // the progress bar won't make it all the way to the end\n  this.player().trigger('timeupdate');\n};\n\nvjs.MediaTechController.prototype.dispose = function() {\n  // Turn off any manual progress or timeupdate tracking\n  if (this.manualProgress) { this.manualProgressOff(); }\n\n  if (this.manualTimeUpdates) { this.manualTimeUpdatesOff(); }\n\n  vjs.Component.prototype.dispose.call(this);\n};\n\nvjs.MediaTechController.prototype.setCurrentTime = function() {\n  // improve the accuracy of manual timeupdates\n  if (this.manualTimeUpdates) { this.player().trigger('timeupdate'); }\n};\n\n// TODO: Consider looking at moving this into the text track display directly\n// https://github.com/videojs/video.js/issues/1863\nvjs.MediaTechController.prototype.initTextTrackListeners = function() {\n  var player = this.player_,\n      tracks,\n      textTrackListChanges = function() {\n        var textTrackDisplay = player.getChild('textTrackDisplay'),\n            controlBar;\n\n        if (textTrackDisplay) {\n          textTrackDisplay.updateDisplay();\n        }\n      };\n\n  tracks = this.textTracks();\n\n  if (!tracks) {\n    return;\n  }\n\n  tracks.addEventListener('removetrack', textTrackListChanges);\n  tracks.addEventListener('addtrack', textTrackListChanges);\n\n  this.on('dispose', vjs.bind(this, function() {\n    tracks.removeEventListener('removetrack', textTrackListChanges);\n    tracks.removeEventListener('addtrack', textTrackListChanges);\n  }));\n};\n\nvjs.MediaTechController.prototype.emulateTextTracks = function() {\n  var player = this.player_,\n      textTracksChanges,\n      tracks,\n      script;\n\n  if (!window['WebVTT']) {\n    script = document.createElement('script');\n    script.src = player.options()['vtt.js'] || '../node_modules/vtt.js/dist/vtt.js';\n    player.el().appendChild(script);\n    window['WebVTT'] = true;\n  }\n\n  tracks = this.textTracks();\n  if (!tracks) {\n    return;\n  }\n\n  textTracksChanges = function() {\n    var i, track, textTrackDisplay;\n\n    textTrackDisplay = player.getChild('textTrackDisplay'),\n\n    textTrackDisplay.updateDisplay();\n\n    for (i = 0; i < this.length; i++) {\n      track = this[i];\n      track.removeEventListener('cuechange', vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));\n      if (track.mode === 'showing') {\n        track.addEventListener('cuechange', vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));\n      }\n    }\n  };\n\n  tracks.addEventListener('change', textTracksChanges);\n\n  this.on('dispose', vjs.bind(this, function() {\n    tracks.removeEventListener('change', textTracksChanges);\n  }));\n};\n\n/**\n * Provide default methods for text tracks.\n *\n * Html5 tech overrides these.\n */\n\n/**\n * List of associated text tracks\n * @type {Array}\n * @private\n */\nvjs.MediaTechController.prototype.textTracks_;\n\nvjs.MediaTechController.prototype.textTracks = function() {\n  this.player_.textTracks_ = this.player_.textTracks_ || new vjs.TextTrackList();\n  return this.player_.textTracks_;\n};\n\nvjs.MediaTechController.prototype.remoteTextTracks = function() {\n  this.player_.remoteTextTracks_ = this.player_.remoteTextTracks_ || new vjs.TextTrackList();\n  return this.player_.remoteTextTracks_;\n};\n\ncreateTrackHelper = function(self, kind, label, language, options) {\n  var tracks = self.textTracks(),\n      track;\n\n  options = options || {};\n\n  options['kind'] = kind;\n  if (label) {\n    options['label'] = label;\n  }\n  if (language) {\n    options['language'] = language;\n  }\n  options['player'] = self.player_;\n\n  track = new vjs.TextTrack(options);\n  tracks.addTrack_(track);\n\n  return track;\n};\n\nvjs.MediaTechController.prototype.addTextTrack = function(kind, label, language) {\n  if (!kind) {\n    throw new Error('TextTrack kind is required but was not provided');\n  }\n\n  return createTrackHelper(this, kind, label, language);\n};\n\nvjs.MediaTechController.prototype.addRemoteTextTrack = function(options) {\n  var track = createTrackHelper(this, options['kind'], options['label'], options['language'], options);\n  this.remoteTextTracks().addTrack_(track);\n  return {\n    track: track\n  };\n};\n\nvjs.MediaTechController.prototype.removeRemoteTextTrack = function(track) {\n  this.textTracks().removeTrack_(track);\n  this.remoteTextTracks().removeTrack_(track);\n};\n\n/**\n * Provide a default setPoster method for techs\n *\n * Poster support for techs should be optional, so we don't want techs to\n * break if they don't have a way to set a poster.\n */\nvjs.MediaTechController.prototype.setPoster = function(){};\n\nvjs.MediaTechController.prototype['featuresVolumeControl'] = true;\n\n// Resizing plugins using request fullscreen reloads the plugin\nvjs.MediaTechController.prototype['featuresFullscreenResize'] = false;\nvjs.MediaTechController.prototype['featuresPlaybackRate'] = false;\n\n// Optional events that we can manually mimic with timers\n// currently not triggered by video-js-swf\nvjs.MediaTechController.prototype['featuresProgressEvents'] = false;\nvjs.MediaTechController.prototype['featuresTimeupdateEvents'] = false;\n\nvjs.MediaTechController.prototype['featuresNativeTextTracks'] = false;\n\n/**\n * A functional mixin for techs that want to use the Source Handler pattern.\n *\n * ##### EXAMPLE:\n *\n *   videojs.MediaTechController.withSourceHandlers.call(MyTech);\n *\n */\nvjs.MediaTechController.withSourceHandlers = function(Tech){\n  /**\n   * Register a source handler\n   * Source handlers are scripts for handling specific formats.\n   * The source handler pattern is used for adaptive formats (HLS, DASH) that\n   * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n   * @param  {Function} handler  The source handler\n   * @param  {Boolean}  first    Register it before any existing handlers\n   */\n  Tech.registerSourceHandler = function(handler, index){\n    var handlers = Tech.sourceHandlers;\n\n    if (!handlers) {\n      handlers = Tech.sourceHandlers = [];\n    }\n\n    if (index === undefined) {\n      // add to the end of the list\n      index = handlers.length;\n    }\n\n    handlers.splice(index, 0, handler);\n  };\n\n  /**\n   * Return the first source handler that supports the source\n   * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n   * @param  {Object} source The source object\n   * @returns {Object}       The first source handler that supports the source\n   * @returns {null}         Null if no source handler is found\n   */\n  Tech.selectSourceHandler = function(source){\n    var handlers = Tech.sourceHandlers || [],\n        can;\n\n    for (var i = 0; i < handlers.length; i++) {\n      can = handlers[i].canHandleSource(source);\n\n      if (can) {\n        return handlers[i];\n      }\n    }\n\n    return null;\n  };\n\n  /**\n  * Check if the tech can support the given source\n  * @param  {Object} srcObj  The source object\n  * @return {String}         'probably', 'maybe', or '' (empty string)\n  */\n  Tech.canPlaySource = function(srcObj){\n    var sh = Tech.selectSourceHandler(srcObj);\n\n    if (sh) {\n      return sh.canHandleSource(srcObj);\n    }\n\n    return '';\n  };\n\n  /**\n   * Create a function for setting the source using a source object\n   * and source handlers.\n   * Should never be called unless a source handler was found.\n   * @param {Object} source  A source object with src and type keys\n   * @return {vjs.MediaTechController} self\n   */\n  Tech.prototype.setSource = function(source){\n    var sh = Tech.selectSourceHandler(source);\n\n    if (!sh) {\n      // Fall back to a native source hander when unsupported sources are\n      // deliberately set\n      if (Tech.nativeSourceHandler) {\n        sh = Tech.nativeSourceHandler;\n      } else {\n        vjs.log.error('No source hander found for the current source.');\n      }\n    }\n\n    // Dispose any existing source handler\n    this.disposeSourceHandler();\n    this.off('dispose', this.disposeSourceHandler);\n\n    this.currentSource_ = source;\n    this.sourceHandler_ = sh.handleSource(source, this);\n    this.on('dispose', this.disposeSourceHandler);\n\n    return this;\n  };\n\n  /**\n   * Clean up any existing source handler\n   */\n  Tech.prototype.disposeSourceHandler = function(){\n    if (this.sourceHandler_ && this.sourceHandler_.dispose) {\n      this.sourceHandler_.dispose();\n    }\n  };\n\n};\n\nvjs.media = {};\n\n})();\n/**\n * @fileoverview HTML5 Media Controller - Wrapper for HTML5 Media API\n */\n\n/**\n * HTML5 Media Controller - Wrapper for HTML5 Media API\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @param {Function=} ready\n * @constructor\n */\nvjs.Html5 = vjs.MediaTechController.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    var  nodes, nodesLength, i, node, nodeName, removeNodes;\n\n    if (options['nativeCaptions'] === false || options['nativeTextTracks'] === false) {\n      this['featuresNativeTextTracks'] = false;\n    }\n\n    vjs.MediaTechController.call(this, player, options, ready);\n\n    this.setupTriggers();\n\n    var source = options['source'];\n\n    // Set the source if one is provided\n    // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n    // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n    // anyway so the error gets fired.\n    if (source && (this.el_.currentSrc !== source.src || (player.tag && player.tag.initNetworkState_ === 3))) {\n      this.setSource(source);\n    }\n\n    if (this.el_.hasChildNodes()) {\n\n      nodes = this.el_.childNodes;\n      nodesLength = nodes.length;\n      removeNodes = [];\n\n      while (nodesLength--) {\n        node = nodes[nodesLength];\n        nodeName = node.nodeName.toLowerCase();\n        if (nodeName === 'track') {\n          if (!this['featuresNativeTextTracks']) {\n            // Empty video tag tracks so the built-in player doesn't use them also.\n            // This may not be fast enough to stop HTML5 browsers from reading the tags\n            // so we'll need to turn off any default tracks if we're manually doing\n            // captions and subtitles. videoElement.textTracks\n            removeNodes.push(node);\n          } else {\n            this.remoteTextTracks().addTrack_(node['track']);\n          }\n        }\n      }\n\n      for (i=0; i<removeNodes.length; i++) {\n        this.el_.removeChild(removeNodes[i]);\n      }\n    }\n\n    if (this['featuresNativeTextTracks']) {\n      this.on('loadstart', vjs.bind(this, this.hideCaptions));\n    }\n\n    // Determine if native controls should be used\n    // Our goal should be to get the custom controls on mobile solid everywhere\n    // so we can remove this all together. Right now this will block custom\n    // controls on touch enabled laptops like the Chrome Pixel\n    if (vjs.TOUCH_ENABLED && player.options()['nativeControlsForTouch'] === true) {\n      this.useNativeControls();\n    }\n\n    // Chrome and Safari both have issues with autoplay.\n    // In Safari (5.1.1), when we move the video element into the container div, autoplay doesn't work.\n    // In Chrome (15), if you have autoplay + a poster + no controls, the video gets hidden (but audio plays)\n    // This fixes both issues. Need to wait for API, so it updates displays correctly\n    player.ready(function(){\n      if (this.src() && this.tag && this.options_['autoplay'] && this.paused()) {\n        delete this.tag['poster']; // Chrome Fix. Fixed in Chrome v16.\n        this.play();\n      }\n    });\n\n    this.triggerReady();\n  }\n});\n\nvjs.Html5.prototype.dispose = function(){\n  vjs.Html5.disposeMediaElement(this.el_);\n  vjs.MediaTechController.prototype.dispose.call(this);\n};\n\nvjs.Html5.prototype.createEl = function(){\n  var player = this.player_,\n      track,\n      trackEl,\n      i,\n      // If possible, reuse original tag for HTML5 playback technology element\n      el = player.tag,\n      attributes,\n      newEl,\n      clone;\n\n  // Check if this browser supports moving the element into the box.\n  // On the iPhone video will break if you move the element,\n  // So we have to create a brand new element.\n  if (!el || this['movingMediaElementInDOM'] === false) {\n\n    // If the original tag is still there, clone and remove it.\n    if (el) {\n      clone = el.cloneNode(false);\n      vjs.Html5.disposeMediaElement(el);\n      el = clone;\n      player.tag = null;\n    } else {\n      el = vjs.createEl('video');\n\n      // determine if native controls should be used\n      attributes = videojs.util.mergeOptions({}, player.tagAttributes);\n      if (!vjs.TOUCH_ENABLED || player.options()['nativeControlsForTouch'] !== true) {\n        delete attributes.controls;\n      }\n\n      vjs.setElementAttributes(el,\n        vjs.obj.merge(attributes, {\n          id:player.id() + '_html5_api',\n          'class':'vjs-tech'\n        })\n      );\n    }\n    // associate the player with the new tag\n    el['player'] = player;\n\n    if (player.options_.tracks) {\n      for (i = 0; i < player.options_.tracks.length; i++) {\n        track = player.options_.tracks[i];\n        trackEl = document.createElement('track');\n        trackEl.kind = track.kind;\n        trackEl.label = track.label;\n        trackEl.srclang = track.srclang;\n        trackEl.src = track.src;\n        if ('default' in track) {\n          trackEl.setAttribute('default', 'default');\n        }\n        el.appendChild(trackEl);\n      }\n    }\n\n    vjs.insertFirst(el, player.el());\n  }\n\n  // Update specific tag settings, in case they were overridden\n  var settingsAttrs = ['autoplay','preload','loop','muted'];\n  for (i = settingsAttrs.length - 1; i >= 0; i--) {\n    var attr = settingsAttrs[i];\n    var overwriteAttrs = {};\n    if (typeof player.options_[attr] !== 'undefined') {\n      overwriteAttrs[attr] = player.options_[attr];\n    }\n    vjs.setElementAttributes(el, overwriteAttrs);\n  }\n\n  return el;\n  // jenniisawesome = true;\n};\n\n\nvjs.Html5.prototype.hideCaptions = function() {\n  var tracks = this.el_.querySelectorAll('track'),\n      track,\n      i = tracks.length,\n      kinds = {\n        'captions': 1,\n        'subtitles': 1\n      };\n\n  while (i--) {\n    track = tracks[i].track;\n    if ((track && track['kind'] in kinds) &&\n        (!tracks[i]['default'])) {\n      track.mode = 'disabled';\n    }\n  }\n};\n\n// Make video events trigger player events\n// May seem verbose here, but makes other APIs possible.\n// Triggers removed using this.off when disposed\nvjs.Html5.prototype.setupTriggers = function(){\n  for (var i = vjs.Html5.Events.length - 1; i >= 0; i--) {\n    this.on(vjs.Html5.Events[i], this.eventHandler);\n  }\n};\n\nvjs.Html5.prototype.eventHandler = function(evt){\n  // In the case of an error on the video element, set the error prop\n  // on the player and let the player handle triggering the event. On\n  // some platforms, error events fire that do not cause the error\n  // property on the video element to be set. See #1465 for an example.\n  if (evt.type == 'error' && this.error()) {\n    this.player().error(this.error().code);\n\n  // in some cases we pass the event directly to the player\n  } else {\n    // No need for media events to bubble up.\n    evt.bubbles = false;\n\n    this.player().trigger(evt);\n  }\n};\n\nvjs.Html5.prototype.useNativeControls = function(){\n  var tech, player, controlsOn, controlsOff, cleanUp;\n\n  tech = this;\n  player = this.player();\n\n  // If the player controls are enabled turn on the native controls\n  tech.setControls(player.controls());\n\n  // Update the native controls when player controls state is updated\n  controlsOn = function(){\n    tech.setControls(true);\n  };\n  controlsOff = function(){\n    tech.setControls(false);\n  };\n  player.on('controlsenabled', controlsOn);\n  player.on('controlsdisabled', controlsOff);\n\n  // Clean up when not using native controls anymore\n  cleanUp = function(){\n    player.off('controlsenabled', controlsOn);\n    player.off('controlsdisabled', controlsOff);\n  };\n  tech.on('dispose', cleanUp);\n  player.on('usingcustomcontrols', cleanUp);\n\n  // Update the state of the player to using native controls\n  player.usingNativeControls(true);\n};\n\n\nvjs.Html5.prototype.play = function(){ this.el_.play(); };\nvjs.Html5.prototype.pause = function(){ this.el_.pause(); };\nvjs.Html5.prototype.paused = function(){ return this.el_.paused; };\n\nvjs.Html5.prototype.currentTime = function(){ return this.el_.currentTime; };\nvjs.Html5.prototype.setCurrentTime = function(seconds){\n  try {\n    this.el_.currentTime = seconds;\n  } catch(e) {\n    vjs.log(e, 'Video is not ready. (Video.js)');\n    // this.warning(VideoJS.warnings.videoNotReady);\n  }\n};\n\nvjs.Html5.prototype.duration = function(){ return this.el_.duration || 0; };\nvjs.Html5.prototype.buffered = function(){ return this.el_.buffered; };\n\nvjs.Html5.prototype.volume = function(){ return this.el_.volume; };\nvjs.Html5.prototype.setVolume = function(percentAsDecimal){ this.el_.volume = percentAsDecimal; };\nvjs.Html5.prototype.muted = function(){ return this.el_.muted; };\nvjs.Html5.prototype.setMuted = function(muted){ this.el_.muted = muted; };\n\nvjs.Html5.prototype.width = function(){ return this.el_.offsetWidth; };\nvjs.Html5.prototype.height = function(){ return this.el_.offsetHeight; };\n\nvjs.Html5.prototype.supportsFullScreen = function(){\n  if (typeof this.el_.webkitEnterFullScreen == 'function') {\n\n    // Seems to be broken in Chromium/Chrome && Safari in Leopard\n    if (/Android/.test(vjs.USER_AGENT) || !/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nvjs.Html5.prototype.enterFullScreen = function(){\n  var video = this.el_;\n\n  if ('webkitDisplayingFullscreen' in video) {\n    this.one('webkitbeginfullscreen', function() {\n      this.player_.isFullscreen(true);\n\n      this.one('webkitendfullscreen', function() {\n        this.player_.isFullscreen(false);\n        this.player_.trigger('fullscreenchange');\n      });\n\n      this.player_.trigger('fullscreenchange');\n    });\n  }\n\n  if (video.paused && video.networkState <= video.HAVE_METADATA) {\n    // attempt to prime the video element for programmatic access\n    // this isn't necessary on the desktop but shouldn't hurt\n    this.el_.play();\n\n    // playing and pausing synchronously during the transition to fullscreen\n    // can get iOS ~6.1 devices into a play/pause loop\n    this.setTimeout(function(){\n      video.pause();\n      video.webkitEnterFullScreen();\n    }, 0);\n  } else {\n    video.webkitEnterFullScreen();\n  }\n};\n\nvjs.Html5.prototype.exitFullScreen = function(){\n  this.el_.webkitExitFullScreen();\n};\n\n// Checks to see if the element's reported URI (either from `el_.src`\n// or `el_.currentSrc`) is a blob-uri and, if so, returns the uri that\n// was passed into the source-handler when it was first invoked instead\n// of the blob-uri\nvjs.Html5.prototype.returnOriginalIfBlobURI_ = function (elementURI, originalURI) {\n  var blobURIRegExp = /^blob\\:/i;\n\n  // If originalURI is undefined then we are probably in a non-source-handler-enabled\n  // tech that inherits from the Html5 tech so we should just return the elementURI\n  // regardless of it's blobby-ness\n  if (originalURI && elementURI && blobURIRegExp.test(elementURI)) {\n    return originalURI;\n  }\n  return elementURI;\n};\n\nvjs.Html5.prototype.src = function(src) {\n  var elementSrc = this.el_.src;\n\n  if (src === undefined) {\n    return this.returnOriginalIfBlobURI_(elementSrc, this.source_);\n  } else {\n    // Setting src through `src` instead of `setSrc` will be deprecated\n    this.setSrc(src);\n  }\n};\n\nvjs.Html5.prototype.setSrc = function(src) {\n  this.el_.src = src;\n};\n\nvjs.Html5.prototype.load = function(){ this.el_.load(); };\nvjs.Html5.prototype.currentSrc = function(){\n  var elementSrc = this.el_.currentSrc;\n\n  if (!this.currentSource_) {\n    return elementSrc;\n  }\n\n  return this.returnOriginalIfBlobURI_(elementSrc, this.currentSource_.src);\n};\n\nvjs.Html5.prototype.poster = function(){ return this.el_.poster; };\nvjs.Html5.prototype.setPoster = function(val){ this.el_.poster = val; };\n\nvjs.Html5.prototype.preload = function(){ return this.el_.preload; };\nvjs.Html5.prototype.setPreload = function(val){ this.el_.preload = val; };\n\nvjs.Html5.prototype.autoplay = function(){ return this.el_.autoplay; };\nvjs.Html5.prototype.setAutoplay = function(val){ this.el_.autoplay = val; };\n\nvjs.Html5.prototype.controls = function(){ return this.el_.controls; };\nvjs.Html5.prototype.setControls = function(val){ this.el_.controls = !!val; };\n\nvjs.Html5.prototype.loop = function(){ return this.el_.loop; };\nvjs.Html5.prototype.setLoop = function(val){ this.el_.loop = val; };\n\nvjs.Html5.prototype.error = function(){ return this.el_.error; };\nvjs.Html5.prototype.seeking = function(){ return this.el_.seeking; };\nvjs.Html5.prototype.seekable = function(){ return this.el_.seekable; };\nvjs.Html5.prototype.ended = function(){ return this.el_.ended; };\nvjs.Html5.prototype.defaultMuted = function(){ return this.el_.defaultMuted; };\n\nvjs.Html5.prototype.playbackRate = function(){ return this.el_.playbackRate; };\nvjs.Html5.prototype.setPlaybackRate = function(val){ this.el_.playbackRate = val; };\n\nvjs.Html5.prototype.networkState = function(){ return this.el_.networkState; };\nvjs.Html5.prototype.readyState = function(){ return this.el_.readyState; };\n\nvjs.Html5.prototype.textTracks = function() {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.textTracks.call(this);\n  }\n\n  return this.el_.textTracks;\n};\nvjs.Html5.prototype.addTextTrack = function(kind, label, language) {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.addTextTrack.call(this, kind, label, language);\n  }\n\n  return this.el_.addTextTrack(kind, label, language);\n};\n\nvjs.Html5.prototype.addRemoteTextTrack = function(options) {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this, options);\n  }\n\n  var track = document.createElement('track');\n  options = options || {};\n\n  if (options['kind']) {\n    track['kind'] = options['kind'];\n  }\n  if (options['label']) {\n    track['label'] = options['label'];\n  }\n  if (options['language'] || options['srclang']) {\n    track['srclang'] = options['language'] || options['srclang'];\n  }\n  if (options['default']) {\n    track['default'] = options['default'];\n  }\n  if (options['id']) {\n    track['id'] = options['id'];\n  }\n  if (options['src']) {\n    track['src'] = options['src'];\n  }\n\n  this.el().appendChild(track);\n\n  if (track.track['kind'] === 'metadata') {\n    track['track']['mode'] = 'hidden';\n  } else {\n    track['track']['mode'] = 'disabled';\n  }\n\n  track['onload'] = function() {\n    var tt = track['track'];\n    if (track.readyState >= 2) {\n      if (tt['kind'] === 'metadata' && tt['mode'] !== 'hidden') {\n        tt['mode'] = 'hidden';\n      } else if (tt['kind'] !== 'metadata' && tt['mode'] !== 'disabled') {\n        tt['mode'] = 'disabled';\n      }\n      track['onload'] = null;\n    }\n  };\n\n  this.remoteTextTracks().addTrack_(track.track);\n\n  return track;\n};\n\nvjs.Html5.prototype.removeRemoteTextTrack = function(track) {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this, track);\n  }\n\n  var tracks, i;\n\n  this.remoteTextTracks().removeTrack_(track);\n\n  tracks = this.el()['querySelectorAll']('track');\n\n  for (i = 0; i < tracks.length; i++) {\n    if (tracks[i] === track || tracks[i]['track'] === track) {\n      tracks[i]['parentNode']['removeChild'](tracks[i]);\n      break;\n    }\n  }\n};\n\n/* HTML5 Support Testing ---------------------------------------------------- */\n\n/**\n * Check if HTML5 video is supported by this browser/device\n * @return {Boolean}\n */\nvjs.Html5.isSupported = function(){\n  // IE9 with no Media Player is a LIAR! (#984)\n  try {\n    vjs.TEST_VID['volume'] = 0.5;\n  } catch (e) {\n    return false;\n  }\n\n  return !!vjs.TEST_VID.canPlayType;\n};\n\n// Add Source Handler pattern functions to this tech\nvjs.MediaTechController.withSourceHandlers(vjs.Html5);\n\n/*\n * Override the withSourceHandler mixin's methods with our own because\n * the HTML5 Media Element returns blob urls when utilizing MSE and we\n * want to still return proper source urls even when in that case\n */\n(function(){\n  var\n    origSetSource = vjs.Html5.prototype.setSource,\n    origDisposeSourceHandler = vjs.Html5.prototype.disposeSourceHandler;\n\n  vjs.Html5.prototype.setSource = function (source) {\n    var retVal = origSetSource.call(this, source);\n    this.source_ = source.src;\n    return retVal;\n  };\n\n  vjs.Html5.prototype.disposeSourceHandler = function () {\n    this.source_ = undefined;\n    return origDisposeSourceHandler.call(this);\n  };\n})();\n\n/**\n * The default native source handler.\n * This simply passes the source to the video element. Nothing fancy.\n * @param  {Object} source   The source object\n * @param  {vjs.Html5} tech  The instance of the HTML5 tech\n */\nvjs.Html5.nativeSourceHandler = {};\n\n/**\n * Check if the video element can handle the source natively\n * @param  {Object} source  The source object\n * @return {String}         'probably', 'maybe', or '' (empty string)\n */\nvjs.Html5.nativeSourceHandler.canHandleSource = function(source){\n  var match, ext;\n\n  function canPlayType(type){\n    // IE9 on Windows 7 without MediaPlayer throws an error here\n    // https://github.com/videojs/video.js/issues/519\n    try {\n      return vjs.TEST_VID.canPlayType(type);\n    } catch(e) {\n      return '';\n    }\n  }\n\n  // If a type was provided we should rely on that\n  if (source.type) {\n    return canPlayType(source.type);\n  } else if (source.src) {\n    // If no type, fall back to checking 'video/[EXTENSION]'\n    match = source.src.match(/\\.([^.\\/\\?]+)(\\?[^\\/]+)?$/i);\n    ext = match && match[1];\n\n    return canPlayType('video/'+ext);\n  }\n\n  return '';\n};\n\n/**\n * Pass the source to the video element\n * Adaptive source handlers will have more complicated workflows before passing\n * video data to the video element\n * @param  {Object} source    The source object\n * @param  {vjs.Html5} tech   The instance of the Html5 tech\n */\nvjs.Html5.nativeSourceHandler.handleSource = function(source, tech){\n  tech.setSrc(source.src);\n};\n\n/**\n * Clean up the source handler when disposing the player or switching sources..\n * (no cleanup is needed when supporting the format natively)\n */\nvjs.Html5.nativeSourceHandler.dispose = function(){};\n\n// Register the native source handler\nvjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler);\n\n/**\n * Check if the volume can be changed in this browser/device.\n * Volume cannot be changed in a lot of mobile devices.\n * Specifically, it can't be changed from 1 on iOS.\n * @return {Boolean}\n */\nvjs.Html5.canControlVolume = function(){\n  var volume =  vjs.TEST_VID.volume;\n  vjs.TEST_VID.volume = (volume / 2) + 0.1;\n  return volume !== vjs.TEST_VID.volume;\n};\n\n/**\n * Check if playbackRate is supported in this browser/device.\n * @return {[type]} [description]\n */\nvjs.Html5.canControlPlaybackRate = function(){\n  var playbackRate =  vjs.TEST_VID.playbackRate;\n  vjs.TEST_VID.playbackRate = (playbackRate / 2) + 0.1;\n  return playbackRate !== vjs.TEST_VID.playbackRate;\n};\n\n/**\n * Check to see if native text tracks are supported by this browser/device\n * @return {Boolean}\n */\nvjs.Html5.supportsNativeTextTracks = function() {\n  var supportsTextTracks;\n\n  // Figure out native text track support\n  // If mode is a number, we cannot change it because it'll disappear from view.\n  // Browsers with numeric modes include IE10 and older (<=2013) samsung android models.\n  // Firefox isn't playing nice either with modifying the mode\n  // TODO: Investigate firefox: https://github.com/videojs/video.js/issues/1862\n  supportsTextTracks = !!vjs.TEST_VID.textTracks;\n  if (supportsTextTracks && vjs.TEST_VID.textTracks.length > 0) {\n    supportsTextTracks = typeof vjs.TEST_VID.textTracks[0]['mode'] !== 'number';\n  }\n  if (supportsTextTracks && vjs.IS_FIREFOX) {\n    supportsTextTracks = false;\n  }\n\n  return supportsTextTracks;\n};\n\n/**\n * Set the tech's volume control support status\n * @type {Boolean}\n */\nvjs.Html5.prototype['featuresVolumeControl'] = vjs.Html5.canControlVolume();\n\n/**\n * Set the tech's playbackRate support status\n * @type {Boolean}\n */\nvjs.Html5.prototype['featuresPlaybackRate'] = vjs.Html5.canControlPlaybackRate();\n\n/**\n * Set the tech's status on moving the video element.\n * In iOS, if you move a video element in the DOM, it breaks video playback.\n * @type {Boolean}\n */\nvjs.Html5.prototype['movingMediaElementInDOM'] = !vjs.IS_IOS;\n\n/**\n * Set the the tech's fullscreen resize support status.\n * HTML video is able to automatically resize when going to fullscreen.\n * (No longer appears to be used. Can probably be removed.)\n */\nvjs.Html5.prototype['featuresFullscreenResize'] = true;\n\n/**\n * Set the tech's progress event support status\n * (this disables the manual progress events of the MediaTechController)\n */\nvjs.Html5.prototype['featuresProgressEvents'] = true;\n\n/**\n * Sets the tech's status on native text track support\n * @type {Boolean}\n */\nvjs.Html5.prototype['featuresNativeTextTracks'] = vjs.Html5.supportsNativeTextTracks();\n\n// HTML5 Feature detection and Device Fixes --------------------------------- //\n(function() {\n  var canPlayType,\n      mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i,\n      mp4RE = /^video\\/mp4/i;\n\n  vjs.Html5.patchCanPlayType = function() {\n    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n    if (vjs.ANDROID_VERSION >= 4.0) {\n      if (!canPlayType) {\n        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType;\n      }\n\n      vjs.TEST_VID.constructor.prototype.canPlayType = function(type) {\n        if (type && mpegurlRE.test(type)) {\n          return 'maybe';\n        }\n        return canPlayType.call(this, type);\n      };\n    }\n\n    // Override Android 2.2 and less canPlayType method which is broken\n    if (vjs.IS_OLD_ANDROID) {\n      if (!canPlayType) {\n        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType;\n      }\n\n      vjs.TEST_VID.constructor.prototype.canPlayType = function(type){\n        if (type && mp4RE.test(type)) {\n          return 'maybe';\n        }\n        return canPlayType.call(this, type);\n      };\n    }\n  };\n\n  vjs.Html5.unpatchCanPlayType = function() {\n    var r = vjs.TEST_VID.constructor.prototype.canPlayType;\n    vjs.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n    canPlayType = null;\n    return r;\n  };\n\n  // by default, patch the video element\n  vjs.Html5.patchCanPlayType();\n})();\n\n// List of all HTML5 events (various uses).\nvjs.Html5.Events = 'loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange'.split(',');\n\nvjs.Html5.disposeMediaElement = function(el){\n  if (!el) { return; }\n\n  el['player'] = null;\n\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n\n  // remove any child track or source nodes to prevent their loading\n  while(el.hasChildNodes()) {\n    el.removeChild(el.firstChild);\n  }\n\n  // remove any src reference. not setting `src=''` because that causes a warning\n  // in firefox\n  el.removeAttribute('src');\n\n  // force the media element to update its loading state by calling load()\n  // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n  if (typeof el.load === 'function') {\n    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n    (function() {\n      try {\n        el.load();\n      } catch (e) {\n        // not supported\n      }\n    })();\n  }\n};\n/**\n * @fileoverview VideoJS-SWF - Custom Flash Player with HTML5-ish API\n * https://github.com/zencoder/video-js-swf\n * Not using setupTriggers. Using global onEvent func to distribute events\n */\n\n/**\n * Flash Media Controller - Wrapper for fallback SWF API\n *\n * @param {vjs.Player} player\n * @param {Object=} options\n * @param {Function=} ready\n * @constructor\n */\nvjs.Flash = vjs.MediaTechController.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.MediaTechController.call(this, player, options, ready);\n\n    var source = options['source'],\n\n        // Generate ID for swf object\n        objId = player.id()+'_flash_api',\n\n        // Store player options in local var for optimization\n        // TODO: switch to using player methods instead of options\n        // e.g. player.autoplay();\n        playerOptions = player.options_,\n\n        // Merge default flashvars with ones passed in to init\n        flashVars = vjs.obj.merge({\n\n          // SWF Callback Functions\n          'readyFunction': 'videojs.Flash.onReady',\n          'eventProxyFunction': 'videojs.Flash.onEvent',\n          'errorEventProxyFunction': 'videojs.Flash.onError',\n\n          // Player Settings\n          'autoplay': playerOptions.autoplay,\n          'preload': playerOptions.preload,\n          'loop': playerOptions.loop,\n          'muted': playerOptions.muted\n\n        }, options['flashVars']),\n\n        // Merge default parames with ones passed in\n        params = vjs.obj.merge({\n          'wmode': 'opaque', // Opaque is needed to overlay controls, but can affect playback performance\n          'bgcolor': '#000000' // Using bgcolor prevents a white flash when the object is loading\n        }, options['params']),\n\n        // Merge default attributes with ones passed in\n        attributes = vjs.obj.merge({\n          'id': objId,\n          'name': objId, // Both ID and Name needed or swf to identify itself\n          'class': 'vjs-tech'\n        }, options['attributes'])\n    ;\n\n    // If source was supplied pass as a flash var.\n    if (source) {\n      this.ready(function(){\n        this.setSource(source);\n      });\n    }\n\n    // Add placeholder to player div\n    vjs.insertFirst(this.el_, options['parentEl']);\n\n    // Having issues with Flash reloading on certain page actions (hide/resize/fullscreen) in certain browsers\n    // This allows resetting the playhead when we catch the reload\n    if (options['startTime']) {\n      this.ready(function(){\n        this.load();\n        this.play();\n        this['currentTime'](options['startTime']);\n      });\n    }\n\n    // firefox doesn't bubble mousemove events to parent. videojs/video-js-swf#37\n    // bugzilla bug: https://bugzilla.mozilla.org/show_bug.cgi?id=836786\n    if (vjs.IS_FIREFOX) {\n      this.ready(function(){\n        this.on('mousemove', function(){\n          // since it's a custom event, don't bubble higher than the player\n          this.player().trigger({ 'type':'mousemove', 'bubbles': false });\n        });\n      });\n    }\n\n    // native click events on the SWF aren't triggered on IE11, Win8.1RT\n    // use stageclick events triggered from inside the SWF instead\n    player.on('stageclick', player.reportUserActivity);\n\n    this.el_ = vjs.Flash.embed(options['swf'], this.el_, flashVars, params, attributes);\n  }\n});\n\nvjs.Flash.prototype.dispose = function(){\n  vjs.MediaTechController.prototype.dispose.call(this);\n};\n\nvjs.Flash.prototype.play = function(){\n  this.el_.vjs_play();\n};\n\nvjs.Flash.prototype.pause = function(){\n  this.el_.vjs_pause();\n};\n\nvjs.Flash.prototype.src = function(src){\n  if (src === undefined) {\n    return this['currentSrc']();\n  }\n\n  // Setting src through `src` not `setSrc` will be deprecated\n  return this.setSrc(src);\n};\n\nvjs.Flash.prototype.setSrc = function(src){\n  // Make sure source URL is absolute.\n  src = vjs.getAbsoluteURL(src);\n  this.el_.vjs_src(src);\n\n  // Currently the SWF doesn't autoplay if you load a source later.\n  // e.g. Load player w/ no source, wait 2s, set src.\n  if (this.player_.autoplay()) {\n    var tech = this;\n    this.setTimeout(function(){ tech.play(); }, 0);\n  }\n};\n\nvjs.Flash.prototype['setCurrentTime'] = function(time){\n  this.lastSeekTarget_ = time;\n  this.el_.vjs_setProperty('currentTime', time);\n  vjs.MediaTechController.prototype.setCurrentTime.call(this);\n};\n\nvjs.Flash.prototype['currentTime'] = function(time){\n  // when seeking make the reported time keep up with the requested time\n  // by reading the time we're seeking to\n  if (this.seeking()) {\n    return this.lastSeekTarget_ || 0;\n  }\n  return this.el_.vjs_getProperty('currentTime');\n};\n\nvjs.Flash.prototype['currentSrc'] = function(){\n  if (this.currentSource_) {\n    return this.currentSource_.src;\n  } else {\n    return this.el_.vjs_getProperty('currentSrc');\n  }\n};\n\nvjs.Flash.prototype.load = function(){\n  this.el_.vjs_load();\n};\n\nvjs.Flash.prototype.poster = function(){\n  this.el_.vjs_getProperty('poster');\n};\nvjs.Flash.prototype['setPoster'] = function(){\n  // poster images are not handled by the Flash tech so make this a no-op\n};\n\nvjs.Flash.prototype.seekable = function() {\n  var duration = this.duration();\n  if (duration === 0) {\n    // The SWF reports a duration of zero when the actual duration is unknown\n    return vjs.createTimeRange();\n  }\n  return vjs.createTimeRange(0, this.duration());\n};\n\nvjs.Flash.prototype.buffered = function(){\n  if (!this.el_.vjs_getProperty) {\n    return vjs.createTimeRange();\n  }\n  return vjs.createTimeRange(0, this.el_.vjs_getProperty('buffered'));\n};\n\nvjs.Flash.prototype.duration = function(){\n  if (!this.el_.vjs_getProperty) {\n    return 0;\n  }\n  return this.el_.vjs_getProperty('duration');\n};\n\nvjs.Flash.prototype.supportsFullScreen = function(){\n  return false; // Flash does not allow fullscreen through javascript\n};\n\nvjs.Flash.prototype.enterFullScreen = function(){\n  return false;\n};\n\n(function(){\n  // Create setters and getters for attributes\n  var api = vjs.Flash.prototype,\n    readWrite = 'rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(','),\n    readOnly = 'error,networkState,readyState,seeking,initialTime,startOffsetTime,paused,played,ended,videoTracks,audioTracks,videoWidth,videoHeight'.split(','),\n    // Overridden: buffered, currentTime, currentSrc\n    i;\n\n  function createSetter(attr){\n    var attrUpper = attr.charAt(0).toUpperCase() + attr.slice(1);\n    api['set'+attrUpper] = function(val){ return this.el_.vjs_setProperty(attr, val); };\n  }\n  function createGetter(attr) {\n    api[attr] = function(){ return this.el_.vjs_getProperty(attr); };\n  }\n\n  // Create getter and setters for all read/write attributes\n  for (i = 0; i < readWrite.length; i++) {\n    createGetter(readWrite[i]);\n    createSetter(readWrite[i]);\n  }\n\n  // Create getters for read-only attributes\n  for (i = 0; i < readOnly.length; i++) {\n    createGetter(readOnly[i]);\n  }\n})();\n\n/* Flash Support Testing -------------------------------------------------------- */\n\nvjs.Flash.isSupported = function(){\n  return vjs.Flash.version()[0] >= 10;\n  // return swfobject.hasFlashPlayerVersion('10');\n};\n\n// Add Source Handler pattern functions to this tech\nvjs.MediaTechController.withSourceHandlers(vjs.Flash);\n\n/**\n * The default native source handler.\n * This simply passes the source to the video element. Nothing fancy.\n * @param  {Object} source   The source object\n * @param  {vjs.Flash} tech  The instance of the Flash tech\n */\nvjs.Flash.nativeSourceHandler = {};\n\n/**\n * Check Flash can handle the source natively\n * @param  {Object} source  The source object\n * @return {String}         'probably', 'maybe', or '' (empty string)\n */\nvjs.Flash.nativeSourceHandler.canHandleSource = function(source){\n  var type;\n\n  if (!source.type) {\n    return '';\n  }\n\n  // Strip code information from the type because we don't get that specific\n  type = source.type.replace(/;.*/,'').toLowerCase();\n\n  if (type in vjs.Flash.formats) {\n    return 'maybe';\n  }\n\n  return '';\n};\n\n/**\n * Pass the source to the flash object\n * Adaptive source handlers will have more complicated workflows before passing\n * video data to the video element\n * @param  {Object} source    The source object\n * @param  {vjs.Flash} tech   The instance of the Flash tech\n */\nvjs.Flash.nativeSourceHandler.handleSource = function(source, tech){\n  tech.setSrc(source.src);\n};\n\n/**\n * Clean up the source handler when disposing the player or switching sources..\n * (no cleanup is needed when supporting the format natively)\n */\nvjs.Flash.nativeSourceHandler.dispose = function(){};\n\n// Register the native source handler\nvjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler);\n\nvjs.Flash.formats = {\n  'video/flv': 'FLV',\n  'video/x-flv': 'FLV',\n  'video/mp4': 'MP4',\n  'video/m4v': 'MP4'\n};\n\nvjs.Flash['onReady'] = function(currSwf){\n  var el, player;\n\n  el = vjs.el(currSwf);\n\n  // get player from the player div property\n  player = el && el.parentNode && el.parentNode['player'];\n\n  // if there is no el or player then the tech has been disposed\n  // and the tech element was removed from the player div\n  if (player) {\n    // reference player on tech element\n    el['player'] = player;\n    // check that the flash object is really ready\n    vjs.Flash['checkReady'](player.tech);\n  }\n};\n\n// The SWF isn't always ready when it says it is. Sometimes the API functions still need to be added to the object.\n// If it's not ready, we set a timeout to check again shortly.\nvjs.Flash['checkReady'] = function(tech){\n  // stop worrying if the tech has been disposed\n  if (!tech.el()) {\n    return;\n  }\n\n  // check if API property exists\n  if (tech.el().vjs_getProperty) {\n    // tell tech it's ready\n    tech.triggerReady();\n  } else {\n    // wait longer\n    this.setTimeout(function(){\n      vjs.Flash['checkReady'](tech);\n    }, 50);\n  }\n};\n\n// Trigger events from the swf on the player\nvjs.Flash['onEvent'] = function(swfID, eventName){\n  var player = vjs.el(swfID)['player'];\n  player.trigger(eventName);\n};\n\n// Log errors from the swf\nvjs.Flash['onError'] = function(swfID, err){\n  var player = vjs.el(swfID)['player'];\n  var msg = 'FLASH: '+err;\n\n  if (err == 'srcnotfound') {\n    player.error({ code: 4, message: msg });\n\n  // errors we haven't categorized into the media errors\n  } else {\n    player.error(msg);\n  }\n};\n\n// Flash Version Check\nvjs.Flash.version = function(){\n  var version = '0,0,0';\n\n  // IE\n  try {\n    version = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n\n  // other browsers\n  } catch(e) {\n    try {\n      if (navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){\n        version = (navigator.plugins['Shockwave Flash 2.0'] || navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n      }\n    } catch(err) {}\n  }\n  return version.split(',');\n};\n\n// Flash embedding method. Only used in non-iframe mode\nvjs.Flash.embed = function(swf, placeHolder, flashVars, params, attributes){\n  var code = vjs.Flash.getEmbedCode(swf, flashVars, params, attributes),\n\n      // Get element by embedding code and retrieving created element\n      obj = vjs.createEl('div', { innerHTML: code }).childNodes[0],\n\n      par = placeHolder.parentNode\n  ;\n\n  placeHolder.parentNode.replaceChild(obj, placeHolder);\n  obj[vjs.expando] = placeHolder[vjs.expando];\n\n  // IE6 seems to have an issue where it won't initialize the swf object after injecting it.\n  // This is a dumb fix\n  var newObj = par.childNodes[0];\n  setTimeout(function(){\n    newObj.style.display = 'block';\n  }, 1000);\n\n  return obj;\n\n};\n\nvjs.Flash.getEmbedCode = function(swf, flashVars, params, attributes){\n\n  var objTag = '<object type=\"application/x-shockwave-flash\" ',\n      flashVarsString = '',\n      paramsString = '',\n      attrsString = '';\n\n  // Convert flash vars to string\n  if (flashVars) {\n    vjs.obj.each(flashVars, function(key, val){\n      flashVarsString += (key + '=' + val + '&amp;');\n    });\n  }\n\n  // Add swf, flashVars, and other default params\n  params = vjs.obj.merge({\n    'movie': swf,\n    'flashvars': flashVarsString,\n    'allowScriptAccess': 'always', // Required to talk to swf\n    'allowNetworking': 'all' // All should be default, but having security issues.\n  }, params);\n\n  // Create param tags string\n  vjs.obj.each(params, function(key, val){\n    paramsString += '<param name=\"'+key+'\" value=\"'+val+'\" />';\n  });\n\n  attributes = vjs.obj.merge({\n    // Add swf to attributes (need both for IE and Others to work)\n    'data': swf,\n\n    // Default to 100% width/height\n    'width': '100%',\n    'height': '100%'\n\n  }, attributes);\n\n  // Create Attributes string\n  vjs.obj.each(attributes, function(key, val){\n    attrsString += (key + '=\"' + val + '\" ');\n  });\n\n  return objTag + attrsString + '>' + paramsString + '</object>';\n};\nvjs.Flash.streamingFormats = {\n  'rtmp/mp4': 'MP4',\n  'rtmp/flv': 'FLV'\n};\n\nvjs.Flash.streamFromParts = function(connection, stream) {\n  return connection + '&' + stream;\n};\n\nvjs.Flash.streamToParts = function(src) {\n  var parts = {\n    connection: '',\n    stream: ''\n  };\n\n  if (! src) {\n    return parts;\n  }\n\n  // Look for the normal URL separator we expect, '&'.\n  // If found, we split the URL into two pieces around the\n  // first '&'.\n  var connEnd = src.indexOf('&');\n  var streamBegin;\n  if (connEnd !== -1) {\n    streamBegin = connEnd + 1;\n  }\n  else {\n    // If there's not a '&', we use the last '/' as the delimiter.\n    connEnd = streamBegin = src.lastIndexOf('/') + 1;\n    if (connEnd === 0) {\n      // really, there's not a '/'?\n      connEnd = streamBegin = src.length;\n    }\n  }\n  parts.connection = src.substring(0, connEnd);\n  parts.stream = src.substring(streamBegin, src.length);\n\n  return parts;\n};\n\nvjs.Flash.isStreamingType = function(srcType) {\n  return srcType in vjs.Flash.streamingFormats;\n};\n\n// RTMP has four variations, any string starting\n// with one of these protocols should be valid\nvjs.Flash.RTMP_RE = /^rtmp[set]?:\\/\\//i;\n\nvjs.Flash.isStreamingSrc = function(src) {\n  return vjs.Flash.RTMP_RE.test(src);\n};\n\n/**\n * A source handler for RTMP urls\n * @type {Object}\n */\nvjs.Flash.rtmpSourceHandler = {};\n\n/**\n * Check Flash can handle the source natively\n * @param  {Object} source  The source object\n * @return {String}         'probably', 'maybe', or '' (empty string)\n */\nvjs.Flash.rtmpSourceHandler.canHandleSource = function(source){\n  if (vjs.Flash.isStreamingType(source.type) || vjs.Flash.isStreamingSrc(source.src)) {\n    return 'maybe';\n  }\n\n  return '';\n};\n\n/**\n * Pass the source to the flash object\n * Adaptive source handlers will have more complicated workflows before passing\n * video data to the video element\n * @param  {Object} source    The source object\n * @param  {vjs.Flash} tech   The instance of the Flash tech\n */\nvjs.Flash.rtmpSourceHandler.handleSource = function(source, tech){\n  var srcParts = vjs.Flash.streamToParts(source.src);\n\n  tech['setRtmpConnection'](srcParts.connection);\n  tech['setRtmpStream'](srcParts.stream);\n};\n\n// Register the native source handler\nvjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler);\n/**\n * The Media Loader is the component that decides which playback technology to load\n * when the player is initialized.\n *\n * @constructor\n */\nvjs.MediaLoader = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.Component.call(this, player, options, ready);\n\n    // If there are no sources when the player is initialized,\n    // load the first supported playback technology.\n    if (!player.options_['sources'] || player.options_['sources'].length === 0) {\n      for (var i=0,j=player.options_['techOrder']; i<j.length; i++) {\n        var techName = vjs.capitalize(j[i]),\n            tech = window['videojs'][techName];\n\n        // Check if the browser supports this technology\n        if (tech && tech.isSupported()) {\n          player.loadTech(techName);\n          break;\n        }\n      }\n    } else {\n      // // Loop through playback technologies (HTML5, Flash) and check for support.\n      // // Then load the best source.\n      // // A few assumptions here:\n      // //   All playback technologies respect preload false.\n      player.src(player.options_['sources']);\n    }\n  }\n});\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n *\n * enum TextTrackMode { \"disabled\",  \"hidden\",  \"showing\" };\n */\nvjs.TextTrackMode = {\n  'disabled': 'disabled',\n  'hidden': 'hidden',\n  'showing': 'showing'\n};\n\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackkind\n *\n * enum TextTrackKind { \"subtitles\",  \"captions\",  \"descriptions\",  \"chapters\",  \"metadata\" };\n */\nvjs.TextTrackKind = {\n  'subtitles': 'subtitles',\n  'captions': 'captions',\n  'descriptions': 'descriptions',\n  'chapters': 'chapters',\n  'metadata': 'metadata'\n};\n(function() {\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack\n *\n * interface TextTrack : EventTarget {\n *   readonly attribute TextTrackKind kind;\n *   readonly attribute DOMString label;\n *   readonly attribute DOMString language;\n *\n *   readonly attribute DOMString id;\n *   readonly attribute DOMString inBandMetadataTrackDispatchType;\n *\n *   attribute TextTrackMode mode;\n *\n *   readonly attribute TextTrackCueList? cues;\n *   readonly attribute TextTrackCueList? activeCues;\n *\n *   void addCue(TextTrackCue cue);\n *   void removeCue(TextTrackCue cue);\n *\n *   attribute EventHandler oncuechange;\n * };\n */\n\nvjs.TextTrack = function(options) {\n  var tt, id, mode, kind, label, language, cues, activeCues, timeupdateHandler, changed, prop;\n\n  options = options || {};\n\n  if (!options['player']) {\n    throw new Error('A player was not provided.');\n  }\n\n  tt = this;\n  if (vjs.IS_IE8) {\n    tt = document.createElement('custom');\n\n    for (prop in vjs.TextTrack.prototype) {\n      tt[prop] = vjs.TextTrack.prototype[prop];\n    }\n  }\n\n  tt.player_ = options['player'];\n\n  mode = vjs.TextTrackMode[options['mode']] || 'disabled';\n  kind = vjs.TextTrackKind[options['kind']] || 'subtitles';\n  label = options['label'] || '';\n  language = options['language'] || options['srclang'] || '';\n  id = options['id'] || 'vjs_text_track_' + vjs.guid++;\n\n  if (kind === 'metadata' || kind === 'chapters') {\n    mode = 'hidden';\n  }\n\n  tt.cues_ = [];\n  tt.activeCues_ = [];\n\n  cues = new vjs.TextTrackCueList(tt.cues_);\n  activeCues = new vjs.TextTrackCueList(tt.activeCues_);\n\n  changed = false;\n  timeupdateHandler = vjs.bind(tt, function() {\n    this['activeCues'];\n    if (changed) {\n      this['trigger']('cuechange');\n      changed = false;\n    }\n  });\n  if (mode !== 'disabled') {\n    tt.player_.on('timeupdate', timeupdateHandler);\n  }\n\n  Object.defineProperty(tt, 'kind', {\n    get: function() {\n      return kind;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'label', {\n    get: function() {\n      return label;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'language', {\n    get: function() {\n      return language;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'id', {\n    get: function() {\n      return id;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'mode', {\n    get: function() {\n      return mode;\n    },\n    set: function(newMode) {\n      if (!vjs.TextTrackMode[newMode]) {\n        return;\n      }\n      mode = newMode;\n      if (mode === 'showing') {\n        this.player_.on('timeupdate', timeupdateHandler);\n      }\n      this.trigger('modechange');\n    }\n  });\n\n  Object.defineProperty(tt, 'cues', {\n    get: function() {\n      if (!this.loaded_) {\n        return null;\n      }\n\n      return cues;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'activeCues', {\n    get: function() {\n      var i, l, active, ct, cue;\n\n      if (!this.loaded_) {\n        return null;\n      }\n\n      if (this['cues'].length === 0) {\n        return activeCues; // nothing to do\n      }\n\n      ct = this.player_.currentTime();\n      i = 0;\n      l = this['cues'].length;\n      active = [];\n\n      for (; i < l; i++) {\n        cue = this['cues'][i];\n        if (cue['startTime'] <= ct && cue['endTime'] >= ct) {\n          active.push(cue);\n        } else if (cue['startTime'] === cue['endTime'] && cue['startTime'] <= ct && cue['startTime'] + 0.5 >= ct) {\n          active.push(cue);\n        }\n      }\n\n      changed = false;\n\n      if (active.length !== this.activeCues_.length) {\n        changed = true;\n      } else {\n        for (i = 0; i < active.length; i++) {\n          if (indexOf.call(this.activeCues_, active[i]) === -1) {\n            changed = true;\n          }\n        }\n      }\n\n      this.activeCues_ = active;\n      activeCues.setCues_(this.activeCues_);\n\n      return activeCues;\n    },\n    set: Function.prototype\n  });\n\n  if (options.src) {\n    loadTrack(options.src, tt);\n  } else {\n    tt.loaded_ = true;\n  }\n\n  if (vjs.IS_IE8) {\n    return tt;\n  }\n};\n\nvjs.TextTrack.prototype = vjs.obj.create(vjs.EventEmitter.prototype);\nvjs.TextTrack.prototype.constructor = vjs.TextTrack;\n\n/*\n * cuechange - One or more cues in the track have become active or stopped being active.\n */\nvjs.TextTrack.prototype.allowedEvents_ = {\n  'cuechange': 'cuechange'\n};\n\nvjs.TextTrack.prototype.addCue = function(cue) {\n  var tracks = this.player_.textTracks(),\n      i = 0;\n\n  if (tracks) {\n    for (; i < tracks.length; i++) {\n      if (tracks[i] !== this) {\n        tracks[i].removeCue(cue);\n      }\n    }\n  }\n\n  this.cues_.push(cue);\n  this['cues'].setCues_(this.cues_);\n};\n\nvjs.TextTrack.prototype.removeCue = function(removeCue) {\n  var i = 0,\n      l = this.cues_.length,\n      cue,\n      removed = false;\n\n  for (; i < l; i++) {\n    cue = this.cues_[i];\n    if (cue === removeCue) {\n      this.cues_.splice(i, 1);\n      removed = true;\n    }\n  }\n\n  if (removed) {\n    this.cues.setCues_(this.cues_);\n  }\n};\n\n/*\n * Downloading stuff happens below this point\n */\nvar loadTrack, parseCues, indexOf;\n\nloadTrack = function(src, track) {\n  vjs.xhr(src, vjs.bind(this, function(err, response, responseBody){\n    if (err) {\n      return vjs.log.error(err);\n    }\n\n\n    track.loaded_ = true;\n    parseCues(responseBody, track);\n  }));\n};\n\nparseCues = function(srcContent, track) {\n  if (typeof window['WebVTT'] !== 'function') {\n    //try again a bit later\n    return window.setTimeout(function() {\n      parseCues(srcContent, track);\n    }, 25);\n  }\n\n  var parser = new window['WebVTT']['Parser'](window, window['vttjs'], window['WebVTT']['StringDecoder']());\n\n  parser['oncue'] = function(cue) {\n    track.addCue(cue);\n  };\n  parser['onparsingerror'] = function(error) {\n    vjs.log.error(error);\n  };\n\n  parser['parse'](srcContent);\n  parser['flush']();\n};\n\nindexOf = function(searchElement, fromIndex) {\n\n  var k;\n\n  if (this == null) {\n    throw new TypeError('\"this\" is null or not defined');\n  }\n\n  var O = Object(this);\n\n  var len = O.length >>> 0;\n\n  if (len === 0) {\n    return -1;\n  }\n\n  var n = +fromIndex || 0;\n\n  if (Math.abs(n) === Infinity) {\n    n = 0;\n  }\n\n  if (n >= len) {\n    return -1;\n  }\n\n  k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n  while (k < len) {\n    if (k in O && O[k] === searchElement) {\n      return k;\n    }\n    k++;\n  }\n  return -1;\n};\n\n})();\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist\n *\n * interface TextTrackList : EventTarget {\n *   readonly attribute unsigned long length;\n *   getter TextTrack (unsigned long index);\n *   TextTrack? getTrackById(DOMString id);\n * \n *   attribute EventHandler onchange;\n *   attribute EventHandler onaddtrack;\n *   attribute EventHandler onremovetrack;\n * };\n */\nvjs.TextTrackList = function(tracks) {\n  var list = this,\n      prop,\n      i = 0;\n\n  if (vjs.IS_IE8) {\n    list = document.createElement('custom');\n\n    for (prop in vjs.TextTrackList.prototype) {\n      list[prop] = vjs.TextTrackList.prototype[prop];\n    }\n  }\n\n  tracks = tracks || [];\n  list.tracks_ = [];\n\n  Object.defineProperty(list, 'length', {\n    get: function() {\n      return this.tracks_.length;\n    }\n  });\n\n  for (; i < tracks.length; i++) {\n    list.addTrack_(tracks[i]);\n  }\n\n  if (vjs.IS_IE8) {\n    return list;\n  }\n};\n\nvjs.TextTrackList.prototype = vjs.obj.create(vjs.EventEmitter.prototype);\nvjs.TextTrackList.prototype.constructor = vjs.TextTrackList;\n\n/*\n * change - One or more tracks in the track list have been enabled or disabled.\n * addtrack - A track has been added to the track list.\n * removetrack - A track has been removed from the track list.\n*/\nvjs.TextTrackList.prototype.allowedEvents_ = {\n  'change': 'change',\n  'addtrack': 'addtrack',\n  'removetrack': 'removetrack'\n};\n\n// emulate attribute EventHandler support to allow for feature detection\n(function() {\n  var event;\n\n  for (event in vjs.TextTrackList.prototype.allowedEvents_) {\n    vjs.TextTrackList.prototype['on' + event] = null;\n  }\n})();\n\nvjs.TextTrackList.prototype.addTrack_ = function(track) {\n  var index = this.tracks_.length;\n  if (!(''+index in this)) {\n    Object.defineProperty(this, index, {\n      get: function() {\n        return this.tracks_[index];\n      }\n    });\n  }\n\n  track.addEventListener('modechange', vjs.bind(this, function() {\n    this.trigger('change');\n  }));\n  this.tracks_.push(track);\n\n  this.trigger({\n    type: 'addtrack',\n    track: track\n  });\n};\n\nvjs.TextTrackList.prototype.removeTrack_ = function(rtrack) {\n  var i = 0,\n      l = this.length,\n      result = null,\n      track;\n\n  for (; i < l; i++) {\n    track = this[i];\n    if (track === rtrack) {\n      this.tracks_.splice(i, 1);\n      break;\n    }\n  }\n\n  this.trigger({\n    type: 'removetrack',\n    track: rtrack\n  });\n};\n\nvjs.TextTrackList.prototype.getTrackById = function(id) {\n  var i = 0,\n      l = this.length,\n      result = null,\n      track;\n\n  for (; i < l; i++) {\n    track = this[i];\n    if (track.id === id) {\n      result = track;\n      break;\n    }\n  }\n\n  return result;\n};\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist\n *\n * interface TextTrackCueList {\n *   readonly attribute unsigned long length;\n *   getter TextTrackCue (unsigned long index);\n *   TextTrackCue? getCueById(DOMString id);\n * };\n */\n\nvjs.TextTrackCueList = function(cues) {\n  var list = this,\n      prop;\n\n  if (vjs.IS_IE8) {\n    list = document.createElement('custom');\n\n    for (prop in vjs.TextTrackCueList.prototype) {\n      list[prop] = vjs.TextTrackCueList.prototype[prop];\n    }\n  }\n\n  vjs.TextTrackCueList.prototype.setCues_.call(list, cues);\n\n  Object.defineProperty(list, 'length', {\n    get: function() {\n      return this.length_;\n    }\n  });\n\n  if (vjs.IS_IE8) {\n    return list;\n  }\n};\n\nvjs.TextTrackCueList.prototype.setCues_ = function(cues) {\n  var oldLength = this.length || 0,\n      i = 0,\n      l = cues.length,\n      defineProp;\n\n  this.cues_ = cues;\n  this.length_ = cues.length;\n\n  defineProp = function(i) {\n    if (!(''+i in this)) {\n      Object.defineProperty(this, '' + i, {\n        get: function() {\n          return this.cues_[i];\n        }\n      });\n    }\n  };\n\n  if (oldLength < l) {\n    i = oldLength;\n    for(; i < l; i++) {\n      defineProp.call(this, i);\n    }\n  }\n};\n\nvjs.TextTrackCueList.prototype.getCueById = function(id) {\n  var i = 0,\n      l = this.length,\n      result = null,\n      cue;\n\n  for (; i < l; i++) {\n    cue = this[i];\n    if (cue.id === id) {\n      result = cue;\n      break;\n    }\n  }\n\n  return result;\n};\n(function() {\n'use strict';\n\n/* Text Track Display\n============================================================================= */\n// Global container for both subtitle and captions text. Simple div container.\n\n/**\n * The component for displaying text track cues\n *\n * @constructor\n */\nvjs.TextTrackDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.Component.call(this, player, options, ready);\n\n    player.on('loadstart', vjs.bind(this, this.toggleDisplay));\n\n    // This used to be called during player init, but was causing an error\n    // if a track should show by default and the display hadn't loaded yet.\n    // Should probably be moved to an external track loader when we support\n    // tracks that don't need a display.\n    player.ready(vjs.bind(this, function() {\n      if (player.tech && player.tech['featuresNativeTextTracks']) {\n        this.hide();\n        return;\n      }\n\n      var i, tracks, track;\n\n      player.on('fullscreenchange', vjs.bind(this, this.updateDisplay));\n\n      tracks = player.options_['tracks'] || [];\n      for (i = 0; i < tracks.length; i++) {\n        track = tracks[i];\n        this.player_.addRemoteTextTrack(track);\n      }\n    }));\n  }\n});\n\nvjs.TextTrackDisplay.prototype.toggleDisplay = function() {\n  if (this.player_.tech && this.player_.tech['featuresNativeTextTracks']) {\n    this.hide();\n  } else {\n    this.show();\n  }\n};\n\nvjs.TextTrackDisplay.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-text-track-display'\n  });\n};\n\nvjs.TextTrackDisplay.prototype.clearDisplay = function() {\n  if (typeof window['WebVTT'] === 'function') {\n    window['WebVTT']['processCues'](window, [], this.el_);\n  }\n};\n\n// Add cue HTML to display\nvar constructColor = function(color, opacity) {\n  return 'rgba(' +\n    // color looks like \"#f0e\"\n    parseInt(color[1] + color[1], 16) + ',' +\n    parseInt(color[2] + color[2], 16) + ',' +\n    parseInt(color[3] + color[3], 16) + ',' +\n    opacity + ')';\n};\nvar darkGray = '#222';\nvar lightGray = '#ccc';\nvar fontMap = {\n  monospace:             'monospace',\n  sansSerif:             'sans-serif',\n  serif:                 'serif',\n  monospaceSansSerif:    '\"Andale Mono\", \"Lucida Console\", monospace',\n  monospaceSerif:        '\"Courier New\", monospace',\n  proportionalSansSerif: 'sans-serif',\n  proportionalSerif:     'serif',\n  casual:                '\"Comic Sans MS\", Impact, fantasy',\n  script:                '\"Monotype Corsiva\", cursive',\n  smallcaps:             '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n};\nvar tryUpdateStyle = function(el, style, rule) {\n  // some style changes will throw an error, particularly in IE8. Those should be noops.\n  try {\n    el.style[style] = rule;\n  } catch (e) {}\n};\n\nvjs.TextTrackDisplay.prototype.updateDisplay = function() {\n  var tracks = this.player_.textTracks(),\n      i = 0,\n      track;\n\n  this.clearDisplay();\n\n  if (!tracks) {\n    return;\n  }\n\n  for (; i < tracks.length; i++) {\n    track = tracks[i];\n    if (track['mode'] === 'showing') {\n      this.updateForTrack(track);\n    }\n  }\n};\n\nvjs.TextTrackDisplay.prototype.updateForTrack = function(track) {\n  if (typeof window['WebVTT'] !== 'function' || !track['activeCues']) {\n    return;\n  }\n\n  var i = 0,\n      property,\n      cueDiv,\n      overrides = this.player_['textTrackSettings'].getValues(),\n      fontSize,\n      cues = [];\n\n  for (; i < track['activeCues'].length; i++) {\n    cues.push(track['activeCues'][i]);\n  }\n\n  window['WebVTT']['processCues'](window, track['activeCues'], this.el_);\n\n  i = cues.length;\n  while (i--) {\n    cueDiv = cues[i].displayState;\n    if (overrides.color) {\n      cueDiv.firstChild.style.color = overrides.color;\n    }\n    if (overrides.textOpacity) {\n      tryUpdateStyle(cueDiv.firstChild,\n                     'color',\n                     constructColor(overrides.color || '#fff',\n                                    overrides.textOpacity));\n    }\n    if (overrides.backgroundColor) {\n      cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n    }\n    if (overrides.backgroundOpacity) {\n      tryUpdateStyle(cueDiv.firstChild,\n                     'backgroundColor',\n                     constructColor(overrides.backgroundColor || '#000',\n                                    overrides.backgroundOpacity));\n    }\n    if (overrides.windowColor) {\n      if (overrides.windowOpacity) {\n        tryUpdateStyle(cueDiv,\n                       'backgroundColor',\n                       constructColor(overrides.windowColor, overrides.windowOpacity));\n      } else {\n        cueDiv.style.backgroundColor = overrides.windowColor;\n      }\n    }\n    if (overrides.edgeStyle) {\n      if (overrides.edgeStyle === 'dropshadow') {\n        cueDiv.firstChild.style.textShadow = '2px 2px 3px ' + darkGray + ', 2px 2px 4px ' + darkGray + ', 2px 2px 5px ' + darkGray;\n      } else if (overrides.edgeStyle === 'raised') {\n        cueDiv.firstChild.style.textShadow = '1px 1px ' + darkGray + ', 2px 2px ' + darkGray + ', 3px 3px ' + darkGray;\n      } else if (overrides.edgeStyle === 'depressed') {\n        cueDiv.firstChild.style.textShadow = '1px 1px ' + lightGray + ', 0 1px ' + lightGray + ', -1px -1px ' + darkGray + ', 0 -1px ' + darkGray;\n      } else if (overrides.edgeStyle === 'uniform') {\n        cueDiv.firstChild.style.textShadow = '0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray;\n      }\n    }\n    if (overrides.fontPercent && overrides.fontPercent !== 1) {\n      fontSize = window.parseFloat(cueDiv.style.fontSize);\n      cueDiv.style.fontSize = (fontSize * overrides.fontPercent) + 'px';\n      cueDiv.style.height = 'auto';\n      cueDiv.style.top = 'auto';\n      cueDiv.style.bottom = '2px';\n    }\n    if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n      if (overrides.fontFamily === 'small-caps') {\n        cueDiv.firstChild.style.fontVariant = 'small-caps';\n      } else {\n        cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n      }\n    }\n  }\n};\n\n\n/**\n * The specific menu item type for selecting a language within a text track kind\n *\n * @constructor\n */\nvjs.TextTrackMenuItem = vjs.MenuItem.extend({\n  /** @constructor */\n  init: function(player, options){\n    var track = this.track = options['track'],\n        tracks = player.textTracks(),\n        changeHandler,\n        event;\n\n    if (tracks) {\n      changeHandler = vjs.bind(this, function() {\n        var selected = this.track['mode'] === 'showing',\n            track,\n            i,\n            l;\n\n        if (this instanceof vjs.OffTextTrackMenuItem) {\n          selected = true;\n\n          i = 0,\n          l = tracks.length;\n\n          for (; i < l; i++) {\n            track = tracks[i];\n            if (track['kind'] === this.track['kind'] && track['mode'] === 'showing') {\n              selected = false;\n              break;\n            }\n          }\n        }\n\n        this.selected(selected);\n      });\n      tracks.addEventListener('change', changeHandler);\n      player.on('dispose', function() {\n        tracks.removeEventListener('change', changeHandler);\n      });\n    }\n\n    // Modify options for parent MenuItem class's init.\n    options['label'] = track['label'] || track['language'] || 'Unknown';\n    options['selected'] = track['default'] || track['mode'] === 'showing';\n    vjs.MenuItem.call(this, player, options);\n\n    // iOS7 doesn't dispatch change events to TextTrackLists when an\n    // associated track's mode changes. Without something like\n    // Object.observe() (also not present on iOS7), it's not\n    // possible to detect changes to the mode attribute and polyfill\n    // the change event. As a poor substitute, we manually dispatch\n    // change events whenever the controls modify the mode.\n    if (tracks && tracks.onchange === undefined) {\n      this.on(['tap', 'click'], function() {\n        if (typeof window.Event !== 'object') {\n          // Android 2.3 throws an Illegal Constructor error for window.Event\n          try {\n            event = new window.Event('change');\n          } catch(err){}\n        }\n\n        if (!event) {\n          event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n        }\n\n        tracks.dispatchEvent(event);\n      });\n    }\n  }\n});\n\nvjs.TextTrackMenuItem.prototype.onClick = function(){\n  var kind = this.track['kind'],\n      tracks = this.player_.textTracks(),\n      mode,\n      track,\n      i = 0;\n\n  vjs.MenuItem.prototype.onClick.call(this);\n\n  if (!tracks) {\n    return;\n  }\n\n  for (; i < tracks.length; i++) {\n    track = tracks[i];\n\n    if (track['kind'] !== kind) {\n      continue;\n    }\n\n    if (track === this.track) {\n      track['mode'] = 'showing';\n    } else {\n      track['mode'] = 'disabled';\n    }\n  }\n};\n\n/**\n * A special menu item for turning of a specific type of text track\n *\n * @constructor\n */\nvjs.OffTextTrackMenuItem = vjs.TextTrackMenuItem.extend({\n  /** @constructor */\n  init: function(player, options){\n    // Create pseudo track info\n    // Requires options['kind']\n    options['track'] = {\n      'kind': options['kind'],\n      'player': player,\n      'label': options['kind'] + ' off',\n      'default': false,\n      'mode': 'disabled'\n    };\n    vjs.TextTrackMenuItem.call(this, player, options);\n    this.selected(true);\n  }\n});\n\nvjs.CaptionSettingsMenuItem = vjs.TextTrackMenuItem.extend({\n  init: function(player, options) {\n    options['track'] = {\n      'kind': options['kind'],\n      'player': player,\n      'label': options['kind'] + ' settings',\n      'default': false,\n      mode: 'disabled'\n    };\n\n    vjs.TextTrackMenuItem.call(this, player, options);\n    this.addClass('vjs-texttrack-settings');\n  }\n});\n\nvjs.CaptionSettingsMenuItem.prototype.onClick = function() {\n  this.player().getChild('textTrackSettings').show();\n};\n\n/**\n * The base class for buttons that toggle specific text track types (e.g. subtitles)\n *\n * @constructor\n */\nvjs.TextTrackButton = vjs.MenuButton.extend({\n  /** @constructor */\n  init: function(player, options){\n    var tracks, updateHandler;\n\n    vjs.MenuButton.call(this, player, options);\n\n    tracks = this.player_.textTracks();\n\n    if (this.items.length <= 1) {\n      this.hide();\n    }\n\n    if (!tracks) {\n      return;\n    }\n\n    updateHandler = vjs.bind(this, this.update);\n    tracks.addEventListener('removetrack', updateHandler);\n    tracks.addEventListener('addtrack', updateHandler);\n\n    this.player_.on('dispose', function() {\n      tracks.removeEventListener('removetrack', updateHandler);\n      tracks.removeEventListener('addtrack', updateHandler);\n    });\n  }\n});\n\n// Create a menu item for each text track\nvjs.TextTrackButton.prototype.createItems = function(){\n  var items = [], track, tracks;\n\n  if (this instanceof vjs.CaptionsButton && !(this.player().tech && this.player().tech['featuresNativeTextTracks'])) {\n    items.push(new vjs.CaptionSettingsMenuItem(this.player_, { 'kind': this.kind_ }));\n  }\n\n  // Add an OFF menu item to turn all tracks off\n  items.push(new vjs.OffTextTrackMenuItem(this.player_, { 'kind': this.kind_ }));\n\n  tracks = this.player_.textTracks();\n\n  if (!tracks) {\n    return items;\n  }\n\n  for (var i = 0; i < tracks.length; i++) {\n    track = tracks[i];\n\n    // only add tracks that are of the appropriate kind and have a label\n    if (track['kind'] === this.kind_) {\n      items.push(new vjs.TextTrackMenuItem(this.player_, {\n        'track': track\n      }));\n    }\n  }\n\n  return items;\n};\n\n/**\n * The button component for toggling and selecting captions\n *\n * @constructor\n */\nvjs.CaptionsButton = vjs.TextTrackButton.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.TextTrackButton.call(this, player, options, ready);\n    this.el_.setAttribute('aria-label','Captions Menu');\n  }\n});\nvjs.CaptionsButton.prototype.kind_ = 'captions';\nvjs.CaptionsButton.prototype.buttonText = 'Captions';\nvjs.CaptionsButton.prototype.className = 'vjs-captions-button';\n\nvjs.CaptionsButton.prototype.update = function() {\n  var threshold = 2;\n  vjs.TextTrackButton.prototype.update.call(this);\n\n  // if native, then threshold is 1 because no settings button\n  if (this.player().tech && this.player().tech['featuresNativeTextTracks']) {\n    threshold = 1;\n  }\n\n  if (this.items && this.items.length > threshold) {\n    this.show();\n  } else {\n    this.hide();\n  }\n};\n\n/**\n * The button component for toggling and selecting subtitles\n *\n * @constructor\n */\nvjs.SubtitlesButton = vjs.TextTrackButton.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.TextTrackButton.call(this, player, options, ready);\n    this.el_.setAttribute('aria-label','Subtitles Menu');\n  }\n});\nvjs.SubtitlesButton.prototype.kind_ = 'subtitles';\nvjs.SubtitlesButton.prototype.buttonText = 'Subtitles';\nvjs.SubtitlesButton.prototype.className = 'vjs-subtitles-button';\n\n// Chapters act much differently than other text tracks\n// Cues are navigation vs. other tracks of alternative languages\n/**\n * The button component for toggling and selecting chapters\n *\n * @constructor\n */\nvjs.ChaptersButton = vjs.TextTrackButton.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.TextTrackButton.call(this, player, options, ready);\n    this.el_.setAttribute('aria-label','Chapters Menu');\n  }\n});\nvjs.ChaptersButton.prototype.kind_ = 'chapters';\nvjs.ChaptersButton.prototype.buttonText = 'Chapters';\nvjs.ChaptersButton.prototype.className = 'vjs-chapters-button';\n\n// Create a menu item for each text track\nvjs.ChaptersButton.prototype.createItems = function(){\n  var items = [], track, tracks;\n\n  tracks = this.player_.textTracks();\n\n  if (!tracks) {\n    return items;\n  }\n\n  for (var i = 0; i < tracks.length; i++) {\n    track = tracks[i];\n    if (track['kind'] === this.kind_) {\n      items.push(new vjs.TextTrackMenuItem(this.player_, {\n        'track': track\n      }));\n    }\n  }\n\n  return items;\n};\n\nvjs.ChaptersButton.prototype.createMenu = function(){\n  var tracks = this.player_.textTracks() || [],\n      i = 0,\n      l = tracks.length,\n      track, chaptersTrack,\n      items = this.items = [];\n\n  for (; i < l; i++) {\n    track = tracks[i];\n    if (track['kind'] == this.kind_) {\n      if (!track.cues) {\n        track['mode'] = 'hidden';\n        /* jshint loopfunc:true */\n        // TODO see if we can figure out a better way of doing this https://github.com/videojs/video.js/issues/1864\n        window.setTimeout(vjs.bind(this, function() {\n          this.createMenu();\n        }), 100);\n        /* jshint loopfunc:false */\n      } else {\n        chaptersTrack = track;\n        break;\n      }\n    }\n  }\n\n  var menu = this.menu;\n  if (menu === undefined) {\n    menu = new vjs.Menu(this.player_);\n    menu.contentEl().appendChild(vjs.createEl('li', {\n      className: 'vjs-menu-title',\n      innerHTML: vjs.capitalize(this.kind_),\n      tabindex: -1\n    }));\n  }\n\n  if (chaptersTrack) {\n    var cues = chaptersTrack['cues'], cue, mi;\n    i = 0;\n    l = cues.length;\n\n    for (; i < l; i++) {\n      cue = cues[i];\n\n      mi = new vjs.ChaptersTrackMenuItem(this.player_, {\n        'track': chaptersTrack,\n        'cue': cue\n      });\n\n      items.push(mi);\n\n      menu.addChild(mi);\n    }\n    this.addChild(menu);\n  }\n\n  if (this.items.length > 0) {\n    this.show();\n  }\n\n  return menu;\n};\n\n\n/**\n * @constructor\n */\nvjs.ChaptersTrackMenuItem = vjs.MenuItem.extend({\n  /** @constructor */\n  init: function(player, options){\n    var track = this.track = options['track'],\n        cue = this.cue = options['cue'],\n        currentTime = player.currentTime();\n\n    // Modify options for parent MenuItem class's init.\n    options['label'] = cue.text;\n    options['selected'] = (cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n    vjs.MenuItem.call(this, player, options);\n\n    track.addEventListener('cuechange', vjs.bind(this, this.update));\n  }\n});\n\nvjs.ChaptersTrackMenuItem.prototype.onClick = function(){\n  vjs.MenuItem.prototype.onClick.call(this);\n  this.player_.currentTime(this.cue.startTime);\n  this.update(this.cue.startTime);\n};\n\nvjs.ChaptersTrackMenuItem.prototype.update = function(){\n  var cue = this.cue,\n      currentTime = this.player_.currentTime();\n\n  // vjs.log(currentTime, cue.startTime);\n  this.selected(cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n};\n})();\n(function() {\n  'use strict';\n\n  vjs.TextTrackSettings = vjs.Component.extend({\n    init: function(player, options) {\n      vjs.Component.call(this, player, options);\n      this.hide();\n\n      vjs.on(this.el().querySelector('.vjs-done-button'), 'click', vjs.bind(this, function() {\n        this.saveSettings();\n        this.hide();\n      }));\n\n      vjs.on(this.el().querySelector('.vjs-default-button'), 'click', vjs.bind(this, function() {\n        this.el().querySelector('.vjs-fg-color > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-bg-color > select').selectedIndex = 0;\n        this.el().querySelector('.window-color > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-text-opacity > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-bg-opacity > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-window-opacity > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-edge-style select').selectedIndex = 0;\n        this.el().querySelector('.vjs-font-family select').selectedIndex = 0;\n        this.el().querySelector('.vjs-font-percent select').selectedIndex = 2;\n        this.updateDisplay();\n      }));\n\n      vjs.on(this.el().querySelector('.vjs-fg-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-bg-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.window-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-text-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-bg-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-window-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-font-percent select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-edge-style select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-font-family select'), 'change', vjs.bind(this, this.updateDisplay));\n\n      if (player.options()['persistTextTrackSettings']) {\n        this.restoreSettings();\n      }\n    }\n  });\n\n  vjs.TextTrackSettings.prototype.createEl = function() {\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-caption-settings vjs-modal-overlay',\n      innerHTML: captionOptionsMenuTemplate()\n    });\n  };\n\n  vjs.TextTrackSettings.prototype.getValues = function() {\n    var el, bgOpacity, textOpacity, windowOpacity, textEdge, fontFamily, fgColor, bgColor, windowColor, result, name, fontPercent;\n\n    el = this.el();\n\n    textEdge = getSelectedOptionValue(el.querySelector('.vjs-edge-style select'));\n    fontFamily = getSelectedOptionValue(el.querySelector('.vjs-font-family select'));\n    fgColor = getSelectedOptionValue(el.querySelector('.vjs-fg-color > select'));\n    textOpacity = getSelectedOptionValue(el.querySelector('.vjs-text-opacity > select'));\n    bgColor = getSelectedOptionValue(el.querySelector('.vjs-bg-color > select'));\n    bgOpacity = getSelectedOptionValue(el.querySelector('.vjs-bg-opacity > select'));\n    windowColor = getSelectedOptionValue(el.querySelector('.window-color > select'));\n    windowOpacity = getSelectedOptionValue(el.querySelector('.vjs-window-opacity > select'));\n    fontPercent = window['parseFloat'](getSelectedOptionValue(el.querySelector('.vjs-font-percent > select')));\n\n    result = {\n      'backgroundOpacity': bgOpacity,\n      'textOpacity': textOpacity,\n      'windowOpacity': windowOpacity,\n      'edgeStyle': textEdge,\n      'fontFamily': fontFamily,\n      'color': fgColor,\n      'backgroundColor': bgColor,\n      'windowColor': windowColor,\n      'fontPercent': fontPercent\n    };\n    for (name in result) {\n      if (result[name] === '' || result[name] === 'none' || (name === 'fontPercent' && result[name] === 1.00)) {\n        delete result[name];\n      }\n    }\n    return result;\n  };\n\n  vjs.TextTrackSettings.prototype.setValues = function(values) {\n    var el = this.el(), fontPercent;\n\n    setSelectedOption(el.querySelector('.vjs-edge-style select'), values.edgeStyle);\n    setSelectedOption(el.querySelector('.vjs-font-family select'), values.fontFamily);\n    setSelectedOption(el.querySelector('.vjs-fg-color > select'), values.color);\n    setSelectedOption(el.querySelector('.vjs-text-opacity > select'), values.textOpacity);\n    setSelectedOption(el.querySelector('.vjs-bg-color > select'), values.backgroundColor);\n    setSelectedOption(el.querySelector('.vjs-bg-opacity > select'), values.backgroundOpacity);\n    setSelectedOption(el.querySelector('.window-color > select'), values.windowColor);\n    setSelectedOption(el.querySelector('.vjs-window-opacity > select'), values.windowOpacity);\n\n    fontPercent = values.fontPercent;\n\n    if (fontPercent) {\n      fontPercent = fontPercent.toFixed(2);\n    }\n\n    setSelectedOption(el.querySelector('.vjs-font-percent > select'), fontPercent);\n  };\n\n  vjs.TextTrackSettings.prototype.restoreSettings = function() {\n    var values;\n    try {\n      values = JSON.parse(window.localStorage.getItem('vjs-text-track-settings'));\n    } catch (e) {}\n\n    if (values) {\n      this.setValues(values);\n    }\n  };\n\n  vjs.TextTrackSettings.prototype.saveSettings = function() {\n    var values;\n\n    if (!this.player_.options()['persistTextTrackSettings']) {\n      return;\n    }\n\n    values = this.getValues();\n    try {\n      if (!vjs.isEmpty(values)) {\n        window.localStorage.setItem('vjs-text-track-settings', JSON.stringify(values));\n      } else {\n        window.localStorage.removeItem('vjs-text-track-settings');\n      }\n    } catch (e) {}\n  };\n\n  vjs.TextTrackSettings.prototype.updateDisplay = function() {\n    var ttDisplay = this.player_.getChild('textTrackDisplay');\n    if (ttDisplay) {\n      ttDisplay.updateDisplay();\n    }\n  };\n\n  function getSelectedOptionValue(target) {\n    var selectedOption;\n    // not all browsers support selectedOptions, so, fallback to options\n    if (target.selectedOptions) {\n      selectedOption = target.selectedOptions[0];\n    } else if (target.options) {\n      selectedOption = target.options[target.options.selectedIndex];\n    }\n\n    return selectedOption.value;\n  }\n\n  function setSelectedOption(target, value) {\n    var i, option;\n\n    if (!value) {\n      return;\n    }\n\n    for (i = 0; i < target.options.length; i++) {\n      option = target.options[i];\n      if (option.value === value) {\n        break;\n      }\n    }\n\n    target.selectedIndex = i;\n  }\n\n  function captionOptionsMenuTemplate() {\n    return '<div class=\"vjs-tracksettings\">' +\n        '<div class=\"vjs-tracksettings-colors\">' +\n          '<div class=\"vjs-fg-color vjs-tracksetting\">' +\n              '<label class=\"vjs-label\">Foreground</label>' +\n              '<select>' +\n                '<option value=\"\">---</option>' +\n                '<option value=\"#FFF\">White</option>' +\n                '<option value=\"#000\">Black</option>' +\n                '<option value=\"#F00\">Red</option>' +\n                '<option value=\"#0F0\">Green</option>' +\n                '<option value=\"#00F\">Blue</option>' +\n                '<option value=\"#FF0\">Yellow</option>' +\n                '<option value=\"#F0F\">Magenta</option>' +\n                '<option value=\"#0FF\">Cyan</option>' +\n              '</select>' +\n              '<span class=\"vjs-text-opacity vjs-opacity\">' +\n                '<select>' +\n                  '<option value=\"\">---</option>' +\n                  '<option value=\"1\">Opaque</option>' +\n                  '<option value=\"0.5\">Semi-Opaque</option>' +\n                '</select>' +\n              '</span>' +\n          '</div>' + // vjs-fg-color\n          '<div class=\"vjs-bg-color vjs-tracksetting\">' +\n              '<label class=\"vjs-label\">Background</label>' +\n              '<select>' +\n                '<option value=\"\">---</option>' +\n                '<option value=\"#FFF\">White</option>' +\n                '<option value=\"#000\">Black</option>' +\n                '<option value=\"#F00\">Red</option>' +\n                '<option value=\"#0F0\">Green</option>' +\n                '<option value=\"#00F\">Blue</option>' +\n                '<option value=\"#FF0\">Yellow</option>' +\n                '<option value=\"#F0F\">Magenta</option>' +\n                '<option value=\"#0FF\">Cyan</option>' +\n              '</select>' +\n              '<span class=\"vjs-bg-opacity vjs-opacity\">' +\n                  '<select>' +\n                    '<option value=\"\">---</option>' +\n                    '<option value=\"1\">Opaque</option>' +\n                    '<option value=\"0.5\">Semi-Transparent</option>' +\n                    '<option value=\"0\">Transparent</option>' +\n                  '</select>' +\n              '</span>' +\n          '</div>' + // vjs-bg-color\n          '<div class=\"window-color vjs-tracksetting\">' +\n              '<label class=\"vjs-label\">Window</label>' +\n              '<select>' +\n                '<option value=\"\">---</option>' +\n                '<option value=\"#FFF\">White</option>' +\n                '<option value=\"#000\">Black</option>' +\n                '<option value=\"#F00\">Red</option>' +\n                '<option value=\"#0F0\">Green</option>' +\n                '<option value=\"#00F\">Blue</option>' +\n                '<option value=\"#FF0\">Yellow</option>' +\n                '<option value=\"#F0F\">Magenta</option>' +\n                '<option value=\"#0FF\">Cyan</option>' +\n              '</select>' +\n              '<span class=\"vjs-window-opacity vjs-opacity\">' +\n                  '<select>' +\n                    '<option value=\"\">---</option>' +\n                    '<option value=\"1\">Opaque</option>' +\n                    '<option value=\"0.5\">Semi-Transparent</option>' +\n                    '<option value=\"0\">Transparent</option>' +\n                  '</select>' +\n              '</span>' +\n          '</div>' + // vjs-window-color\n        '</div>' + // vjs-tracksettings\n        '<div class=\"vjs-tracksettings-font\">' +\n          '<div class=\"vjs-font-percent vjs-tracksetting\">' +\n            '<label class=\"vjs-label\">Font Size</label>' +\n            '<select>' +\n              '<option value=\"0.50\">50%</option>' +\n              '<option value=\"0.75\">75%</option>' +\n              '<option value=\"1.00\" selected>100%</option>' +\n              '<option value=\"1.25\">125%</option>' +\n              '<option value=\"1.50\">150%</option>' +\n              '<option value=\"1.75\">175%</option>' +\n              '<option value=\"2.00\">200%</option>' +\n              '<option value=\"3.00\">300%</option>' +\n              '<option value=\"4.00\">400%</option>' +\n            '</select>' +\n          '</div>' + // vjs-font-percent\n          '<div class=\"vjs-edge-style vjs-tracksetting\">' +\n            '<label class=\"vjs-label\">Text Edge Style</label>' +\n            '<select>' +\n              '<option value=\"none\">None</option>' +\n              '<option value=\"raised\">Raised</option>' +\n              '<option value=\"depressed\">Depressed</option>' +\n              '<option value=\"uniform\">Uniform</option>' +\n              '<option value=\"dropshadow\">Dropshadow</option>' +\n            '</select>' +\n          '</div>' + // vjs-edge-style\n          '<div class=\"vjs-font-family vjs-tracksetting\">' +\n            '<label class=\"vjs-label\">Font Family</label>' +\n            '<select>' +\n              '<option value=\"\">Default</option>' +\n              '<option value=\"monospaceSerif\">Monospace Serif</option>' +\n              '<option value=\"proportionalSerif\">Proportional Serif</option>' +\n              '<option value=\"monospaceSansSerif\">Monospace Sans-Serif</option>' +\n              '<option value=\"proportionalSansSerif\">Proportional Sans-Serif</option>' +\n              '<option value=\"casual\">Casual</option>' +\n              '<option value=\"script\">Script</option>' +\n              '<option value=\"small-caps\">Small Caps</option>' +\n            '</select>' +\n          '</div>' + // vjs-font-family\n        '</div>' +\n      '</div>' +\n      '<div class=\"vjs-tracksettings-controls\">' +\n        '<button class=\"vjs-default-button\">Defaults</button>' +\n        '<button class=\"vjs-done-button\">Done</button>' +\n      '</div>';\n  }\n\n})();\n/**\n * @fileoverview Add JSON support\n * @suppress {undefinedVars}\n * (Compiler doesn't like JSON not being declared)\n */\n\n/**\n * Javascript JSON implementation\n * (Parse Method Only)\n * https://github.com/douglascrockford/JSON-js/blob/master/json2.js\n * Only using for parse method when parsing data-setup attribute JSON.\n * @suppress {undefinedVars}\n * @namespace\n * @private\n */\nvjs.JSON;\n\nif (typeof window.JSON !== 'undefined' && typeof window.JSON.parse === 'function') {\n  vjs.JSON = window.JSON;\n\n} else {\n  vjs.JSON = {};\n\n  var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n  /**\n   * parse the json\n   *\n   * @memberof vjs.JSON\n   * @param {String} text The JSON string to parse\n   * @param {Function=} [reviver] Optional function that can transform the results\n   * @return {Object|Array} The parsed JSON\n   */\n  vjs.JSON.parse = function (text, reviver) {\n      var j;\n\n      function walk(holder, key) {\n          var k, v, value = holder[key];\n          if (value && typeof value === 'object') {\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = walk(value, k);\n                      if (v !== undefined) {\n                          value[k] = v;\n                      } else {\n                          delete value[k];\n                      }\n                  }\n              }\n          }\n          return reviver.call(holder, key, value);\n      }\n      text = String(text);\n      cx.lastIndex = 0;\n      if (cx.test(text)) {\n          text = text.replace(cx, function (a) {\n              return '\\\\u' +\n                  ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n          });\n      }\n\n      if (/^[\\],:{}\\s]*$/\n              .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                  .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                  .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n          j = eval('(' + text + ')');\n\n          return typeof reviver === 'function' ?\n              walk({'': j}, '') : j;\n      }\n\n      throw new SyntaxError('JSON.parse(): invalid or malformed JSON data');\n  };\n}\n/**\n * @fileoverview Functions for automatically setting up a player\n * based on the data-setup attribute of the video tag\n */\n\n// Automatically set up any tags that have a data-setup attribute\nvjs.autoSetup = function(){\n  var options, mediaEl, player, i, e;\n\n  // One day, when we stop supporting IE8, go back to this, but in the meantime...*hack hack hack*\n  // var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n  // var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n  // var mediaEls = vids.concat(audios);\n\n  // Because IE8 doesn't support calling slice on a node list, we need to loop through each list of elements\n  // to build up a new, combined list of elements.\n  var vids = document.getElementsByTagName('video');\n  var audios = document.getElementsByTagName('audio');\n  var mediaEls = [];\n  if (vids && vids.length > 0) {\n    for(i=0, e=vids.length; i<e; i++) {\n      mediaEls.push(vids[i]);\n    }\n  }\n  if (audios && audios.length > 0) {\n    for(i=0, e=audios.length; i<e; i++) {\n      mediaEls.push(audios[i]);\n    }\n  }\n\n  // Check if any media elements exist\n  if (mediaEls && mediaEls.length > 0) {\n\n    for (i=0,e=mediaEls.length; i<e; i++) {\n      mediaEl = mediaEls[i];\n\n      // Check if element exists, has getAttribute func.\n      // IE seems to consider typeof el.getAttribute == 'object' instead of 'function' like expected, at least when loading the player immediately.\n      if (mediaEl && mediaEl.getAttribute) {\n\n        // Make sure this player hasn't already been set up.\n        if (mediaEl['player'] === undefined) {\n          options = mediaEl.getAttribute('data-setup');\n\n          // Check if data-setup attr exists.\n          // We only auto-setup if they've added the data-setup attr.\n          if (options !== null) {\n            // Create new video.js instance.\n            player = videojs(mediaEl);\n          }\n        }\n\n      // If getAttribute isn't defined, we need to wait for the DOM.\n      } else {\n        vjs.autoSetupTimeout(1);\n        break;\n      }\n    }\n\n  // No videos were found, so keep looping unless page is finished loading.\n  } else if (!vjs.windowLoaded) {\n    vjs.autoSetupTimeout(1);\n  }\n};\n\n// Pause to let the DOM keep processing\nvjs.autoSetupTimeout = function(wait){\n  setTimeout(vjs.autoSetup, wait);\n};\n\nif (document.readyState === 'complete') {\n  vjs.windowLoaded = true;\n} else {\n  vjs.one(window, 'load', function(){\n    vjs.windowLoaded = true;\n  });\n}\n\n// Run Auto-load players\n// You have to wait at least once in case this script is loaded after your video in the DOM (weird behavior only with minified version)\nvjs.autoSetupTimeout(1);\n/**\n * the method for registering a video.js plugin\n *\n * @param  {String} name The name of the plugin\n * @param  {Function} init The function that is run when the player inits\n */\nvjs.plugin = function(name, init){\n  vjs.Player.prototype[name] = init;\n};\n"]}